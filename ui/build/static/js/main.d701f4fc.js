/*! For license information please see main.d701f4fc.js.LICENSE.txt */
(()=>{var __webpack_modules__={18:(e,t,r)=>{"use strict";var n=r(328),i=r(876),s=n.rotl32,o=n.sum32,a=n.sum32_3,l=n.sum32_4,c=i.BlockHash;function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function u(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function f(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(h,c),t.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],h=this.h[4],O=r,v=n,y=i,b=c,w=h,k=0;k<80;k++){var S=o(s(l(r,u(k,n,i,c),e[m[k]+t],d(k)),g[k]),h);r=h,h=c,c=s(i,10),i=n,n=S,S=o(s(l(O,u(79-k,v,y,b),e[p[k]+t],f(k)),x[k]),w),O=w,w=b,b=s(y,10),y=v,v=S}S=a(this.h[1],i,b),this.h[1]=a(this.h[2],c,w),this.h[2]=a(this.h[3],h,O),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,y),this.h[0]=S},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],p=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},49:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function O(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=x.prototype;var y=v.prototype=new O;y.constructor=v,p(y,x.prototype),y.isPureReactComponent=!0;var b=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function N(e,t,n){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:r,type:e,key:o,ref:a,props:s,_owner:k.current}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var _=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,b(o)?(i="",null!=e&&(i=e.replace(_,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(j(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var h=s+A(a=e[c],c);l+=P(a,t,i,h,o)}else if(h=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof h)for(e=h.call(e),c=0;!(a=e.next()).done;)l+=P(a=a.value,t,i,h=s+A(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",function(e){return t.call(r,e,i++)}),n}function Q(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},M={transition:null},T={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:M,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,r){E(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=i,t.Profiler=o,t.PureComponent=v,t.StrictMode=s,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];i.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=N,t.createFactory=function(e){var t=N.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:Q}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return C.current.useCallback(e,t)},t.useContext=function(e){return C.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return C.current.useDeferredValue(e)},t.useEffect=function(e,t){return C.current.useEffect(e,t)},t.useId=function(){return C.current.useId()},t.useImperativeHandle=function(e,t,r){return C.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return C.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return C.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return C.current.useMemo(e,t)},t.useReducer=function(e,t,r){return C.current.useReducer(e,t,r)},t.useRef=function(e){return C.current.useRef(e)},t.useState=function(e){return C.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return C.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return C.current.useTransition()},t.version="18.3.1"},54:(e,t,r)=>{"use strict";var n=r(328),i=r(599);function s(e,t,r){if(!(this instanceof s))return new s(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=s,s.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},s.prototype.update=function(e,t){return this.inner.update(e,t),this},s.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},80:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>L,EI:()=>P,KB:()=>Q,Lv:()=>me,Oh:()=>C,Q0:()=>u,SG:()=>Ce,WD:()=>q,Xt:()=>_,Yy:()=>N,Zt:()=>ke,_Y:()=>Z,_v:()=>E,b_:()=>X,bj:()=>m,cr:()=>ge,f7:()=>se,jU:()=>$e,mv:()=>p,mz:()=>B,p9:()=>h,tp:()=>A,y9:()=>ye,yd:()=>F});var n,i=r(728),s=r(498),o=r(107),a=r(794),l=r(347);const c=new i.uY;function h(e){return s.sj.define({combine:e?t=>t.concat(e):void 0})}const u=new i.uY;class d{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.data=e,this.name=n,s.$t.prototype.hasOwnProperty("tree")||Object.defineProperty(s.$t.prototype,"tree",{get(){return p(this)}}),this.parser=t,this.extension=[S.of(this),s.$t.languageData.of((e,t,r)=>{let n=f(e,t,r),i=n.type.prop(c);if(!i)return[];let s=e.facet(i),o=n.type.prop(u);if(o){let i=n.resolve(t-n.from,r);for(let t of o)if(t.test(i,e)){let r=e.facet(t.facet);return"replace"==t.type?r:r.concat(s)}}return s})].concat(r)}isActiveAt(e,t){return f(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1).type.prop(c)==this.data}findRegions(e){let t=e.facet(S);if((null===t||void 0===t?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],n=(e,t)=>{if(e.prop(c)==this.data)return void r.push({from:t,to:t+e.length});let s=e.prop(i.uY.mounted);if(s){if(s.tree.prop(c)==this.data){if(s.overlay)for(let e of s.overlay)r.push({from:e.from+t,to:e.to+t});else r.push({from:t,to:t+e.length});return}if(s.overlay){let e=r.length;if(n(s.tree,s.overlay[0].from+t),r.length>e)return}}for(let r=0;r<e.children.length;r++){let s=e.children[r];s instanceof i.PH&&n(s,e.positions[r]+t)}};return n(p(e),0),r}get allowsNesting(){return!0}}function f(e,t,r){let n=e.facet(S),s=p(e).topNode;if(!n||n.allowsNesting)for(let o=s;o;o=o.enter(t,r,i.Qj.ExcludeBuffers))o.type.isTop&&(s=o);return s}d.setState=s.Pe.define();class m extends d{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=h(e.languageData);return new m(t,e.parser.configure({props:[c.add(e=>e.isTop?t:void 0)]}),e.name)}configure(e,t){return new m(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function p(e){let t=e.field(d.state,!1);return t?t.tree:i.PH.empty}class g{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let x=null;class O{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,a=arguments.length>7?arguments[7]:void 0;this.parser=e,this.state=t,this.fragments=r,this.tree=n,this.treeLen=i,this.viewport=s,this.skipped=o,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new O(e,t,[],i.PH.empty,0,r,[],null)}startParse(){return this.parser.startParse(new g(this.state.doc),this.fragments)}work(e,t){return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=i.PH.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if("number"==typeof e){let t=Date.now()+e;e=()=>Date.now()>t}for(this.parse||(this.parse=this.startParse()),null!=t&&(null==this.parse.stoppedAt||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let n=this.parse.advance();if(n){if(this.fragments=this.withoutTempSkipped(i.rr.addTree(n,this.fragments,null!=this.parse.stoppedAt)),this.treeLen=null!==(r=this.parse.stoppedAt)&&void 0!==r?r:this.state.doc.length,this.tree=n,this.parse=null,!(this.treeLen<(null!==t&&void 0!==t?t:this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(i.rr.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=x;x=this;try{return e()}finally{x=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=v(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:n,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let t=[];if(e.iterChangedRanges((e,r,n,i)=>t.push({fromA:e,toA:r,fromB:n,toB:i})),r=i.rr.applyChanges(r,t),n=i.PH.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let t of this.skipped){let r=e.mapPos(t.from,1),n=e.mapPos(t.to,-1);r<n&&a.push({from:r,to:n})}}}return new O(this.parser,t,r,n,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:t,to:n}=this.skipped[r];t<e.to&&n>e.from&&(this.fragments=v(this.fragments,t,n),this.skipped.splice(r--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends i.iX{createParse(t,r,n){let s=n[0].from,o=n[n.length-1].to;return{parsedPos:s,advance(){let t=x;if(t){for(let e of n)t.tempSkipped.push(e);e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new i.PH(i.Z6.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}static get(){return x}}function v(e,t,r){return i.rr.applyChanges(e,[{fromA:t,toA:r,fromB:t,toB:r}])}class y{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new y(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=O.create(e.facet(S).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new y(r)}}d.state=s.sU.define({create:y.init,update(e,t){for(let r of t.effects)if(r.is(d.setState))return r.value;return t.startState.facet(S)!=t.state.facet(S)?y.init(t.state):e.apply(t)}});let b=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};"undefined"!=typeof requestIdleCallback&&(b=e=>{let t=-1,r=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(r):cancelIdleCallback(t)});const w="undefined"!=typeof navigator&&(null===(n=navigator.scheduling)||void 0===n?void 0:n.isInputPending)?()=>navigator.scheduling.isInputPending():null,k=o.Z9.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(d.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(d.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=b(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:n}}=this.view,i=r.field(d.state);if(i.tree==i.context.tree&&i.context.isDone(n+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!w?Math.max(25,e.timeRemaining()-5):1e9),o=i.context.treeLen<n&&r.doc.length>n+1e3,a=i.context.work(()=>w&&w()||Date.now()>s,n+(o?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:d.setState.of(new y(i.context))})),this.chunkBudget>0&&(!a||o)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(e=>(0,o.c_)(this.view.state,e)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),S=s.sj.define({combine:e=>e.length?e[0]:null,enables:e=>[d.state,k,o.Lz.contentAttributes.compute([e],t=>{let r=t.facet(e);return r&&r.name?{"data-language":r.name}:{}})]});class N{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.language=e,this.support=t,this.extension=[e,t]}}const j=s.sj.define(),_=s.sj.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function A(e){let t=e.facet(_);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function P(e,t){let r="",n=e.tabSize,i=e.facet(_)[0];if("\t"==i){for(;t>=n;)r+="\t",t-=n;i=" "}for(let s=0;s<t;s++)r+=i;return r}function E(e,t){e instanceof s.$t&&(e=new Q(e));for(let n of e.state.facet(j)){let r=n(e,t);if(void 0!==r)return r}let r=p(e.state);return r.length>=t?function(e,t,r){let n=t.resolveStack(r),i=t.resolveInner(r,-1).resolve(r,0).enterUnfinishedNodesBefore(r);if(i!=n.node){let e=[];for(let t=i;t&&!(t.from<n.node.from||t.to>n.node.to||t.from==n.node.from&&t.type==n.node.type);t=t.parent)e.push(t);for(let t=e.length-1;t>=0;t--)n={node:e[t],next:n}}return M(n,e,r)}(e,r,t):null}class Q{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.state=e,this.options=t,this.unit=A(e)}lineAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.state.doc.lineAt(e),{simulateBreak:n,simulateDoubleBreak:i}=this.options;return null!=n&&n>=r.from&&n<=r.to?i&&n==e?{text:"",from:e}:(t<0?n<e:n<=e)?{text:r.text.slice(n-r.from),from:n}:{text:r.text.slice(0,n-r.from),from:r.from}:r}textAfterPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:n}=this.lineAt(e,t);return r.slice(e-n,Math.min(r.length,e+100-n))}column(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:r,from:n}=this.lineAt(e,t),i=this.countColumn(r,e-n),s=this.options.overrideIndentation?this.options.overrideIndentation(n):-1;return s>-1&&(i+=s-this.countColumn(r,r.search(/\S|$/))),i}countColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return(0,s.y$)(e,this.state.tabSize,t)}lineIndent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,{text:r,from:n}=this.lineAt(e,t),i=this.options.overrideIndentation;if(i){let e=i(n);if(e>-1)return e}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const C=new i.uY;function M(e,t,r){for(let n=e;n;n=n.next){let e=T(n.node);if(e)return e($.create(t,r,n))}return 0}function T(e){let t=e.type.prop(C);if(t)return t;let r,n=e.firstChild;if(n&&(r=n.type.prop(i.uY.closedBy))){let t=e.lastChild,n=t&&r.indexOf(t.name)>-1;return e=>I(e,!0,1,void 0,n&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?t.from:void 0)}return null==e.parent?R:null}function R(){return 0}class $ extends Q{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new $(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(D(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return M(this.context.next,this.base,this.pos)}}function D(e,t){for(let r=t;r;r=r.parent)if(e==r)return!0;return!1}function L(e){let{closing:t,align:r=!0,units:n=1}=e;return e=>I(e,r,n,t)}function I(e,t,r,n,i){let s=e.textAfter,o=s.match(/^\s*/)[0].length,a=n&&s.slice(o,o+n.length)==n||i==e.pos+o,l=t?function(e){let t=e.node,r=t.childAfter(t.from),n=t.lastChild;if(!r)return null;let i=e.options.simulateBreak,s=e.state.doc.lineAt(r.from),o=null==i||i<=s.from?s.to:Math.min(s.to,i);for(let a=r.to;;){let e=t.childAfter(a);if(!e||e==n)return null;if(!e.type.isSkipped){if(e.from>=o)return null;let t=/^ */.exec(s.text.slice(r.to-s.from))[0].length;return{from:r.from,to:r.to+t}}a=e.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*r)}const Z=e=>e.baseIndent;function B(){let{except:e,units:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=>{let n=e&&e.test(r.textAfter);return r.baseIndent+(n?0:t*r.unit)}}const z=200;function q(){return s.$t.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let r=e.newDoc,{head:n}=e.newSelection.main,i=r.lineAt(n);if(n>i.from+z)return e;let s=r.sliceString(i.from,n);if(!t.some(e=>e.test(s)))return e;let{state:o}=e,a=-1,l=[];for(let{head:c}of o.selection.ranges){let e=o.doc.lineAt(c);if(e.from==a)continue;a=e.from;let t=E(o,e.from);if(null==t)continue;let r=/^\s*/.exec(e.text)[0],n=P(o,t);r!=n&&l.push({from:e.from,to:e.from+r.length,insert:n})}return l.length?[e,{changes:l,sequential:!0}]:e})}const U=s.sj.define(),X=new i.uY;function F(e){let t=e.firstChild,r=e.lastChild;return t&&t.to<r.from?{from:t.to,to:r.type.isError?e.to:r.from}:null}function V(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Y(e,t,r){for(let n of e.facet(U)){let i=n(e,t,r);if(i)return i}return function(e,t,r){let n=p(e);if(n.length<r)return null;let i=null;for(let s=n.resolveStack(r,1);s;s=s.next){let o=s.node;if(o.to<=r||o.from>r)continue;if(i&&o.from<t)break;let a=o.type.prop(X);if(a&&(o.to<n.length-50||n.length==e.doc.length||!V(o))){let n=a(o,e);n&&n.from<=r&&n.from>=t&&n.to>r&&(i=n)}}return i}(e,t,r)}function W(e,t){let r=t.mapPos(e.from,1),n=t.mapPos(e.to,-1);return r>=n?void 0:{from:r,to:n}}const G=s.Pe.define({map:W}),H=s.Pe.define({map:W});function K(e){let t=[];for(let{head:r}of e.state.selection.ranges)t.some(e=>e.from<=r&&e.to>=r)||t.push(e.lineBlockAt(r));return t}const J=s.sU.define({create:()=>o.NZ.none,update(e,t){t.isUserEvent("delete")&&t.changes.iterChangedRanges((t,r)=>e=ee(e,t,r)),e=e.map(t.changes);for(let r of t.effects)if(r.is(G)&&!re(e,r.value.from,r.value.to)){let{preparePlaceholder:n}=t.state.facet(ae),i=n?o.NZ.replace({widget:new ue(n(t.state,r.value))}):he;e=e.update({add:[i.range(r.value.from,r.value.to)]})}else r.is(H)&&(e=e.update({filter:(e,t)=>r.value.from!=e||r.value.to!=t,filterFrom:r.value.from,filterTo:r.value.to}));return t.selection&&(e=ee(e,t.selection.main.head)),e},provide:e=>o.Lz.decorations.from(e),toJSON(e,t){let r=[];return e.between(0,t.doc.length,(e,t)=>{r.push(e,t)}),r},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let r=0;r<e.length;){let n=e[r++],i=e[r++];if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(he.range(n,i))}return o.NZ.set(t,!0)}});function ee(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=!1;return e.between(t,r,(e,i)=>{e<r&&i>t&&(n=!0)}),n?e.update({filterFrom:t,filterTo:r,filter:(e,n)=>e>=r||n<=t}):e}function te(e,t,r){var n;let i=null;return null===(n=e.field(J,!1))||void 0===n||n.between(t,r,(e,t)=>{(!i||i.from>e)&&(i={from:e,to:t})}),i}function re(e,t,r){let n=!1;return e.between(t,t,(e,i)=>{e==t&&i==r&&(n=!0)}),n}function ne(e,t){return e.field(J,!1)?t:t.concat(s.Pe.appendConfig.of(le()))}function ie(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return o.Lz.announce.of(`${e.state.phrase(r?"Folded lines":"Unfolded lines")} ${n} ${e.state.phrase("to")} ${i}.`)}const se=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:e=>{for(let t of K(e)){let r=Y(e.state,t.from,t.to);if(r)return e.dispatch({effects:ne(e.state,[G.of(r),ie(e,r)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:e=>{if(!e.state.field(J,!1))return!1;let t=[];for(let r of K(e)){let n=te(e.state,r.from,r.to);n&&t.push(H.of(n),ie(e,n,!1))}return t.length&&e.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:e=>{let{state:t}=e,r=[];for(let n=0;n<t.doc.length;){let i=e.lineBlockAt(n),s=Y(t,i.from,i.to);s&&r.push(G.of(s)),n=(s?e.lineBlockAt(s.to):i).to+1}return r.length&&e.dispatch({effects:ne(e.state,r)}),!!r.length}},{key:"Ctrl-Alt-]",run:e=>{let t=e.state.field(J,!1);if(!t||!t.size)return!1;let r=[];return t.between(0,e.state.doc.length,(e,t)=>{r.push(H.of({from:e,to:t}))}),e.dispatch({effects:r}),!0}}],oe={placeholderDOM:null,preparePlaceholder:null,placeholderText:"\u2026"},ae=s.sj.define({combine:e=>(0,s.QR)(e,oe)});function le(e){let t=[J,pe];return e&&t.push(ae.of(e)),t}function ce(e,t){let{state:r}=e,n=r.facet(ae),i=t=>{let r=e.lineBlockAt(e.posAtDOM(t.target)),n=te(e.state,r.from,r.to);n&&e.dispatch({effects:H.of(n)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,i,t);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",r.phrase("folded code")),s.title=r.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const he=o.NZ.replace({widget:new class extends o.xO{toDOM(e){return ce(e,null)}}});class ue extends o.xO{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return ce(e,this.value)}}const de={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class fe extends o.wJ{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function me(){let e={...de,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},t=new fe(e,!0),r=new fe(e,!1),n=o.Z9.fromClass(class{constructor(e){this.from=e.viewport.from,this.markers=this.buildMarkers(e)}update(t){(t.docChanged||t.viewportChanged||t.startState.facet(S)!=t.state.facet(S)||t.startState.field(J,!1)!=t.state.field(J,!1)||p(t.startState)!=p(t.state)||e.foldingChanged(t))&&(this.markers=this.buildMarkers(t.view))}buildMarkers(e){let n=new s.vB;for(let i of e.viewportLineBlocks){let s=te(e.state,i.from,i.to)?r:Y(e.state,i.from,i.to)?t:null;s&&n.add(i.from,i.from,s)}return n.finish()}}),{domEventHandlers:i}=e;return[n,(0,o.cU)({class:"cm-foldGutter",markers(e){var t;return(null===(t=e.plugin(n))||void 0===t?void 0:t.markers)||s.om.empty},initialSpacer:()=>new fe(e,!1),domEventHandlers:{...i,click:(e,t,r)=>{if(i.click&&i.click(e,t,r))return!0;let n=te(e.state,t.from,t.to);if(n)return e.dispatch({effects:H.of(n)}),!0;let s=Y(e.state,t.from,t.to);return!!s&&(e.dispatch({effects:G.of(s)}),!0)}}}),le()]}const pe=o.Lz.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class ge{constructor(e,t){let r;function n(e){let t=l.G.newName();return(r||(r=Object.create(null)))["."+t]=e,t}this.specs=e;const i="string"==typeof t.all?t.all:t.all?n(t.all):void 0,s=t.scope;this.scope=s instanceof d?e=>e.prop(c)==s.data:s?e=>e==s:void 0,this.style=(0,a.az)(e.map(e=>({tag:e.tag,class:e.class||n(Object.assign({},e,{tag:null}))})),{all:i}).style,this.module=r?new l.G(r):null,this.themeType=t.themeType}static define(e,t){return new ge(e,t||{})}}const xe=s.sj.define(),Oe=s.sj.define({combine:e=>e.length?[e[0]]:null});function ve(e){let t=e.facet(xe);return t.length?t:e.facet(Oe)}function ye(e,t){let r,n=[we];return e instanceof ge&&(e.module&&n.push(o.Lz.styleModule.of(e.module)),r=e.themeType),(null===t||void 0===t?void 0:t.fallback)?n.push(Oe.of(e)):r?n.push(xe.computeN([o.Lz.darkTheme],t=>t.facet(o.Lz.darkTheme)==("dark"==r)?[e]:[])):n.push(xe.of(e)),n}class be{constructor(e){this.markCache=Object.create(null),this.tree=p(e.state),this.decorations=this.buildDeco(e,ve(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=p(e.state),r=ve(e.state),n=r!=ve(e.startState),{viewport:i}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!n&&t.type==this.tree.type&&s>=i.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||n)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=i.to)}buildDeco(e,t){if(!t||!this.tree.length)return o.NZ.none;let r=new s.vB;for(let{from:n,to:i}of e.visibleRanges)(0,a.DM)(this.tree,t,(e,t,n)=>{r.add(e,t,this.markCache[n]||(this.markCache[n]=o.NZ.mark({class:n})))},n,i);return r.finish()}}const we=s.Nb.high(o.Z9.fromClass(be,{decorations:e=>e.decorations})),ke=ge.define([{tag:a._A.meta,color:"#404740"},{tag:a._A.link,textDecoration:"underline"},{tag:a._A.heading,textDecoration:"underline",fontWeight:"bold"},{tag:a._A.emphasis,fontStyle:"italic"},{tag:a._A.strong,fontWeight:"bold"},{tag:a._A.strikethrough,textDecoration:"line-through"},{tag:a._A.keyword,color:"#708"},{tag:[a._A.atom,a._A.bool,a._A.url,a._A.contentSeparator,a._A.labelName],color:"#219"},{tag:[a._A.literal,a._A.inserted],color:"#164"},{tag:[a._A.string,a._A.deleted],color:"#a11"},{tag:[a._A.regexp,a._A.escape,a._A.special(a._A.string)],color:"#e40"},{tag:a._A.definition(a._A.variableName),color:"#00f"},{tag:a._A.local(a._A.variableName),color:"#30a"},{tag:[a._A.typeName,a._A.namespace],color:"#085"},{tag:a._A.className,color:"#167"},{tag:[a._A.special(a._A.variableName),a._A.macroName],color:"#256"},{tag:a._A.definition(a._A.propertyName),color:"#00c"},{tag:a._A.comment,color:"#940"},{tag:a._A.invalid,color:"#f00"}]),Se=o.Lz.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Ne=1e4,je="()[]{}",_e=s.sj.define({combine:e=>(0,s.QR)(e,{afterCursor:!0,brackets:je,maxScanDistance:Ne,renderMatch:Ee})}),Ae=o.NZ.mark({class:"cm-matchingBracket"}),Pe=o.NZ.mark({class:"cm-nonmatchingBracket"});function Ee(e){let t=[],r=e.matched?Ae:Pe;return t.push(r.range(e.start.from,e.start.to)),e.end&&t.push(r.range(e.end.from,e.end.to)),t}const Qe=[s.sU.define({create:()=>o.NZ.none,update(e,t){if(!t.docChanged&&!t.selection)return e;let r=[],n=t.state.facet(_e);for(let i of t.state.selection.ranges){if(!i.empty)continue;let e=$e(t.state,i.head,-1,n)||i.head>0&&$e(t.state,i.head-1,1,n)||n.afterCursor&&($e(t.state,i.head,1,n)||i.head<t.state.doc.length&&$e(t.state,i.head+1,-1,n));e&&(r=r.concat(n.renderMatch(e,t.state)))}return o.NZ.set(r,!0)},provide:e=>o.Lz.decorations.from(e)}),Se];function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[_e.of(e),Qe]}const Me=new i.uY;function Te(e,t,r){let n=e.prop(t<0?i.uY.openedBy:i.uY.closedBy);if(n)return n;if(1==e.name.length){let n=r.indexOf(e.name);if(n>-1&&n%2==(t<0?1:0))return[r[n+t]]}return null}function Re(e){let t=e.type.prop(Me);return t?t(e.node):e}function $e(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=n.maxScanDistance||Ne,s=n.brackets||je,o=p(e),a=o.resolveInner(t,r);for(let l=a;l;l=l.parent){let n=Te(l.type,r,s);if(n&&l.from<l.to){let i=Re(l);if(i&&(r>0?t>=i.from&&t<i.to:t>i.from&&t<=i.to))return De(e,t,r,l,i,n,s)}}return function(e,t,r,n,i,s,o){let a=r<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=o.indexOf(a);if(l<0||l%2==0!=r>0)return null;let c={from:r<0?t-1:t,to:r>0?t+1:t},h=e.doc.iterRange(t,r>0?e.doc.length:0),u=0;for(let d=0;!h.next().done&&d<=s;){let e=h.value;r<0&&(d+=e.length);let s=t+d*r;for(let t=r>0?0:e.length-1,a=r>0?e.length:-1;t!=a;t+=r){let a=o.indexOf(e[t]);if(!(a<0||n.resolveInner(s+t,1).type!=i))if(a%2==0==r>0)u++;else{if(1==u)return{start:c,end:{from:s+t,to:s+t+1},matched:a>>1==l>>1};u--}}r>0&&(d+=e.length)}return h.done?{start:c,matched:!1}:null}(e,t,r,o,a.type,i,s)}function De(e,t,r,n,i,s,o){let a=n.parent,l={from:i.from,to:i.to},c=0,h=null===a||void 0===a?void 0:a.cursor();if(h&&(r<0?h.childBefore(n.from):h.childAfter(n.to)))do{if(r<0?h.to<=n.from:h.from>=n.to){if(0==c&&s.indexOf(h.type.name)>-1&&h.from<h.to){let e=Re(h);return{start:l,end:e?{from:e.from,to:e.to}:void 0,matched:!0}}if(Te(h.type,r,o))c++;else if(Te(h.type,-r,o)){if(0==c){let e=Re(h);return{start:l,end:e&&e.from<e.to?{from:e.from,to:e.to}:void 0,matched:!1}}c--}}}while(r<0?h.prevSibling():h.nextSibling());return{start:l,matched:!1}}const Le=Object.create(null),Ie=[i.Z6.none],Ze=[],Be=Object.create(null),ze=Object.create(null);for(let[Xe,Fe]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ze[Xe]=Ue(Le,Fe);function qe(e,t){Ze.indexOf(e)>-1||(Ze.push(e),console.warn(t))}function Ue(e,t){let r=[];for(let i of t.split(" ")){let t=[];for(let r of i.split(".")){let n=e[r]||a._A[r];n?"function"==typeof n?t.length?t=t.map(n):qe(r,`Modifier ${r} used at start of tag`):t.length?qe(r,`Tag ${r} used as modifier`):t=Array.isArray(n)?n:[n]:qe(r,`Unknown highlighting tag ${r}`)}for(let e of t)r.push(e)}if(!r.length)return 0;let n=t.replace(/ /g,"_"),s=n+" "+r.map(e=>e.id),o=Be[s];if(o)return o.id;let l=Be[s]=i.Z6.define({id:Ie.length,name:n,props:[(0,a.pn)({[n]:r})]});return Ie.push(l),l.id}o.OP.RTL,o.OP.LTR},107:(e,t,r)=>{"use strict";r.d(t,{NZ:()=>fe,OP:()=>Ne,Lz:()=>hn,wJ:()=>$i,Z9:()=>ht,xO:()=>ue,HJ:()=>ui,VH:()=>Mn,A:()=>zn,ld:()=>Qi,Eg:()=>Ai,cU:()=>Bi,dz:()=>ei,Wu:()=>os,N$:()=>Gn,Ux:()=>_i,w4:()=>On,$K:()=>rs,c_:()=>ot,qf:()=>ii,D4:()=>li,TS:()=>bn,S7:()=>Ri,DK:()=>bi});for(var n=r(498),i=r(347),s={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=0;c<10;c++)s[48+c]=s[96+c]=String(c);for(c=1;c<=24;c++)s[c+111]="F"+c;for(c=65;c<=90;c++)s[c]=String.fromCharCode(c+32),o[c]=String.fromCharCode(c);for(var h in s)o.hasOwnProperty(h)||(o[h]=s[h]);function u(e){let t;return t=11==e.nodeType?e.getSelection?e:e.ownerDocument:e,t.getSelection()}function d(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function f(e,t){if(!t.anchorNode)return!1;try{return d(e,t.anchorNode)}catch(r){return!1}}function m(e){return 3==e.nodeType?_(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function p(e,t,r,n){return!!r&&(O(e,t,r,n,-1)||O(e,t,r,n,1))}function g(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function x(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}function O(e,t,r,n,i){for(;;){if(e==r&&t==n)return!0;if(t==(i<0?0:v(e))){if("DIV"==e.nodeName)return!1;let r=e.parentNode;if(!r||1!=r.nodeType)return!1;t=g(e)+(i<0?0:1),e=r}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?v(e):0}}}function v(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function y(e,t){let r=t?e.left:e.right;return{left:r,right:r,top:e.top,bottom:e.bottom}}function b(e){let t=e.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function w(e,t){let r=t.width/e.offsetWidth,n=t.height/e.offsetHeight;return(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.width-e.offsetWidth)<1)&&(r=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.height-e.offsetHeight)<1)&&(n=1),{scaleX:r,scaleY:n}}class k{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?v(t):0),r,Math.min(e.focusOffset,r?v(r):0))}set(e,t,r,n){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=n}}let S,N=null;function j(e){if(e.setActive)return e.setActive();if(N)return e.focus(N);let t=[];for(let r=e;r&&(t.push(r,r.scrollTop,r.scrollLeft),r!=r.ownerDocument);r=r.parentNode);if(e.focus(null==N?{get preventScroll(){return N={preventScroll:!0},!0}}:void 0),!N){N=!1;for(let e=0;e<t.length;){let r=t[e++],n=t[e++],i=t[e++];r.scrollTop!=n&&(r.scrollTop=n),r.scrollLeft!=i&&(r.scrollLeft=i)}}}function _(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=S||(S=document.createRange());return n.setEnd(e,r),n.setStart(e,t),n}function A(e,t,r,n){let i={key:t,code:t,keyCode:r,which:r,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,e.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,e.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function P(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function E(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}function Q(e,t){for(let r=e,n=t;;){if(3==r.nodeType&&n>0)return{node:r,offset:n};if(1==r.nodeType&&n>0){if("false"==r.contentEditable)return null;r=r.childNodes[n-1],n=v(r)}else{if(!r.parentNode||x(r))return null;n=g(r),r=r.parentNode}}}function C(e,t){for(let r=e,n=t;;){if(3==r.nodeType&&n<r.nodeValue.length)return{node:r,offset:n};if(1==r.nodeType&&n<r.childNodes.length){if("false"==r.contentEditable)return null;r=r.childNodes[n],n=0}else{if(!r.parentNode||x(r))return null;n=g(r)+1,r=r.parentNode}}}class M{constructor(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.node=e,this.offset=t,this.precise=r}static before(e,t){return new M(e.parentNode,g(e),t)}static after(e,t){return new M(e.parentNode,g(e)+1,t)}}const T=[];class R{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let r,n=this.dom,i=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(r=i?i.nextSibling:n.firstChild)){let e=R.get(r);(!e||!e.parent&&e.canReuseDOM(s))&&s.reuseDOM(r)}s.sync(e,t),s.flags&=-8}if(r=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&r!=s.dom&&(t.written=!0),s.dom.parentNode==n)for(;r&&r!=s.dom;)r=$(r);else n.insertBefore(s.dom,r);i=s.dom}for(r=i?i.nextSibling:n.firstChild,r&&t&&t.node==n&&(t.written=!0);r;)r=$(r)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let n=0==v(e)?0:0==t?-1:1;for(;;){let t=e.parentNode;if(t==this.dom)break;0==n&&t.firstChild!=t.lastChild&&(n=e==t.firstChild?-1:1),e=t}r=n<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!R.get(r);)r=r.nextSibling;if(!r)return this.length;for(let n=0,i=0;;n++){let e=this.children[n];if(e.dom==r)return i;i+=e.length+e.breakAfter}}domBoundsAround(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=-1,i=-1,s=-1,o=-1;for(let a=0,l=r,c=r;a<this.children.length;a++){let r=this.children[a],h=l+r.length;if(l<e&&h>t)return r.domBoundsAround(e,t,l);if(h>=e&&-1==n&&(n=a,i=l),l>t&&r.dom.parentNode==this.dom){s=a,o=c;break}c=h,l=h+r.breakAfter}return{from:i,to:o<0?r+this.length:o,startDOM:(n?this.children[n-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T;this.markDirty();for(let n=e;n<t;n++){let e=this.children[n];e.parent==this&&r.indexOf(e)<0&&e.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let n=0;n<r.length;n++)r[n].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new D(this.children,e,this.children.length)}childPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,n,i,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function $(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}R.prototype.breakAfter=0;class D{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for(;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function L(e,t,r,n,i,s,o,a,l){let{children:c}=e,h=c.length?c[t]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(t==n&&h&&!o&&!d&&s.length<2&&h.merge(r,i,s.length?u:null,0==r,a,l))){if(n<c.length){let e=c[n];e&&(i<e.length||e.breakAfter&&(null===u||void 0===u?void 0:u.breakAfter))?(t==n&&(e=e.split(i),i=0),!d&&u&&e.merge(0,i,u,!0,0,l)?s[s.length-1]=e:((i||e.children.length&&!e.children[0].length)&&e.merge(0,i,null,!1,0,l),s.push(e))):(null===e||void 0===e?void 0:e.breakAfter)&&(u?u.breakAfter=1:o=1),n++}for(h&&(h.breakAfter=o,r>0&&(!o&&s.length&&h.merge(r,h.length,s[0],!1,a,0)?h.breakAfter=s.shift().breakAfter:(r<h.length||h.children.length&&0==h.children[h.children.length-1].length)&&h.merge(r,h.length,null,!1,a,0),t++));t<n&&s.length;)if(c[n-1].become(s[s.length-1]))n--,s.pop(),l=s.length?0:a;else{if(!c[t].become(s[0]))break;t++,s.shift(),a=s.length?0:l}!s.length&&t&&n<c.length&&!c[t-1].breakAfter&&c[n].merge(0,0,c[t-1],!1,a,l)&&t--,(t<n||s.length)&&e.replaceChildren(t,n,s)}}function I(e,t,r,n,i,s){let o=e.childCursor(),{i:a,off:l}=o.findPos(r,1),{i:c,off:h}=o.findPos(t,-1),u=t-r;for(let d of n)u+=d.length;e.length+=u,L(e,c,h,a,l,n,0,i,s)}let Z="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},B="undefined"!=typeof document?document:{documentElement:{style:{}}};const z=/Edge\/(\d+)/.exec(Z.userAgent),q=/MSIE \d/.test(Z.userAgent),U=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Z.userAgent),X=!!(q||U||z),F=!X&&/gecko\/(\d+)/i.test(Z.userAgent),V=!X&&/Chrome\/(\d+)/.exec(Z.userAgent),Y="webkitFontSmoothing"in B.documentElement.style,W=!X&&/Apple Computer/.test(Z.vendor),G=W&&(/Mobile\/\w+/.test(Z.userAgent)||Z.maxTouchPoints>2);var H={mac:G||/Mac/.test(Z.platform),windows:/Win/.test(Z.platform),linux:/Linux|X11/.test(Z.platform),ie:X,ie_version:q?B.documentMode||6:U?+U[1]:z?+z[1]:0,gecko:F,gecko_version:F?+(/Firefox\/(\d+)/.exec(Z.userAgent)||[0,0])[1]:0,chrome:!!V,chrome_version:V?+V[1]:0,ios:G,android:/Android\b/.test(Z.userAgent),webkit:Y,safari:W,webkit_version:Y?+(/\bAppleWebKit\/(\d+)/.exec(Z.userAgent)||[0,0])[1]:0,tabSize:null!=B.documentElement.style.tabSize?"tab-size":"-moz-tab-size"};class K extends R{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){3==e.nodeType&&this.createDOM(e)}merge(e,t,r){return!(8&this.flags||r&&(!(r instanceof K)||this.length-(t-e)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new K(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new M(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(e,t,r){let n=e.nodeValue.length;t>n&&(t=n);let i=t,s=t,o=0;0==t&&r<0||t==n&&r>=0?H.chrome||H.gecko||(t?(i--,o=1):s<n&&(s++,o=-1)):r<0?i--:s<n&&s++;let a=_(e,i,s).getClientRects();if(!a.length)return null;let l=a[(o?o<0:r>=0)?0:a.length-1];H.safari&&!o&&0==l.width&&(l=Array.prototype.find.call(a,e=>e.width)||l);return o?y(l,o<0):l||null}(this.dom,e,t)}}class J extends R{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(),this.mark=e,this.children=t,this.length=r;for(let n of t)n.setParent(this)}setAttrs(e){if(P(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,n,i,s){return(!r||!(!(r instanceof J&&r.mark.eq(this.mark))||e&&i<=0||t<this.length&&s<=0))&&(I(this,e,t,r?r.children.slice():[],i-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,n=-1,i=0;for(let o of this.children){let s=r+o.length;s>e&&t.push(r<e?o.split(e-r):o),n<0&&r>=e&&(n=i),r=s,i++}let s=this.length-e;return this.length=e,n>-1&&(this.children.length=n,this.markDirty()),new J(this.mark,t,s)}domAtPos(e){return re(this,e)}coordsAt(e,t){return ie(this,e,t)}}class ee extends R{static create(e,t,r){return new ee(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=ee.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,n,i,s){return!(r&&(!(r instanceof ee&&this.widget.compare(r.widget))||e>0&&i<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof ee&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(0==this.length)return n.EY.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):n.EY.empty}domAtPos(e){return(this.length?0==e:this.side>0)?M.before(this.dom):M.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let n=this.dom.getClientRects(),i=null;if(!n.length)return null;let s=this.side?this.side<0:e>0;for(let o=s?n.length-1:0;i=n[o],!(e>0?0==o:o==n.length-1||i.top<i.bottom);o+=s?-1:1);return y(i,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class te extends R{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof te&&e.side==this.side}split(){return new te(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?M.before(this.dom):M.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return n.EY.empty}get isHidden(){return!0}}function re(e,t){let r=e.dom,{children:n}=e,i=0;for(let s=0;i<n.length;i++){let e=n[i],o=s+e.length;if(!(o==s&&e.getSide()<=0)){if(t>s&&t<o&&e.dom.parentNode==r)return e.domAtPos(t-s);if(t<=s)break;s=o}}for(let s=i;s>0;s--){let e=n[s-1];if(e.dom.parentNode==r)return e.domAtPos(e.length)}for(let s=i;s<n.length;s++){let e=n[s];if(e.dom.parentNode==r)return e.domAtPos(0)}return new M(r,0)}function ne(e,t,r){let n,{children:i}=e;r>0&&t instanceof J&&i.length&&(n=i[i.length-1])instanceof J&&n.mark.eq(t.mark)?ne(n,t.children[0],r-1):(i.push(t),t.setParent(e)),e.length+=t.length}function ie(e,t,r){let n=null,i=-1,s=null,o=-1;!function e(t,a){for(let l=0,c=0;l<t.children.length&&c<=a;l++){let h=t.children[l],u=c+h.length;u>=a&&(h.children.length?e(h,a-c):(!s||s.isHidden&&(r>0||se(s,h)))&&(u>a||c==u&&h.getSide()>0)?(s=h,o=a-c):(c<a||c==u&&h.getSide()<0&&!h.isHidden)&&(n=h,i=a-c)),c=u}}(e,t);let a=(r<0?n:s)||n||s;return a?a.coordsAt(Math.max(0,a==n?i:o),r):function(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let r=m(t);return r[r.length-1]||null}(e)}function se(e,t){let r=e.coordsAt(0,1),n=t.coordsAt(0,1);return r&&n&&n.top<r.bottom}function oe(e,t){for(let r in e)"class"==r&&t.class?t.class+=" "+e.class:"style"==r&&t.style?t.style+=";"+e.style:t[r]=e[r];return t}K.prototype.children=ee.prototype.children=te.prototype.children=T;const ae=Object.create(null);function le(e,t,r){if(e==t)return!0;e||(e=ae),t||(t=ae);let n=Object.keys(e),i=Object.keys(t);if(n.length-(r&&n.indexOf(r)>-1?1:0)!=i.length-(r&&i.indexOf(r)>-1?1:0))return!1;for(let s of n)if(s!=r&&(-1==i.indexOf(s)||e[s]!==t[s]))return!1;return!0}function ce(e,t,r){let n=!1;if(t)for(let i in t)r&&i in r||(n=!0,"style"==i?e.style.cssText="":e.removeAttribute(i));if(r)for(let i in r)t&&t[i]==r[i]||(n=!0,"style"==i?e.style.cssText=r[i]:e.setAttribute(i,r[i]));return n}function he(e){let t=Object.create(null);for(let r=0;r<e.attributes.length;r++){let n=e.attributes[r];t[n.name]=n.value}return t}class ue{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var de=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(de||(de={}));class fe extends n.FB{constructor(e,t,r,n){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=n}get heightRelevant(){return!1}static mark(e){return new me(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new ge(e,t,t,r,e.widget||null,!1)}static replace(e){let t,r,n=!!e.block;if(e.isBlockGap)t=-5e8,r=4e8;else{let{start:i,end:s}=xe(e,n);t=(i?n?-3e8:-1:5e8)-1,r=1+(s?n?2e8:1:-6e8)}return new ge(e,t,r,n,e.widget||null,!0)}static line(e){return new pe(e)}static set(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n.om.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}fe.none=n.om.empty;class me extends fe{constructor(e){let{start:t,end:r}=xe(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof me&&this.tagName==e.tagName&&(this.class||(null===(t=this.attrs)||void 0===t?void 0:t.class))==(e.class||(null===(r=e.attrs)||void 0===r?void 0:r.class))&&le(this.attrs,e.attrs,"class")}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}me.prototype.point=!1;class pe extends fe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof pe&&this.spec.class==e.spec.class&&le(this.spec.attributes,e.spec.attributes)}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}pe.prototype.mapMode=n.iR.TrackBefore,pe.prototype.point=!0;class ge extends fe{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?n.iR.TrackBefore:n.iR.TrackAfter:n.iR.TrackDel}get type(){return this.startSide!=this.endSide?de.WidgetRange:this.startSide<=0?de.WidgetBefore:de.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof ge&&(t=this.widget,r=e.widget,t==r||!!(t&&r&&t.compare(r)))&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide;var t,r}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function xe(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{inclusiveStart:r,inclusiveEnd:n}=e;return null==r&&(r=e.inclusive),null==n&&(n=e.inclusive),{start:null!==r&&void 0!==r?r:t,end:null!==n&&void 0!==n?n:t}}function Oe(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=r.length-1;i>=0&&r[i]+n>=e?r[i]=Math.max(r[i],t):r.push(e,t)}ge.prototype.point=!0;class ve extends R{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,n,i,s){if(r){if(!(r instanceof ve))return!1;this.dom||r.transferDOM(this)}return n&&this.setDeco(r?r.attrs:null),I(this,e,t,r?r.children.slice():[],i,s),!0}split(e){let t=new ve;if(t.breakAfter=this.breakAfter,0==this.length)return t;let{i:r,off:n}=this.childPos(e);n&&(t.append(this.children[r].split(n),0),this.children[r].merge(n,this.children[r].length,null,!1,0,0),r++);for(let i=r;i<this.children.length;i++)t.append(this.children[i],0);for(;r>0&&0==this.children[r-1].length;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){le(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){ne(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=oe(t,this.attrs||{})),r&&(this.attrs=oe({class:r},this.attrs||{}))}domAtPos(e){return re(this,e)}reuseDOM(e){"DIV"==e.nodeName&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?4&this.flags&&(P(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(ce(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let n=this.dom.lastChild;for(;n&&R.get(n)instanceof J;)n=n.lastChild;if(!n||!this.length||"BR"!=n.nodeName&&0==(null===(r=R.get(n))||void 0===r?void 0:r.isEditable)&&(!H.ios||!this.children.some(e=>e instanceof K))){let e=document.createElement("BR");e.cmIgnore=!0,this.dom.appendChild(e)}}measureTextSize(){if(0==this.children.length||this.length>20)return null;let e,t=0;for(let r of this.children){if(!(r instanceof K)||/[^ -~]/.test(r.text))return null;let n=m(r.dom);if(1!=n.length)return null;t+=n[0].width,e=n[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let r=ie(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:e}=this.parent.view.viewState,t=r.bottom-r.top;if(Math.abs(t-e.lineHeight)<2&&e.textHeight<t){let n=(t-e.textHeight)/2;return{top:r.top+n,bottom:r.bottom-n,left:r.left,right:r.left}}}return r}become(e){return e instanceof ve&&0==this.children.length&&0==e.children.length&&le(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,n=0;r<e.children.length;r++){let i=e.children[r],s=n+i.length;if(s>=t){if(i instanceof ve)return i;if(s>t)break}n=s+i.breakAfter}return null}}class ye extends R{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,n,i,s){return!(r&&(!(r instanceof ye&&this.widget.compare(r.widget))||e>0&&i<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return 0==e?M.before(this.dom):M.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new ye(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return T}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):n.EY.empty}domBoundsAround(){return null}become(e){return e instanceof ye&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof be?null:y(this.dom.getBoundingClientRect(),this.length?0==e:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t!=r&&(e<0?t<0:r>0)}}class be extends ue{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class we{constructor(e,t,r,n){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=n,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ye&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new ve),this.atCursorPos=!0),this.curLine}flushBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(ke(new te(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof ye||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:t,lineBreak:r,done:n}=this.cursor.next(this.skip);if(this.skip=0,n)throw new Error("Ran out of text content when drawing inline views");if(r){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=t,this.textOff=0}let n=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(ke(new K(this.text.slice(this.textOff,this.textOff+n)),t),r),this.atCursorPos=!0,this.textOff+=n,e-=n,r=0}}span(e,t,r,n){this.buildText(t-e,r,n),this.pos=t,this.openStart<0&&(this.openStart=n)}point(e,t,r,n,i,s){if(this.disallowBlockEffectsFor[s]&&r instanceof ge){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let o=t-e;if(r instanceof ge)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ye(r.widget||Se.block,o,r));else{let s=ee.create(r.widget||Se.inline,o,o?0:r.startSide),a=this.atCursorPos&&!s.isEditable&&i<=n.length&&(e<t||r.startSide>0),l=!s.isEditable&&(e<t||i>n.length||r.startSide<=0),c=this.getLine();2!=this.pendingBuffer||a||s.isEditable||(this.pendingBuffer=0),this.flushBuffer(n),a&&(c.append(ke(new te(1),n),i),i=n.length+Math.max(0,i-n.length)),c.append(ke(s,n),i),this.atCursorPos=l,this.pendingBuffer=l?e<t||i>n.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=n.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);o&&(this.textOff+o<=this.text.length?this.textOff+=o:(this.skip+=o-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}static build(e,t,r,i,s){let o=new we(e,t,r,s);return o.openEnd=n.om.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function ke(e,t){for(let r of t)e=new J(r,[e],e.length);return e}class Se extends ue{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Se.inline=new Se("span"),Se.block=new Se("div");var Ne=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(Ne||(Ne={}));const je=Ne.LTR,_e=Ne.RTL;function Ae(e){let t=[];for(let r=0;r<e.length;r++)t.push(1<<+e[r]);return t}const Pe=Ae("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ee=Ae("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Qe=Object.create(null),Ce=[];for(let as of["()","[]","{}"]){let e=as.charCodeAt(0),t=as.charCodeAt(1);Qe[e]=t,Qe[t]=-e}function Me(e){return e<=247?Pe[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?Ee[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const Te=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Re{get dir(){return this.level%2?_e:je}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,n){let i=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=t&&o.to>=t){if(o.level==r)return s;(i<0||(0!=n?n<0?o.from<t:o.to>t:e[i].level>o.level))&&(i=s)}}if(i<0)throw new RangeError("Index out of range");return i}}function $e(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!$e(n.inner,i.inner))return!1}return!0}const De=[];function Le(e,t,r,n,i,s,o){let a=n%2?2:1;if(n%2==i%2)for(let l=t,c=0;l<r;){let t=!0,h=!1;if(c==s.length||l<s[c].from){let e=De[l];e!=a&&(t=!1,h=16==e)}let u=t||1!=a?null:[],d=t?n:n+1,f=l;e:for(;;)if(c<s.length&&f==s[c].from){if(h)break e;let m=s[c];if(!t)for(let e=m.to,t=c+1;;){if(e==r)break e;if(!(t<s.length&&s[t].from==e)){if(De[e]==a)break e;break}e=s[t++].to}if(c++,u)u.push(m);else{m.from>l&&o.push(new Re(l,m.from,d)),Ie(e,m.direction==je!=!(d%2)?n+1:n,i,m.inner,m.from,m.to,o),l=m.to}f=m.to}else{if(f==r||(t?De[f]!=a:De[f]==a))break;f++}u?Le(e,l,f,n+1,i,u,o):l<f&&o.push(new Re(l,f,d)),l=f}else for(let l=r,c=s.length;l>t;){let r=!0,h=!1;if(!c||l>s[c-1].to){let e=De[l-1];e!=a&&(r=!1,h=16==e)}let u=r||1!=a?null:[],d=r?n:n+1,f=l;e:for(;;)if(c&&f==s[c-1].to){if(h)break e;let m=s[--c];if(!r)for(let e=m.from,r=c;;){if(e==t)break e;if(!r||s[r-1].to!=e){if(De[e-1]==a)break e;break}e=s[--r].from}if(u)u.push(m);else{m.to<l&&o.push(new Re(m.to,l,d)),Ie(e,m.direction==je!=!(d%2)?n+1:n,i,m.inner,m.from,m.to,o),l=m.from}f=m.from}else{if(f==t||(r?De[f-1]!=a:De[f-1]==a))break;f--}u?Le(e,f,l,n+1,i,u,o):f<l&&o.push(new Re(f,l,d)),l=f}}function Ie(e,t,r,n,i,s,o){let a=t%2?2:1;!function(e,t,r,n,i){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:t,a=s<n.length?n[s].from:r,l=s?256:i;for(let t=o,r=l,n=l;t<a;t++){let i=Me(e.charCodeAt(t));512==i?i=r:8==i&&4==n&&(i=16),De[t]=4==i?2:i,7&i&&(n=i),r=i}for(let e=o,t=l,n=l;e<a;e++){let i=De[e];if(128==i)e<a-1&&t==De[e+1]&&24&t?i=De[e]=t:De[e]=256;else if(64==i){let i=e+1;for(;i<a&&64==De[i];)i++;let s=e&&8==t||i<r&&8==De[i]?1==n?1:8:256;for(let t=e;t<i;t++)De[t]=s;e=i-1}else 8==i&&1==n&&(De[e]=1);t=i,7&i&&(n=i)}}}(e,i,s,n,a),function(e,t,r,n,i){let s=1==i?2:1;for(let o=0,a=0,l=0;o<=n.length;o++){let c=o?n[o-1].to:t,h=o<n.length?n[o].from:r;for(let t,r,n,o=c;o<h;o++)if(r=Qe[t=e.charCodeAt(o)])if(r<0){for(let e=a-3;e>=0;e-=3)if(Ce[e+1]==-r){let t=Ce[e+2],r=2&t?i:4&t?1&t?s:i:0;r&&(De[o]=De[Ce[e]]=r),a=e;break}}else{if(189==Ce.length)break;Ce[a++]=o,Ce[a++]=t,Ce[a++]=l}else if(2==(n=De[o])||1==n){let e=n==i;l=e?0:1;for(let t=a-3;t>=0;t-=3){let r=Ce[t+2];if(2&r)break;if(e)Ce[t+2]|=2;else{if(4&r)break;Ce[t+2]|=4}}}}}(e,i,s,n,a),function(e,t,r,n){for(let i=0,s=n;i<=r.length;i++){let o=i?r[i-1].to:e,a=i<r.length?r[i].from:t;for(let l=o;l<a;){let o=De[l];if(256==o){let o=l+1;for(;;)if(o==a){if(i==r.length)break;o=r[i++].to,a=i<r.length?r[i].from:t}else{if(256!=De[o])break;o++}let c=1==s,h=c==(1==(o<t?De[o]:n))?c?1:2:n;for(let t=o,n=i,s=n?r[n-1].to:e;t>l;)t==s&&(t=r[--n].from,s=n?r[n-1].to:e),De[--t]=h;l=o}else s=o,l++}}}(i,s,n,a),Le(e,i,s,t,r,n,o)}function Ze(e,t,r){if(!e)return[new Re(0,0,t==_e?1:0)];if(t==je&&!r.length&&!Te.test(e))return Be(e.length);if(r.length)for(;e.length>De.length;)De[De.length]=256;let n=[],i=t==je?0:1;return Ie(e,i,i,r,0,e.length,n),n}function Be(e){return[new Re(0,e,0)]}let ze="";function qe(e,t,r,i,s){var o;let a=i.head-e.from,l=Re.find(t,a,null!==(o=i.bidiLevel)&&void 0!==o?o:-1,i.assoc),c=t[l],h=c.side(s,r);if(a==h){let e=l+=s?1:-1;if(e<0||e>=t.length)return null;c=t[l=e],a=c.side(!s,r),h=c.side(s,r)}let u=(0,n.zK)(e.text,a,c.forward(s,r));(u<c.from||u>c.to)&&(u=h),ze=e.text.slice(Math.min(a,u),Math.max(a,u));let d=l==(s?t.length-1:0)?null:t[l+(s?1:-1)];return d&&u==h&&d.level+(s?0:1)<c.level?n.OF.cursor(d.side(!s,r)+e.from,d.forward(s,r)?1:-1,d.level):n.OF.cursor(u+e.from,c.forward(s,r)?-1:1,c.level)}function Ue(e,t,r){for(let n=t;n<r;n++){let t=Me(e.charCodeAt(n));if(1==t)return je;if(2==t||4==t)return _e}return je}const Xe=n.sj.define(),Fe=n.sj.define(),Ve=n.sj.define(),Ye=n.sj.define(),We=n.sj.define(),Ge=n.sj.define(),He=n.sj.define(),Ke=n.sj.define(),Je=n.sj.define(),et=n.sj.define({combine:e=>e.some(e=>e)}),tt=n.sj.define({combine:e=>e.some(e=>e)}),rt=n.sj.define();class nt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.range=e,this.y=t,this.x=r,this.yMargin=n,this.xMargin=i,this.isSnapshot=s}map(e){return e.empty?this:new nt(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new nt(n.OF.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const it=n.Pe.define({map:(e,t)=>e.map(t)}),st=n.Pe.define();function ot(e,t,r){let n=e.facet(Ye);n.length?n[0](t):window.onerror&&window.onerror(String(t),r,void 0,void 0,t)||(r?console.error(r+":",t):console.error(t))}const at=n.sj.define({combine:e=>!e.length||e[0]});let lt=0;const ct=n.sj.define({combine:e=>e.filter((t,r)=>{for(let n=0;n<r;n++)if(e[n].plugin==t.plugin)return!1;return!0})});class ht{constructor(e,t,r,n,i){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=n,this.baseExtensions=i(this),this.extension=this.baseExtensions.concat(ct.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(ct.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:n,provide:i,decorations:s}=t||{};return new ht(lt++,e,r,n,e=>{let t=[];return s&&t.push(mt.of(t=>{let r=t.plugin(e);return r?s(r):fe.none})),i&&t.push(i(e)),t})}static fromClass(e,t){return ht.define((t,r)=>new e(t,r),t)}}class ut{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(t){if(ot(e.state,t,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(r){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){ot(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(r){ot(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const dt=n.sj.define(),ft=n.sj.define(),mt=n.sj.define(),pt=n.sj.define(),gt=n.sj.define(),xt=n.sj.define();function Ot(e,t){let r=e.state.facet(xt);if(!r.length)return r;let i=r.map(t=>t instanceof Function?t(e):t),s=[];return n.om.spans(i,t.from,t.to,{point(){},span(e,r,n,i){let o=e-t.from,a=r-t.from,l=s;for(let s=n.length-1;s>=0;s--,i--){let e,r=n[s].spec.bidiIsolate;if(null==r&&(r=Ue(t.text,o,a)),i>0&&l.length&&(e=l[l.length-1]).to==o&&e.direction==r)e.to=a,l=e.inner;else{let e={from:o,to:a,direction:r,inner:[]};l.push(e),l=e.inner}}}}),s}const vt=n.sj.define();function yt(e){let t=0,r=0,n=0,i=0;for(let s of e.state.facet(vt)){let o=s(e);o&&(null!=o.left&&(t=Math.max(t,o.left)),null!=o.right&&(r=Math.max(r,o.right)),null!=o.top&&(n=Math.max(n,o.top)),null!=o.bottom&&(i=Math.max(i,o.bottom)))}return{left:t,right:r,top:n,bottom:i}}const bt=n.sj.define();class wt{constructor(e,t,r,n){this.fromA=e,this.toA=t,this.fromB=r,this.toB=n}join(e){return new wt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let n=e[t-1];if(!(n.fromA>r.toA)){if(n.toA<r.fromA)break;r=r.join(n),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(0==t.length)return e;let r=[];for(let n=0,i=0,s=0,o=0;;n++){let a=n==e.length?null:e[n],l=s-o,c=a?a.fromB:1e9;for(;i<t.length&&t[i]<c;){let e=t[i],n=t[i+1],s=Math.max(o,e),a=Math.min(c,n);if(s<=a&&new wt(s+l,a+l,s,a).addToSet(r),n>c)break;i+=2}if(!a)return r;new wt(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),s=a.toA,o=a.toB}}}class kt{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=n.VR.empty(this.startState.doc.length);for(let n of r)this.changes=this.changes.compose(n.changes);let i=[];this.changes.iterChangedRanges((e,t,r,n)=>i.push(new wt(e,t,r,n))),this.changedRanges=i}static create(e,t,r){return new kt(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return 0==this.flags&&0==this.transactions.length}}class St extends R{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=fe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new ve],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new wt(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(e=>{let{fromA:t,toA:r}=e;return r<this.minWidthFrom||t>this.minWidthTo})?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&((null===(t=this.domChanged)||void 0===t?void 0:t.newSel)?i=this.domChanged.newSel.head:function(e,t){let r=!1;t&&e.iterChangedRanges((e,n)=>{e<t.to&&n>t.from&&(r=!0)});return r}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));let s=i>-1?function(e,t,r){let n=Nt(e,r);if(!n)return null;let{node:i,from:s,to:o}=n,a=i.nodeValue;if(/[\n\r]/.test(a))return null;if(e.state.doc.sliceString(n.from,n.to)!=a)return null;let l=t.invertedDesc,c=new wt(l.mapPos(s),l.mapPos(o),s,o),h=[];for(let u=i.parentNode;;u=u.parentNode){let t=R.get(u);if(t instanceof J)h.push({node:u,deco:t.mark});else{if(t instanceof ve||"DIV"==u.nodeName&&u.parentNode==e.contentDOM)return{range:c,text:i,marks:h,line:u};if(u==e.contentDOM)return null;h.push({node:u,deco:new me({inclusive:!0,attributes:he(u),tagName:u.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:t,to:n}=this.hasComposition;r=new wt(t,n,e.changes.mapPos(t,-1),e.changes.mapPos(n,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(H.ie||H.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=function(e,t,r){let i=new jt;return n.om.compare(e,t,r,i),i.changes}(this.decorations,this.updateDeco(),e.changes);return r=wt.extendWithRanges(r,o),!!(7&this.flags||0!=r.length)&&(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:n}=this.view;n.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let e=H.chrome||H.ios?{node:n.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,e),this.flags&=-8,e&&(e.written||n.selectionRange.focusNode!=e.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(e=>e.flags&=-9);let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ye&&s.widget instanceof be&&i.push(s.dom);n.updateGaps(i)}updateChildren(e,t,r){let n=r?r.range.addToSet(e.slice()):e,i=this.childCursor(t);for(let s=n.length-1;;s--){let e=s>=0?n[s]:null;if(!e)break;let t,o,a,l,{fromA:c,toA:h,fromB:u,toB:d}=e;if(r&&r.range.fromB<d&&r.range.toB>u){let e=we.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),n=we.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);o=e.breakAtStart,a=e.openStart,l=n.openEnd;let i=this.compositionView(r);n.breakAtStart?i.breakAfter=1:n.content.length&&i.merge(i.length,i.length,n.content[0],!1,n.openStart,0)&&(i.breakAfter=n.content[0].breakAfter,n.content.shift()),e.content.length&&i.merge(0,0,e.content[e.content.length-1],!0,0,e.openEnd)&&e.content.pop(),t=e.content.concat(i).concat(n.content)}else({content:t,breakAtStart:o,openStart:a,openEnd:l}=we.build(this.view.state.doc,u,d,this.decorations,this.dynamicDecorationMap));let{i:f,off:m}=i.findPos(h,1),{i:p,off:g}=i.findPos(c,-1);L(this,p,g,f,m,t,o,a,l)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let e of t.effects)e.is(st)&&(this.editContextFormatting=e.value)}compositionView(e){let t=new K(e.text.nodeValue);t.flags|=8;for(let{deco:n}of e.marks)t=new J(n,[t],t.length);let r=new ve;return r.append(t,0),r}fixCompositionDOM(e){let t=(e,t)=>{t.flags|=8|(t.children.some(e=>7&e.flags)?1:0),this.markedForComposition.add(t);let r=R.get(e);r&&r!=t&&(r.dom=null),t.setDOM(e)},r=this.childPos(e.range.fromB,1),n=this.children[r.i];t(e.line,n);for(let i=e.marks.length-1;i>=-1;i--)r=n.childPos(r.off,1),n=n.children[r.i],t(i>=0?e.marks[i].node:e.text,n)}updateSelection(){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let t=this.view.root.activeElement,r=t==this.dom,n=!r&&!(this.view.state.facet(at)||this.dom.tabIndex>-1)&&f(this.dom,this.view.observer.selectionRange)&&!(t&&this.dom.contains(t));if(!(r||e||n))return;let i=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,o=this.moveToLine(this.domAtPos(s.anchor)),a=s.empty?o:this.moveToLine(this.domAtPos(s.head));if(H.gecko&&s.empty&&!this.hasComposition&&(1==(l=o).node.nodeType&&l.node.firstChild&&(0==l.offset||"false"==l.node.childNodes[l.offset-1].contentEditable)&&(l.offset==l.node.childNodes.length||"false"==l.node.childNodes[l.offset].contentEditable))){let e=document.createTextNode("");this.view.observer.ignore(()=>o.node.insertBefore(e,o.node.childNodes[o.offset]||null)),o=a=new M(e,0),i=!0}var l;let c=this.view.observer.selectionRange;!i&&c.focusNode&&(p(o.node,o.offset,c.anchorNode,c.anchorOffset)&&p(a.node,a.offset,c.focusNode,c.focusOffset)||this.suppressWidgetCursorChange(c,s))||(this.view.observer.ignore(()=>{H.android&&H.chrome&&this.dom.contains(c.focusNode)&&function(e,t){for(let r=e;r&&r!=t;r=r.assignedSlot||r.parentNode)if(1==r.nodeType&&"false"==r.contentEditable)return!0;return!1}(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let e=u(this.view.root);if(e)if(s.empty){if(H.gecko){let e=(r=o.node,i=o.offset,1!=r.nodeType?0:(i&&"false"==r.childNodes[i-1].contentEditable?1:0)|(i<r.childNodes.length&&"false"==r.childNodes[i].contentEditable?2:0));if(e&&3!=e){let t=(1==e?Q:C)(o.node,o.offset);t&&(o=new M(t.node,t.offset))}}e.collapse(o.node,o.offset),null!=s.bidiLevel&&void 0!==e.caretBidiLevel&&(e.caretBidiLevel=s.bidiLevel)}else if(e.extend){e.collapse(o.node,o.offset);try{e.extend(a.node,a.offset)}catch(l){}}else{let t=document.createRange();s.anchor>s.head&&([o,a]=[a,o]),t.setEnd(a.node,a.offset),t.setStart(o.node,o.offset),e.removeAllRanges(),e.addRange(t)}else;var r,i;n&&this.view.root.activeElement==this.dom&&(this.dom.blur(),t&&t.focus())}),this.view.observer.setSelectionRange(o,a)),this.impreciseAnchor=o.precise?null:new M(c.anchorNode,c.anchorOffset),this.impreciseHead=a.precise?null:new M(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&p(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=u(e.root),{anchorNode:n,anchorOffset:i}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let s=ve.find(this,t.head);if(!s)return;let o=s.posAtStart;if(t.head==o||t.head==o+s.length)return;let a=this.coordsAt(t.head,-1),l=this.coordsAt(t.head,1);if(!a||!l||a.bottom>l.top)return;let c=this.domAtPos(t.head+t.assoc);r.collapse(c.node,c.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&r.collapse(n,i)}moveToLine(e){let t,r=this.dom;if(e.node!=r)return e;for(let n=e.offset;!t&&n<r.childNodes.length;n++){let e=R.get(r.childNodes[n]);e instanceof ve&&(t=e.domAtPos(0))}for(let n=e.offset-1;!t&&n>=0;n--){let e=R.get(r.childNodes[n]);e instanceof ve&&(t=e.domAtPos(e.length))}return t?new M(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let e=R.get(t);if(e&&e.rootView==this)return e;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let e=this.children[t];if(r<e.length||e instanceof ve)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,n=0;for(let i=this.length,s=this.children.length-1;s>=0;s--){let o=this.children[s],a=i-o.breakAfter,l=a-o.length;if(a<e)break;if(l<=e&&(l<e||o.covers(-1))&&(a>e||o.covers(1))&&(!r||o instanceof ve&&!(r instanceof ve&&t>=0)))r=o,n=l;else if(r&&l==e&&a==e&&o instanceof ye&&Math.abs(t)<2){if(o.deco.startSide<0)break;s&&(r=null)}i=l}return r?r.coordsAt(e-n,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof ve))return null;for(;i.children.length;){let{i:e,off:t}=i.childPos(r,1);for(;;e++){if(e==i.children.length)return null;if((i=i.children[e]).length)break}r=t}if(!(i instanceof K))return null;let s=(0,n.zK)(i.text,r);if(s==r)return null;let o=_(i.dom,r,s).getClientRects();for(let n=0;n<o.length;n++){let e=o[n];if(n==o.length-1||e.top<e.bottom&&e.left<e.right)return e}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:n}=e,i=this.view.contentDOM.clientWidth,s=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,a=this.view.textDirection==Ne.LTR;for(let l=0,c=0;c<this.children.length;c++){let e=this.children[c],h=l+e.length;if(h>n)break;if(l>=r){let r=e.dom.getBoundingClientRect();if(t.push(r.height),s){let t=e.dom.lastChild,n=t?m(t):[];if(n.length){let e=n[n.length-1],t=a?e.right-r.left:r.right-e.left;t>o&&(o=t,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=h)}}}l=h+e.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return"rtl"==getComputedStyle(this.children[t].dom).direction?Ne.RTL:Ne.LTR}measureTextSize(){for(let i of this.children)if(i instanceof ve){let e=i.measureTextSize();if(e)return e}let e,t,r,n=document.createElement("div");return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(n);let i=m(n.firstChild)[0];e=n.getBoundingClientRect().height,t=i?i.width/27:7,r=i?i.height:e,n.remove()}),{lineHeight:e,charWidth:t,textHeight:r}}childCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new D(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,n=0;;n++){let i=n==t.viewports.length?null:t.viewports[n],s=i?i.from-1:this.length;if(s>r){let n=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(fe.replace({widget:new be(n),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!i)break;r=i.to+1}return fe.set(e)}updateDeco(){let e=1,t=this.view.state.facet(mt).map(t=>(this.dynamicDecorationMap[e++]="function"==typeof t)?t(this.view):t),r=!1,i=this.view.state.facet(pt).map((e,t)=>{let n="function"==typeof e;return n&&(r=!0),n?e(this.view):e});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(n.om.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let t=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=t.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let c of this.view.state.facet(rt))try{if(c(this.view,e.range,e))return!0}catch(l){ot(this.view.state,l,"scroll handler")}let t,{range:r}=e,n=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!n)return;!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(n={left:Math.min(n.left,t.left),top:Math.min(n.top,t.top),right:Math.max(n.right,t.right),bottom:Math.max(n.bottom,t.bottom)});let i=yt(this.view),s={left:n.left-i.left,top:n.top-i.top,right:n.right+i.right,bottom:n.bottom+i.bottom},{offsetWidth:o,offsetHeight:a}=this.view.scrollDOM;!function(e,t,r,n,i,s,o,a){let l=e.ownerDocument,c=l.defaultView||window;for(let h=e,u=!1;h&&!u;)if(1==h.nodeType){let e,d=h==l.body,f=1,m=1;if(d)e=b(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(u=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let t=h.getBoundingClientRect();({scaleX:f,scaleY:m}=w(h,t)),e={left:t.left,right:t.left+h.clientWidth*f,top:t.top,bottom:t.top+h.clientHeight*m}}let p=0,g=0;if("nearest"==i)t.top<e.top?(g=t.top-(e.top+o),r>0&&t.bottom>e.bottom+g&&(g=t.bottom-e.bottom+o)):t.bottom>e.bottom&&(g=t.bottom-e.bottom+o,r<0&&t.top-g<e.top&&(g=t.top-(e.top+o)));else{let n=t.bottom-t.top,s=e.bottom-e.top;g=("center"==i&&n<=s?t.top+n/2-s/2:"start"==i||"center"==i&&r<0?t.top-o:t.bottom-s+o)-e.top}if("nearest"==n?t.left<e.left?(p=t.left-(e.left+s),r>0&&t.right>e.right+p&&(p=t.right-e.right+s)):t.right>e.right&&(p=t.right-e.right+s,r<0&&t.left<e.left+p&&(p=t.left-(e.left+s))):p=("center"==n?t.left+(t.right-t.left)/2-(e.right-e.left)/2:"start"==n==a?t.left-s:t.right-(e.right-e.left)+s)-e.left,p||g)if(d)c.scrollBy(p,g);else{let e=0,r=0;if(g){let e=h.scrollTop;h.scrollTop+=g/m,r=(h.scrollTop-e)*m}if(p){let t=h.scrollLeft;h.scrollLeft+=p/f,e=(h.scrollLeft-t)*f}t={left:t.left-e,top:t.top-r,right:t.right-e,bottom:t.bottom-r},e&&Math.abs(e-p)<1&&(n="nearest"),r&&Math.abs(r-g)<1&&(i="nearest")}if(d)break;(t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)&&(t={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)}),h=h.assignedSlot||h.parentNode}else{if(11!=h.nodeType)break;h=h.host}}(this.view.scrollDOM,s,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Ne.LTR)}}function Nt(e,t){let r=e.observer.selectionRange;if(!r.focusNode)return null;let n=Q(r.focusNode,r.focusOffset),i=C(r.focusNode,r.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let t=R.get(i.node);if(!t||t instanceof K&&t.text!=i.node.nodeValue)s=i;else if(e.docView.lastCompositionAfterCursor){let e=R.get(n.node);!e||e instanceof K&&e.text!=n.node.nodeValue||(s=i)}}if(e.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=t-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}let jt=class{constructor(){this.changes=[]}compareRange(e,t){Oe(e,t,this.changes)}comparePoint(e,t){Oe(e,t,this.changes)}boundChange(e){Oe(e,e,this.changes)}};function _t(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function At(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Pt(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function Et(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Qt(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function Ct(e,t,r){let n,i,s,o,a,l,c,h,u=!1;for(let f=e.firstChild;f;f=f.nextSibling){let e=m(f);for(let d=0;d<e.length;d++){let m=e[d];i&&Pt(i,m)&&(m=Et(Qt(m,i.bottom),i.top));let p=_t(t,m),g=At(r,m);if(0==p&&0==g)return 3==f.nodeType?Mt(f,t,r):Ct(f,t,r);(!n||o>g||o==g&&s>p)&&(n=f,i=m,s=p,o=g,u=!p||(t<m.left?d>0:d<e.length-1)),0==p?r>m.bottom&&(!c||c.bottom<m.bottom)?(a=f,c=m):r<m.top&&(!h||h.top>m.top)&&(l=f,h=m):c&&Pt(c,m)?c=Qt(c,m.bottom):h&&Pt(h,m)&&(h=Et(h,m.top))}}if(c&&c.bottom>=r?(n=a,i=c):h&&h.top<=r&&(n=l,i=h),!n)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));return 3==n.nodeType?Mt(n,d,r):u&&"false"!=n.contentEditable?Ct(n,d,r):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,n)+(t>=(i.left+i.right)/2?1:0)}}function Mt(e,t,r){let n=e.nodeValue.length,i=-1,s=1e9,o=0;for(let a=0;a<n;a++){let n=_(e,a,a+1).getClientRects();for(let l=0;l<n.length;l++){let c=n[l];if(c.top==c.bottom)continue;o||(o=t-c.left);let h=(c.top>r?c.top-r:r-c.bottom)-1;if(c.left-1<=t&&c.right+1>=t&&h<s){let r=t>=(c.left+c.right)/2,n=r;if(H.chrome||H.gecko){_(e,a).getBoundingClientRect().left==c.right&&(n=!r)}if(h<=0)return{node:e,offset:a+(n?1:0)};i=a+(n?1:0),s=h}}}return{node:e,offset:i>-1?i:o>0?e.nodeValue.length:0}}function Tt(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;var i,s;let o,a=e.contentDOM.getBoundingClientRect(),l=a.top+e.viewState.paddingTop,{docHeight:c}=e.viewState,{x:h,y:u}=t,d=u-l;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let v=e.viewState.heightOracle.textHeight/2,b=!1;o=e.elementAtHeight(d),o.type!=de.Text;)for(;d=n>0?o.bottom+v:o.top-v,!(d>=0&&d<=c);){if(b)return r?null:0;b=!0,n=-n}u=l+d;let f=o.from;if(f<e.viewport.from)return 0==e.viewport.from?0:r?null:Rt(e,a,o,h,u);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:r?null:Rt(e,a,o,h,u);let m=e.dom.ownerDocument,p=e.root.elementFromPoint?e.root:m,g=p.elementFromPoint(h,u);g&&!e.contentDOM.contains(g)&&(g=null),g||(h=Math.max(a.left+1,Math.min(a.right-1,h)),g=p.elementFromPoint(h,u),g&&!e.contentDOM.contains(g)&&(g=null));let x,O=-1;if(g&&0!=(null===(i=e.docView.nearest(g))||void 0===i?void 0:i.isEditable)){if(m.caretPositionFromPoint){let e=m.caretPositionFromPoint(h,u);e&&({offsetNode:x,offset:O}=e)}else if(m.caretRangeFromPoint){let t=m.caretRangeFromPoint(h,u);t&&(({startContainer:x,startOffset:O}=t),(!e.contentDOM.contains(x)||H.safari&&function(e,t,r){let n,i=e;if(3!=e.nodeType||t!=(n=e.nodeValue.length))return!1;for(;;){let e=i.nextSibling;if(e){if("BR"==e.nodeName)break;return!1}{let e=i.parentNode;if(!e||"DIV"==e.nodeName)break;i=e}}return _(e,n-1,n).getBoundingClientRect().right>r}(x,O,h)||H.chrome&&function(e,t,r){if(0!=t)return!1;for(let i=e;;){let e=i.parentNode;if(!e||1!=e.nodeType||e.firstChild!=i)return!1;if(e.classList.contains("cm-line"))break;i=e}let n=1==e.nodeType?e.getBoundingClientRect():_(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return r-n.left>5}(x,O,h))&&(x=void 0))}x&&(O=Math.min(v(x),O))}if(!x||!e.docView.dom.contains(x)){let t=ve.find(e.docView,f);if(!t)return d>o.top+o.height/2?o.to:o.from;({node:x,offset:O}=Ct(t.dom,h,u))}let y=e.docView.nearest(x);if(!y)return null;if(y.isWidget&&1==(null===(s=y.dom)||void 0===s?void 0:s.nodeType)){let e=y.dom.getBoundingClientRect();return t.y<e.top||t.y<=e.bottom&&t.x<=(e.left+e.right)/2?y.posAtStart:y.posAtEnd}return y.localPosFromDOM(x,O)+y.posAtStart}function Rt(e,t,r,i,s){let o=Math.round((i-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&r.height>1.5*e.defaultLineHeight){let t=e.viewState.heightOracle.textHeight;o+=Math.floor((s-r.top-.5*(e.defaultLineHeight-t))/t)*e.viewState.heightOracle.lineLength}let a=e.state.sliceDoc(r.from,r.to);return r.from+(0,n.kn)(a,o,e.state.tabSize)}function $t(e,t,r){let n=e.lineBlockAt(t);if(Array.isArray(n.type)){let e;for(let i of n.type){if(i.from>t)break;if(!(i.to<t)){if(i.from<t&&i.to>t)return i;e&&(i.type!=de.Text||e.type==i.type&&!(r<0?i.from<t:i.to>t))||(e=i)}}return e||n}return n}function Dt(e,t,r,n){let i=e.state.doc.lineAt(t.head),s=e.bidiSpans(i),o=e.textDirectionAt(i.from);for(let a=t,l=null;;){let t=qe(i,s,o,a,r),c=ze;if(!t){if(i.number==(r?e.state.doc.lines:1))return a;c="\n",i=e.state.doc.line(i.number+(r?1:-1)),s=e.bidiSpans(i),t=e.visualLineSide(i,!r)}if(l){if(!l(c))return a}else{if(!n)return t;l=n(c)}a=t}}function Lt(e,t,r){for(;;){let n=0;for(let i of e)i.between(t-1,t+1,(e,i,s)=>{if(t>e&&t<i){let s=n||r||(t-e<i-t?-1:1);t=s<0?e:i,n=s}});if(!n)return t}}function It(e,t,r){let i=Lt(e.state.facet(gt).map(t=>t(e)),r.from,t.head>r.from?-1:1);return i==r.from?r:n.OF.cursor(i,i<r.from?1:-1)}const Zt="\uffff";class Bt{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(n.$t.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Zt}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let n=e;;){this.findPointBefore(r,n);let e=this.text.length;this.readNode(n);let i=n.nextSibling;if(i==t)break;let s=R.get(n),o=R.get(i);(s&&o?s.breakAfter:(s?s.breakAfter:x(n))||x(i)&&("BR"!=n.nodeName||n.cmIgnore)&&this.text.length>e)&&this.lineBreak(),n=i}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,n=this.lineSeparator?null:/\r\n?|\n/g;;){let i,s=-1,o=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(i=n.exec(t))&&(s=i.index,o=i[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let t of this.points)t.node==e&&t.pos>this.text.length&&(t.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=R.get(e),r=t&&t.overrideDOMText;if(null!=r){this.findPointInside(e,r.length);for(let e=r.iter();!e.next().done;)e.lineBreak?this.lineBreak():this.append(e.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(3==e.nodeType?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(zt(e,r.node,r.offset)?t:0))}}function zt(e,t,r){for(;;){if(!t||r<v(t))return!1;if(t==e)return!0;r=g(t)+1,t=t.parentNode}}class qt{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Ut{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let t=s||o?[]:function(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}=e.observer.selectionRange;r&&(t.push(new qt(r,n)),i==r&&s==n||t.push(new qt(i,s)));return t}(e),r=new Bt(t,e.state);r.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=r.text,this.newSel=function(e,t){if(0==e.length)return null;let r=e[0].pos,i=2==e.length?e[1].pos:r;return r>-1&&i>-1?n.OF.single(r+t,i+t):null}(t,this.bounds.from)}else{let t=e.observer.selectionRange,r=s&&s.node==t.focusNode&&s.offset==t.focusOffset||!d(e.contentDOM,t.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(t.focusNode,t.focusOffset),i=o&&o.node==t.anchorNode&&o.offset==t.anchorOffset||!d(e.contentDOM,t.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(t.anchorNode,t.anchorOffset),a=e.viewport;if((H.ios||H.chrome)&&e.state.selection.main.empty&&r!=i&&(a.from>0||a.to<e.state.doc.length)){let t=Math.min(r,i),n=Math.max(r,i),s=a.from-t,o=a.to-n;0!=s&&1!=s&&0!=t||0!=o&&-1!=o&&n!=e.state.doc.length||(r=0,i=e.state.doc.length)}this.newSel=n.OF.single(i,r)}}}function Xt(e,t){let r,{newSel:i}=t,s=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:i,to:a}=t.bounds,l=s.from,c=null;(8===o||H.android&&t.text.length<a-i)&&(l=s.to,c="end");let h=function(e,t,r,n){let i=Math.min(e.length,t.length),s=0;for(;s<i&&e.charCodeAt(s)==t.charCodeAt(s);)s++;if(s==i&&e.length==t.length)return null;let o=e.length,a=t.length;for(;o>0&&a>0&&e.charCodeAt(o-1)==t.charCodeAt(a-1);)o--,a--;if("end"==n){r-=o+Math.max(0,s-Math.min(o,a))-s}if(o<s&&e.length<t.length){s-=r<=s&&r>=o?s-r:0,a=s+(a-o),o=s}else if(a<s){s-=r<=s&&r>=a?s-r:0,o=s+(o-a),a=s}return{from:s,toA:o,toB:a}}(e.state.doc.sliceString(i,a,Zt),t.text,l-i,c);h&&(H.chrome&&13==o&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==Zt+Zt&&h.toB--,r={from:i+h.from,to:i+h.toA,insert:n.EY.of(t.text.slice(h.from,h.toB).split(Zt))})}else i&&(!e.hasFocus&&e.state.facet(at)||i.main.eq(s))&&(i=null);if(!r&&!i)return!1;if(!r&&t.typeOver&&!s.empty&&i&&i.main.empty?r={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,s.to)}:(H.mac||H.android)&&r&&r.from==r.to&&r.from==s.head-1&&/^\. ?$/.test(r.insert.toString())&&"off"==e.contentDOM.getAttribute("autocorrect")?(i&&2==r.insert.length&&(i=n.OF.single(i.main.anchor-1,i.main.head-1)),r={from:r.from,to:r.to,insert:n.EY.of([r.insert.toString().replace("."," ")])}):r&&r.from>=s.from&&r.to<=s.to&&(r.from!=s.from||r.to!=s.to)&&s.to-s.from-(r.to-r.from)<=4?r={from:s.from,to:s.to,insert:e.state.doc.slice(s.from,r.from).append(r.insert).append(e.state.doc.slice(r.to,s.to))}:H.chrome&&r&&r.from==r.to&&r.from==s.head&&"\n "==r.insert.toString()&&e.lineWrapping&&(i&&(i=n.OF.single(i.main.anchor-1,i.main.head-1)),r={from:s.from,to:s.to,insert:n.EY.of([" "])}),r)return Ft(e,r,i,o);if(i&&!i.main.eq(s)){let t=!1,r="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(t=!0),r=e.inputState.lastSelectionOrigin),e.dispatch({selection:i,scrollIntoView:t,userEvent:r}),!0}return!1}function Ft(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;if(H.ios&&e.inputState.flushIOSKey(t))return!0;let s=e.state.selection.main;if(H.android&&(t.to==s.to&&(t.from==s.from||t.from==s.from-1&&" "==e.state.sliceDoc(t.from,s.from))&&1==t.insert.length&&2==t.insert.lines&&A(e.contentDOM,"Enter",13)||(t.from==s.from-1&&t.to==s.to&&0==t.insert.length||8==i&&t.insert.length<t.to-t.from&&t.to>s.head)&&A(e.contentDOM,"Backspace",8)||t.from==s.from&&t.to==s.to+1&&0==t.insert.length&&A(e.contentDOM,"Delete",46)))return!0;let o,a=t.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let l=()=>o||(o=function(e,t,r){let i,s=e.state,o=s.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!r||r.main.empty&&r.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let r=o.from<t.from?s.sliceDoc(o.from,t.from):"",n=o.to>t.to?s.sliceDoc(t.to,o.to):"";i=s.replaceSelection(e.state.toText(r+t.insert.sliceString(0,void 0,e.state.lineBreak)+n))}else{let a=s.changes(t),l=r&&r.main.to<=a.newLength?r.main:void 0;if(s.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c,h=e.state.sliceDoc(t.from,t.to),u=r&&Nt(e,r.main.head);if(u){let e=t.insert.length-(t.to-t.from);c={from:u.from,to:u.to-e}}else c=e.state.doc.lineAt(o.head);let d=o.to-t.to,f=o.to-o.from;i=s.changeByRange(r=>{if(r.from==o.from&&r.to==o.to)return{changes:a,range:l||r.map(a)};let i=r.to-d,u=i-h.length;if(r.to-r.from!=f||e.state.sliceDoc(u,i)!=h||r.to>=c.from&&r.from<=c.to)return{range:r};let m=s.changes({from:u,to:i,insert:t.insert}),p=r.to-o.to;return{changes:m,range:l?n.OF.range(Math.max(0,l.anchor+p),Math.max(0,l.head+p)):r.map(m)}})}else i={changes:a,selection:l&&s.selection.replaceRange(l)}}let a="input.type";(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,a+=".compose",e.inputState.compositionFirstChange&&(a+=".start",e.inputState.compositionFirstChange=!1));return s.update(i,{userEvent:a,scrollIntoView:!0})}(e,t,r));return e.state.facet(Ge).some(r=>r(e,t.from,t.to,a,l))||e.dispatch(l()),!0}class Vt{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,H.safari&&e.contentDOM.addEventListener("input",()=>null),H.gecko&&function(e){yr.has(e)||(yr.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let r,n=t.target;n!=e.contentDOM;n=n.parentNode)if(!n||11==n.nodeType||(r=R.get(n))&&r.ignoreEvent(t))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&("keydown"==e.type&&this.keydown(e)||(0!=this.view.updateState?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e)))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let e of r.observers)e(this.view,t);for(let e of r.handlers){if(t.defaultPrevented)break;if(e(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Wt(e),r=this.handlers,n=this.view.contentDOM;for(let i in t)if("scroll"!=i){let e=!t[i].handlers.length,s=r[i];s&&e!=!s.handlers.length&&(n.removeEventListener(i,this.handleEvent),s=null),s||n.addEventListener(i,this.handleEvent,{passive:e})}for(let i in r)"scroll"==i||t[i]||n.removeEventListener(i,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),9==e.keyCode&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&27!=e.keyCode&&Kt.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),H.android&&H.chrome&&!e.synthetic&&(13==e.keyCode||8==e.keyCode))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!H.ios||e.synthetic||e.altKey||e.metaKey||!((t=Gt.find(t=>t.keyCode==e.keyCode))&&!e.ctrlKey||Ht.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(229!=e.keyCode&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&(!("Enter"==t.key&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,A(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0)))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(H.safari&&!H.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Yt(e,t){return(r,n)=>{try{return t.call(e,n,r)}catch(i){ot(r.state,i)}}}function Wt(e){let t=Object.create(null);function r(e){return t[e]||(t[e]={observers:[],handlers:[]})}for(let n of e){let e=n.spec,t=e&&e.plugin.domEventHandlers,i=e&&e.plugin.domEventObservers;if(t)for(let s in t){let e=t[s];e&&r(s).handlers.push(Yt(n.value,e))}if(i)for(let s in i){let e=i[s];e&&r(s).observers.push(Yt(n.value,e))}}for(let n in tr)r(n).handlers.push(tr[n]);for(let n in rr)r(n).observers.push(rr[n]);return t}const Gt=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ht="dthko",Kt=[16,17,18,20,91,92,224,225];function Jt(e){return.7*Math.max(0,e)+8}class er{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(e){let t,r,n=e.ownerDocument;for(let i=e.parentNode;i&&!(i==n.body||t&&r);)if(1==i.nodeType)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else{if(11!=i.nodeType)break;i=i.host}return{x:t,y:r}}(e.contentDOM),this.atoms=e.state.facet(gt).map(t=>t(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(n.$t.allowMultipleSelections)&&function(e,t){let r=e.state.facet(Xe);return r.length?r[0](t):H.mac?t.metaKey:t.ctrlKey}(e,t),this.dragging=!(!function(e,t){let{main:r}=e.state.selection;if(r.empty)return!1;let n=u(e.root);if(!n||0==n.rangeCount)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let e=i[s];if(e.left<=t.clientX&&e.right>=t.clientX&&e.top<=t.clientY&&e.bottom>=t.clientY)return!0}return!1}(e,t)||1!=mr(t))&&null}start(e){!1===this.dragging&&this.select(e)}move(e){if(0==e.buttons)return this.destroy();if(this.dragging||null==this.dragging&&(t=this.startEvent,r=e,Math.max(Math.abs(t.clientX-r.clientX),Math.abs(t.clientY-r.clientY))<10))return;var t,r;this.select(this.lastEvent=e);let n=0,i=0,s=0,o=0,a=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:s,right:a}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:l}=this.scrollParents.y.getBoundingClientRect());let c=yt(this.view);e.clientX-c.left<=s+6?n=-Jt(s-e.clientX):e.clientX+c.right>=a-6&&(n=Jt(e.clientX-a)),e.clientY-c.top<=o+6?i=-Jt(o-e.clientY):e.clientY+c.bottom>=l-6&&(i=Jt(e.clientY-l)),this.setScrollSpeed(n,i)}up(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),!1===this.dragging&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let e=Lt(this.atoms,i.from,0);e!=i.from&&(s=n.OF.cursor(e,-1))}else{let e=Lt(this.atoms,i.from,-1),t=Lt(this.atoms,i.to,1);e==i.from&&t==i.to||(s=n.OF.range(i.from==i.anchor?e:t,i.from==i.head?e:t))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?n.OF.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&r.eq(t.state.selection,!1===this.dragging)||this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}const tr=Object.create(null),rr=Object.create(null),nr=H.ie&&H.ie_version<15||H.ios&&H.webkit_version<604;function ir(e,t,r){for(let n of e.facet(t))r=n(r,e);return r}function sr(e,t){t=ir(e.state,Ke,t);let r,{state:i}=e,s=1,o=i.toText(t),a=o.lines==i.selection.ranges.length;if(null!=gr&&i.selection.ranges.every(e=>e.empty)&&gr==o.toString()){let e=-1;r=i.changeByRange(r=>{let l=i.doc.lineAt(r.from);if(l.from==e)return{range:r};e=l.from;let c=i.toText((a?o.line(s++).text:t)+i.lineBreak);return{changes:{from:l.from,insert:c},range:n.OF.cursor(r.from+c.length)}})}else r=a?i.changeByRange(e=>{let t=o.line(s++);return{changes:{from:e.from,to:e.to,insert:t.text},range:n.OF.cursor(e.from+t.length)}}):i.replaceSelection(o);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}function or(e,t,r,i){if(1==i)return n.OF.cursor(t,r);if(2==i)return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=e.charCategorizer(t),s=e.doc.lineAt(t),o=t-s.from;if(0==s.length)return n.OF.cursor(t);0==o?r=1:o==s.length&&(r=-1);let a=o,l=o;r<0?a=(0,n.zK)(s.text,o,!1):l=(0,n.zK)(s.text,o);let c=i(s.text.slice(a,l));for(;a>0;){let e=(0,n.zK)(s.text,a,!1);if(i(s.text.slice(e,a))!=c)break;a=e}for(;l<s.length;){let e=(0,n.zK)(s.text,l);if(i(s.text.slice(l,e))!=c)break;l=e}return n.OF.range(a+s.from,l+s.from)}(e.state,t,r);{let r=ve.find(e.docView,t),i=e.state.doc.lineAt(r?r.posAtEnd:t),s=r?r.posAtStart:i.from,o=r?r.posAtEnd:i.to;return o<e.state.doc.length&&o==i.to&&o++,n.OF.range(s,o)}}rr.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft},tr.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),27==t.keyCode&&0!=e.inputState.tabFocusMode&&(e.inputState.tabFocusMode=Date.now()+2e3),!1),rr.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},rr.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")},tr.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let r=null;for(let n of e.state.facet(Ve))if(r=n(e,t),r)break;if(r||0!=t.button||(r=function(e,t){let r=cr(e,t),i=mr(t),s=e.state.selection;return{update(e){e.docChanged&&(r.pos=e.changes.mapPos(r.pos),s=s.map(e.changes))},get(t,o,a){let l,c=cr(e,t),h=or(e,c.pos,c.bias,i);if(r.pos!=c.pos&&!o){let t=or(e,r.pos,r.bias,i),s=Math.min(t.from,h.from),o=Math.max(t.to,h.to);h=s<h.from?n.OF.range(s,o):n.OF.range(o,s)}return o?s.replaceRange(s.main.extend(h.from,h.to)):a&&1==i&&s.ranges.length>1&&(l=function(e,t){for(let r=0;r<e.ranges.length;r++){let{from:i,to:s}=e.ranges[r];if(i<=t&&s>=t)return n.OF.create(e.ranges.slice(0,r).concat(e.ranges.slice(r+1)),e.mainIndex==r?0:e.mainIndex-(e.mainIndex>r?1:0))}return null}(s,c.pos))?l:a?s.addRange(h):n.OF.create([h])}}}(e,t)),r){let n=!e.hasFocus;e.inputState.startMouseSelection(new er(e,t,r,n)),n&&e.observer.ignore(()=>{j(e.contentDOM);let t=e.root.activeElement;t&&!t.contains(e.contentDOM)&&t.blur()});let i=e.inputState.mouseSelection;if(i)return i.start(t),!1===i.dragging}return!1};let ar=(e,t,r)=>t>=r.top&&t<=r.bottom&&e>=r.left&&e<=r.right;function lr(e,t,r,n){let i=ve.find(e.docView,t);if(!i)return 1;let s=t-i.posAtStart;if(0==s)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&ar(r,n,o))return-1;let a=i.coordsAt(s,1);return a&&ar(r,n,a)?1:o&&o.bottom>=n?-1:1}function cr(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:r,bias:lr(e,r,t.clientX,t.clientY)}}const hr=H.ie&&H.ie_version<=11;let ur=null,dr=0,fr=0;function mr(e){if(!hr)return e.detail;let t=ur,r=fr;return ur=e,fr=Date.now(),dr=!t||r>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(dr+1)%3:1}function pr(e,t,r,n){if(!(r=ir(e.state,Ke,r)))return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:s}=e.inputState,o=n&&s&&function(e,t){let r=e.state.facet(Fe);return r.length?r[0](t):H.mac?!t.altKey:!t.ctrlKey}(e,t)?{from:s.from,to:s.to}:null,a={from:i,insert:r},l=e.state.changes(o?[o,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),e.inputState.draggedContent=null}tr.dragstart=(e,t)=>{let{selection:{main:r}}=e.state;if(t.target.draggable){let i=e.docView.nearest(t.target);if(i&&i.isWidget){let e=i.posAtStart,t=e+i.length;(e>=r.to||t<=r.from)&&(r=n.OF.range(e,t))}}let{inputState:i}=e;return i.mouseSelection&&(i.mouseSelection.dragging=!0),i.draggedContent=r,t.dataTransfer&&(t.dataTransfer.setData("Text",ir(e.state,Je,e.state.sliceDoc(r.from,r.to))),t.dataTransfer.effectAllowed="copyMove"),!1},tr.dragend=e=>(e.inputState.draggedContent=null,!1),tr.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let r=t.dataTransfer.files;if(r&&r.length){let n=Array(r.length),i=0,s=()=>{++i==r.length&&pr(e,t,n.filter(e=>null!=e).join(e.state.lineBreak),!1)};for(let e=0;e<r.length;e++){let t=new FileReader;t.onerror=s,t.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(n[e]=t.result),s()},t.readAsText(r[e])}return!0}{let r=t.dataTransfer.getData("Text");if(r)return pr(e,t,r,!0),!0}return!1},tr.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let r=nr?null:t.clipboardData;return r?(sr(e,r.getData("text/plain")||r.getData("text/uri-list")),!0):(function(e){let t=e.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.remove(),sr(e,r.value)},50)}(e),!1)};let gr=null;tr.copy=tr.cut=(e,t)=>{let{text:r,ranges:n,linewise:i}=function(e){let t=[],r=[],n=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),r.push(i));if(!t.length){let i=-1;for(let{from:n}of e.selection.ranges){let s=e.doc.lineAt(n);s.number>i&&(t.push(s.text),r.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),i=s.number}n=!0}return{text:ir(e,Je,t.join(e.lineBreak)),ranges:r,linewise:n}}(e.state);if(!r&&!i)return!1;gr=i?r:null,"cut"!=t.type||e.state.readOnly||e.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=nr?null:t.clipboardData;return s?(s.clearData(),s.setData("text/plain",r),!0):(function(e,t){let r=e.dom.parentNode;if(!r)return;let n=r.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=t,n.focus(),n.selectionEnd=t.length,n.selectionStart=0,setTimeout(()=>{n.remove(),e.focus()},50)}(e,r),!1)};const xr=n.YH.define();function Or(e,t){let r=[];for(let n of e.facet(He)){let i=n(e,t);i&&r.push(i)}return r.length?e.update({effects:r,annotations:xr.of(!0)}):null}function vr(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let r=Or(e.state,t);r?e.dispatch(r):e.update([])}},10)}rr.focus=e=>{e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),vr(e)},rr.blur=e=>{e.observer.clearSelectionRange(),vr(e)},rr.compositionstart=rr.compositionupdate=e=>{e.observer.editContext||(null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0))},rr.compositionend=e=>{e.observer.editContext||(e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,H.chrome&&H.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50))},rr.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()},tr.beforeinput=(e,t)=>{var r,n;if("insertReplacementText"==t.inputType&&e.observer.editContext){let n=null===(r=t.dataTransfer)||void 0===r?void 0:r.getData("text/plain"),i=t.getTargetRanges();if(n&&i.length){let t=i[0],r=e.posAtDOM(t.startContainer,t.startOffset),s=e.posAtDOM(t.endContainer,t.endOffset);return Ft(e,{from:r,to:s,insert:e.state.toText(n)},null),!0}}let i;if(H.chrome&&H.android&&(i=Gt.find(e=>e.inputType==t.inputType))&&(e.observer.delayAndroidKey(i.key,i.keyCode),"Backspace"==i.key||"Delete"==i.key)){let t=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout(()=>{var r;((null===(r=window.visualViewport)||void 0===r?void 0:r.height)||0)>t+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return H.ios&&"deleteContentForward"==t.inputType&&e.observer.flushSoon(),H.safari&&"insertText"==t.inputType&&e.inputState.composing>=0&&setTimeout(()=>rr.compositionend(e,t),20),!1};const yr=new Set;const br=["pre-wrap","normal","pre-line","break-spaces"];let wr=!1;function kr(){wr=!1}class Sr{constructor(e){this.lineWrapping=e,this.doc=n.EY.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){if(!this.lineWrapping)return this.lineHeight;return(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return br.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let n=e[r];n<0?r++:this.heightSamples[Math.floor(10*n)]||(t=!0,this.heightSamples[Math.floor(10*n)]=!0)}return t}refresh(e,t,r,n,i,s){let o=br.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=r,this.textHeight=n,this.lineLength=i,a){this.heightSamples={};for(let e=0;e<s.length;e++){let t=s[e];t<0?e++:this.heightSamples[Math.floor(10*t)]=!0}}return a}}class Nr{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class jr{constructor(e,t,r,n,i){this.from=e,this.length=t,this.top=r,this.height=n,this._content=i}get type(){return"number"==typeof this._content?de.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof ge?this._content.widget:null}get widgetLineBreaks(){return"number"==typeof this._content?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new jr(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var _r=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(_r||(_r={}));const Ar=.001;class Pr{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Ar&&(wr=!0),this.height=e)}replace(e,t,r){return Pr.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,n){let i=this,s=r.doc;for(let o=n.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:c,toB:h}=n[o],u=i.lineAt(a,_r.ByPosNoHeight,r.setDoc(t),0,0),d=u.to>=l?u:i.lineAt(l,_r.ByPosNoHeight,r,0,0);for(h+=d.to-l,l=d.to;o>0&&u.from<=n[o-1].toA;)a=n[o-1].fromA,c=n[o-1].fromB,o--,a<u.from&&(u=i.lineAt(a,_r.ByPosNoHeight,r,0,0));c+=u.from-a,a=u.from;let f=$r.build(r.setDoc(s),e,c,h);i=Er(i,i.replace(a,l,f))}return i.updateHeight(r,0)}static empty(){return new Cr(0,0)}static of(e){if(1==e.length)return e[0];let t=0,r=e.length,n=0,i=0;for(;;)if(t==r)if(n>2*i){let i=e[t-1];i.break?e.splice(--t,1,i.left,null,i.right):e.splice(--t,1,i.left,i.right),r+=1+i.break,n-=i.size}else{if(!(i>2*n))break;{let t=e[r];t.break?e.splice(r,1,t.left,null,t.right):e.splice(r,1,t.left,t.right),r+=2+t.break,i-=t.size}}else if(n<i){let r=e[t++];r&&(n+=r.size)}else{let t=e[--r];t&&(i+=t.size)}let s=0;return null==e[t-1]?(s=1,t--):null==e[t]&&(s=1,r++),new Tr(Pr.of(e.slice(0,t)),s,Pr.of(e.slice(r)))}}function Er(e,t){return e==t?e:(e.constructor!=t.constructor&&(wr=!0),t)}Pr.prototype.size=1;class Qr extends Pr{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,n){return new jr(n,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,n,i){return this.blockAt(0,r,n,i)}forEachLine(e,t,r,n,i,s){e<=i+this.length&&t>=i&&s(this.blockAt(0,r,n,i))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more&&this.setHeight(r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Cr extends Qr{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,n){return new jr(n,this.length,r,this.height,this.breaks)}replace(e,t,r){let n=r[0];return 1==r.length&&(n instanceof Cr||n instanceof Mr&&4&n.flags)&&Math.abs(this.length-n.length)<10?(n instanceof Mr?n=new Cr(n.length,this.height):n.height=this.height,this.outdated||(n.outdated=!1),n):Pr.of(r)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more?this.setHeight(n.heights[n.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Mr extends Pr{constructor(e){super(e,0)}heightMetrics(e,t){let r,n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,o=0;if(e.lineWrapping){let t=Math.min(this.height,e.lineHeight*s);r=t/s,this.length>s+1&&(o=(this.height-t)/(this.length-s-1))}else r=this.height/s;return{firstLine:n,lastLine:i,perLine:r,perChar:o}}blockAt(e,t,r,n){let{firstLine:i,lastLine:s,perLine:o,perChar:a}=this.heightMetrics(t,n);if(t.lineWrapping){let i=n+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),s=t.doc.lineAt(i),l=o+s.length*a,c=Math.max(r,e-l/2);return new jr(s.from,s.length,c,l,0)}{let n=Math.max(0,Math.min(s-i,Math.floor((e-r)/o))),{from:a,length:l}=t.doc.line(i+n);return new jr(a,l,r+o*n,o,0)}}lineAt(e,t,r,n,i){if(t==_r.ByHeight)return this.blockAt(e,r,n,i);if(t==_r.ByPosNoHeight){let{from:t,to:n}=r.doc.lineAt(e);return new jr(t,n-t,0,0,0)}let{firstLine:s,perLine:o,perChar:a}=this.heightMetrics(r,i),l=r.doc.lineAt(e),c=o+l.length*a,h=l.number-s,u=n+o*h+a*(l.from-i-h);return new jr(l.from,l.length,Math.max(n,Math.min(u,n+this.height-c)),c,0)}forEachLine(e,t,r,n,i,s){e=Math.max(e,i),t=Math.min(t,i+this.length);let{firstLine:o,perLine:a,perChar:l}=this.heightMetrics(r,i);for(let c=e,h=n;c<=t;){let t=r.doc.lineAt(c);if(c==e){let r=t.number-o;h+=a*r+l*(e-i-r)}let n=a+l*t.length;s(new jr(t.from,t.length,h,n,0)),h+=n,c=t.to+1}}replace(e,t,r){let n=this.length-t;if(n>0){let e=r[r.length-1];e instanceof Mr?r[r.length-1]=new Mr(e.length+n):r.push(null,new Mr(n-1))}if(e>0){let t=r[0];t instanceof Mr?r[0]=new Mr(e+t.length):r.unshift(new Mr(e-1),null)}return Pr.of(r)}decomposeLeft(e,t){t.push(new Mr(e-1),null)}decomposeRight(e,t){t.push(null,new Mr(this.length-e-1))}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,i=t+this.length;if(n&&n.from<=t+this.length&&n.more){let r=[],s=Math.max(t,n.from),o=-1;for(n.from>t&&r.push(new Mr(n.from-t-1).updateHeight(e,t));s<=i&&n.more;){let t=e.doc.lineAt(s).length;r.length&&r.push(null);let i=n.heights[n.index++];-1==o?o=i:Math.abs(i-o)>=Ar&&(o=-2);let a=new Cr(t,i);a.outdated=!1,r.push(a),s+=t+1}s<=i&&r.push(null,new Mr(i-s).updateHeight(e,s));let a=Pr.of(r);return(o<0||Math.abs(a.height-this.height)>=Ar||Math.abs(o-this.heightMetrics(e,t).perLine)>=Ar)&&(wr=!0),Er(this,a)}return(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class Tr extends Pr{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,n){let i=r+this.left.height;return e<i?this.left.blockAt(e,t,r,n):this.right.blockAt(e,t,i,n+this.left.length+this.break)}lineAt(e,t,r,n,i){let s=n+this.left.height,o=i+this.left.length+this.break,a=t==_r.ByHeight?e<s:e<o,l=a?this.left.lineAt(e,t,r,n,i):this.right.lineAt(e,t,r,s,o);if(this.break||(a?l.to<o:l.from>o))return l;let c=t==_r.ByPosNoHeight?_r.ByPosNoHeight:_r.ByPos;return a?l.join(this.right.lineAt(o,c,r,s,o)):this.left.lineAt(o,c,r,n,i).join(l)}forEachLine(e,t,r,n,i,s){let o=n+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,n,i,s),t>=a&&this.right.forEachLine(e,t,r,o,a,s);else{let l=this.lineAt(a,_r.ByPos,r,n,i);e<l.from&&this.left.forEachLine(e,l.from-1,r,n,i,s),l.to>=e&&l.from<=t&&s(l),t>l.to&&this.right.forEachLine(l.to+1,t,r,o,a,s)}}replace(e,t,r){let n=this.left.length+this.break;if(t<n)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-n,t-n,r));let i=[];e>0&&this.decomposeLeft(e,i);let s=i.length;for(let o of r)i.push(o);if(e>0&&Rr(i,s-1),t<this.length){let e=i.length;this.decomposeRight(t,i),Rr(i,e)}return Pr.of(i)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,n=r+this.break;if(e>=n)return this.right.decomposeRight(e-n,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<n&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Pr.of(this.break?[e,null,t]:[e,t]):(this.left=Er(this.left,e),this.right=Er(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,{left:i,right:s}=this,o=t+i.length+this.break,a=null;return n&&n.from<=t+i.length&&n.more?a=i=i.updateHeight(e,t,r,n):i.updateHeight(e,t,r),n&&n.from<=o+s.length&&n.more?a=s=s.updateHeight(e,o,r,n):s.updateHeight(e,o,r),a?this.balanced(i,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Rr(e,t){let r,n;null==e[t]&&(r=e[t-1])instanceof Mr&&(n=e[t+1])instanceof Mr&&e.splice(t-1,3,new Mr(r.length+1+n.length))}class $r{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let e=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Cr?r.length+=e-this.pos:(e>this.pos||!this.isCovered)&&this.nodes.push(new Cr(e-this.pos,-1)),this.writtenTo=e,t>e&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let n=r.widget?r.widget.estimatedHeight:0,i=r.widget?r.widget.lineBreaks:0;n<0&&(n=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new Qr(s,n,r)):(s||i||n>=5)&&this.addLineDeco(n,i,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Cr(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new Mr(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Cr)return e;let t=new Cr(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let n=this.ensureLine();n.length+=r,n.collapsed+=r,n.widgetHeight=Math.max(n.widgetHeight,e),n.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Cr||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Cr(0,-1));let r=e;for(let n of this.nodes)n instanceof Cr&&n.updateHeight(this.oracle,r),r+=n?n.length:1;return this.nodes}static build(e,t,r,i){let s=new $r(r,e);return n.om.spans(t,r,i,s,0),s.finish(r)}}class Dr{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,n){(e<t||r&&r.heightRelevant||n&&n.heightRelevant)&&Oe(e,t,this.changes,5)}}function Lr(e,t){let r=e.getBoundingClientRect(),n=e.ownerDocument,i=n.defaultView||window,s=Math.max(0,r.left),o=Math.min(i.innerWidth,r.right),a=Math.max(0,r.top),l=Math.min(i.innerHeight,r.bottom);for(let c=e.parentNode;c&&c!=n.body;)if(1==c.nodeType){let t=c,r=window.getComputedStyle(t);if((t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)&&"visible"!=r.overflow){let r=t.getBoundingClientRect();s=Math.max(s,r.left),o=Math.min(o,r.right),a=Math.max(a,r.top),l=Math.min(c==e.parentNode?i.innerHeight:l,r.bottom)}c="absolute"==r.position||"fixed"==r.position?t.offsetParent:t.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:s-r.left,right:Math.max(s,o)-r.left,top:a-(r.top+t),bottom:Math.max(a,l)-(r.top+t)}}function Ir(e,t){let r=e.getBoundingClientRect();return{left:0,right:r.right-r.left,top:t,bottom:r.bottom-(r.top+t)}}class Zr{constructor(e,t,r,n){this.from=e,this.to=t,this.size=r,this.displaySize=n}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let n=e[r],i=t[r];if(n.from!=i.from||n.to!=i.to||n.size!=i.size)return!1}return!0}draw(e,t){return fe.replace({widget:new Br(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class Br extends ue{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class zr{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Fr,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ne.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(ft).some(e=>"function"!=typeof e&&"cm-lineWrapping"==e.class);this.heightOracle=new Sr(t),this.stateDeco=e.facet(mt).filter(e=>"function"!=typeof e),this.heightMap=Pr.empty().applyChanges(this.stateDeco,n.EY.empty,this.heightOracle.setDoc(e.doc),[new wt(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=fe.set(this.lineGaps.map(e=>e.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let n=r?t.head:t.anchor;if(!e.some(e=>{let{from:t,to:r}=e;return n>=t&&n<=r})){let{from:t,to:r}=this.lineBlockAt(n);e.push(new qr(t,r))}}return this.viewports=e.sort((e,t)=>e.from-t.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Fr:new Vr(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Yr(e,this.scaler))})}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(mt).filter(e=>"function"!=typeof e);let i=e.changedRanges,s=wt.extendWithRanges(i,function(e,t,r){let i=new Dr;return n.om.compare(e,t,r,i,0),i.changes}(r,this.stateDeco,e?e.changes:n.VR.empty(this.state.doc.length))),o=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);kr(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||wr)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let l=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<l.from||t.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,t));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(tt)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection="rtl"==r.direction?Ne.RTL:Ne.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=t.getBoundingClientRect(),l=o||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,h=0;if(a.width&&a.height){let{scaleX:e,scaleY:r}=w(t,a);(e>.005&&Math.abs(this.scaleX-e)>.005||r>.005&&Math.abs(this.scaleY-r)>.005)&&(this.scaleX=e,this.scaleY=r,c|=16,o=l=!0)}let u=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==u&&this.paddingBottom==d||(this.paddingTop=u,this.paddingBottom=d,c|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=16);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=E(e.scrollDOM);let m=(this.printing?Ir:Lr)(t,this.paddingTop),p=m.top-this.pixelViewport.top,g=m.bottom-this.pixelViewport.bottom;this.pixelViewport=m;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(l=!0)),!this.inView&&!this.scrollTarget&&!function(e){let t=e.getBoundingClientRect(),r=e.ownerDocument.defaultView||window;return t.left<r.innerWidth&&t.right>0&&t.top<r.innerHeight&&t.bottom>0}(e.dom))return 0;let O=a.width;if(this.contentDOMWidth==O&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=16),l){let t=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(t)&&(o=!0),o||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:r,charWidth:n,textHeight:a}=e.docView.measureTextSize();o=r>0&&i.refresh(s,r,n,a,Math.max(5,O/n),t),o&&(e.docView.minWidth=0,c|=16)}p>0&&g>0?h=Math.max(p,g):p<0&&g<0&&(h=Math.min(p,g)),kr();for(let r of this.viewports){let s=r.from==this.viewport.from?t:e.docView.measureVisibleLineHeights(r);this.heightMap=(o?Pr.empty().applyChanges(this.stateDeco,n.EY.empty,this.heightOracle,[new wt(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new Nr(r.from,s))}wr&&(c|=2)}let v=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return v&&(2&c&&(c|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),c|=this.updateForViewport()),(2&c||v)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),n=this.heightMap,i=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,a=new qr(n.lineAt(s-1e3*r,_r.ByHeight,i,0,0).from,n.lineAt(o+1e3*(1-r),_r.ByHeight,i,0,0).to);if(t){let{head:e}=t.range;if(e<a.from||e>a.to){let r,s=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),o=n.lineAt(e,_r.ByPos,i,0,0);r="center"==t.y?(o.top+o.bottom)/2-s/2:"start"==t.y||"nearest"==t.y&&e<a.from?o.top:o.bottom-s,a=new qr(n.lineAt(r-500,_r.ByHeight,i,0,0).from,n.lineAt(r+s+500,_r.ByHeight,i,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),n=t.mapPos(e.to,1);return new qr(this.heightMap.lineAt(r,_r.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(n,_r.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate(e){let{from:t,to:r}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,_r.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(r,_r.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:a}=this;return(0==t||i<=o-Math.max(10,Math.min(-n,250)))&&(r==this.state.doc.length||s>=a+Math.max(10,Math.min(n,250)))&&i>o-2e3&&s<a+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let n of e)t.touchesRange(n.from,n.to)||r.push(new Zr(t.mapPos(n.from),t.mapPos(n.to),n.size,n.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Ne.LTR&&!r)return[];let a=[],l=(i,o,c,h)=>{if(o-i<s)return;let u=this.state.selection.main,d=[u.from];u.empty||d.push(u.to);for(let e of d)if(e>i&&e<o)return l(i,e-10,c,h),void l(e+10,o,c,h);let f=function(e,t){for(let r of e)if(t(r))return r;return}(e,e=>e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-i)<s&&Math.abs(e.to-o)<s&&!d.some(t=>e.from<t&&e.to>t));if(!f){if(o<c.to&&t&&r&&t.visibleRanges.some(e=>e.from<=o&&e.to>=o)){let e=t.moveToLineBoundary(n.OF.cursor(o),!1,!0).head;e>i&&(o=e)}let e=this.gapSize(c,i,o,h);f=new Zr(i,o,e,r||e<2e6?e:2e6)}a.push(f)},c=t=>{if(t.length<o||t.type!=de.Text)return;let s=function(e,t,r){let i=[],s=e,o=0;n.om.spans(r,e,t,{span(){},point(e,t){e>s&&(i.push({from:s,to:e}),o+=e-s),s=t}},20),s<t&&(i.push({from:s,to:t}),o+=t-s);return{total:o,ranges:i}}(t.from,t.to,this.stateDeco);if(s.total<o)return;let a,c,h=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let e,r,n=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(null!=h){let i=Xr(s,h),o=((this.visibleBottom-this.visibleTop)/2+n)/t.height;e=i-o,r=i+o}else e=(this.visibleTop-t.top-n)/t.height,r=(this.visibleBottom-t.top+n)/t.height;a=Ur(s,e),c=Ur(s,r)}else{let r=s.total*this.heightOracle.charWidth,n=i*this.heightOracle.charWidth,o=0;if(r>2e6)for(let i of e)i.from>=t.from&&i.from<t.to&&i.size!=i.displaySize&&i.from*this.heightOracle.charWidth+o<this.pixelViewport.left&&(o=i.size-i.displaySize);let l,u,d=this.pixelViewport.left+o,f=this.pixelViewport.right+o;if(null!=h){let e=Xr(s,h),t=((f-d)/2+n)/r;l=e-t,u=e+t}else l=(d-n)/r,u=(f+n)/r;a=Ur(s,l),c=Ur(s,u)}a>t.from&&l(t.from,a,t,s),c<t.to&&l(c,t.to,t,s)};for(let n of this.viewportLines)Array.isArray(n.type)?n.type.forEach(c):c(n);return a}gapSize(e,t,r,n){let i=Xr(n,r)-Xr(n,t);return this.heightOracle.lineWrapping?e.height*i:n.total*this.heightOracle.charWidth*i}updateLineGaps(e){Zr.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=fe.set(e.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];n.om.spans(t,this.viewport.from,this.viewport.to,{span(e,t){r.push({from:e,to:t})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let n=0;n<r.length&&!(8&i);n++){let t=this.visibleRanges[n],s=r[n];t.from==s.from&&t.to==s.to||(i|=4,e&&e.mapPos(t.from,-1)==s.from&&e.mapPos(t.to,1)==s.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Yr(this.heightMap.lineAt(e,_r.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Yr(this.heightMap.lineAt(this.scaler.fromDOM(e),_r.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Yr(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class qr{constructor(e,t){this.from=e,this.to=t}}function Ur(e,t){let{total:r,ranges:n}=e;if(t<=0)return n[0].from;if(t>=1)return n[n.length-1].to;let i=Math.floor(r*t);for(let s=0;;s++){let{from:e,to:t}=n[s],r=t-e;if(i<=r)return e+i;i-=r}}function Xr(e,t){let r=0;for(let{from:n,to:i}of e.ranges){if(t<=i){r+=t-n;break}r+=i-n}return r/e.total}const Fr={toDOM:e=>e,fromDOM:e=>e,scale:1,eq(e){return e==this}};class Vr{constructor(e,t,r){let n=0,i=0,s=0;this.viewports=r.map(r=>{let{from:i,to:s}=r,o=t.lineAt(i,_r.ByPos,e,0,0).top,a=t.lineAt(s,_r.ByPos,e,0,0).bottom;return n+=a-o,{from:i,to:s,top:o,bottom:a,domTop:0,domBottom:0}}),this.scale=(7e6-n)/(t.height-n);for(let o of this.viewports)o.domTop=s+(o.top-i)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),i=o.bottom}toDOM(e){for(let t=0,r=0,n=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return n+(e-r)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);r=i.bottom,n=i.domBottom}}fromDOM(e){for(let t=0,r=0,n=0;;t++){let i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return r+(e-n)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);r=i.bottom,n=i.domBottom}}eq(e){return e instanceof Vr&&(this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to))}}function Yr(e,t){if(1==t.scale)return e;let r=t.toDOM(e.top),n=t.toDOM(e.bottom);return new jr(e.from,e.length,r,n-r,Array.isArray(e._content)?e._content.map(e=>Yr(e,t)):e._content)}const Wr=n.sj.define({combine:e=>e.join(" ")}),Gr=n.sj.define({combine:e=>e.indexOf(!0)>-1}),Hr=i.G.newName(),Kr=i.G.newName(),Jr=i.G.newName(),en={"&light":"."+Kr,"&dark":"."+Jr};function tn(e,t,r){return new i.G(t,{finish:t=>/&/.test(t)?t.replace(/&\w*/,t=>{if("&"==t)return e;if(!r||!r[t])throw new RangeError(`Unsupported selector: ${t}`);return r[t]}):e+" "+t})}const rn=tn("."+Hr,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},en),nn={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},sn=H.ie&&H.ie_version<=11;class on{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new k,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let e of t)this.queue.push(e);(H.ie&&H.ie_version<=11||H.ios&&e.composing)&&t.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||!H.android||!1===e.constructor.EDIT_CONTEXT||H.chrome&&H.chrome_version<126||(this.editContext=new cn(e),e.state.facet(at)&&(e.contentDOM.editContext=this.editContext.editContext)),sn&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver(()=>{var e;(null===(e=this.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){("change"!=e.type&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,n=this.selectionRange;if(r.state.facet(at)?r.root.activeElement!=this.dom:!f(this.dom,n))return;let i=n.anchorNode&&r.docView.nearest(n.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(H.ie&&H.ie_version<=11||H.android&&H.chrome)&&!r.state.selection.main.empty&&n.focusNode&&p(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=u(e.root);if(!t)return!1;let r=H.safari&&11==e.root.nodeType&&e.root.activeElement==this.dom&&function(e,t){if(t.getComposedRanges){let r=t.getComposedRanges(e.root)[0];if(r)return ln(e,r)}let r=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),r=e.getTargetRanges()[0]}return e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),r?ln(e,r):null}(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let n=f(this.dom,r);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){let r=t.focusNode,n=t.focusOffset;if(!r||t.anchorNode!=r||t.anchorOffset!=n)return!1;for(n=Math.min(n,v(r));;)if(n){if(1!=r.nodeType)return!1;let e=r.childNodes[n-1];"false"==e.contentEditable?n--:(r=e,n=v(r))}else{if(r==e)return!0;n=g(r),r=r.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),n&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(1==r.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(11!=r.nodeType)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let e of this.scrollTargets)e.removeEventListener("scroll",this.onScroll);for(let e of this.scrollTargets=t)e.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nn),sn&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),sn&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let e=()=>{let e=this.delayedAndroidKey;if(e){this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=e.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&e.force&&A(this.dom,e.key,e.keyCode)}};this.flushingAndroidKey=this.view.win.requestAnimationFrame(e)}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(r=this.delayedAndroidKey)||void 0===r?void 0:r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,n=!1;for(let i of e){let e=this.readMutation(i);e&&(e.typeOver&&(n=!0),-1==t?({from:t,to:r}=e):(t=Math.min(e.from,t),r=Math.max(e.to,r)))}return{from:t,to:r,typeOver:n}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),n=this.selectionChanged&&f(this.dom,this.selectionRange);if(e<0&&!n)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let i=new Ut(this.view,e,t,r);return this.view.docView.domChanged={newSel:i.newSel?i.newSel.main:null},i}flush(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,n=Xt(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),n}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.flags|=4),"childList"==e.type){let r=an(t,e.previousSibling||e.target.previousSibling,-1),n=an(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:n?t.posBefore(n):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(at)!=e.state.facet(at)&&(e.view.contentDOM.editContext=e.state.facet(at)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(r=this.resizeScroll)||void 0===r||r.disconnect();for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function an(e,t,r){for(;t;){let n=R.get(t);if(n&&n.parent==e)return n;let i=t.parentNode;t=i!=e.dom?i:r>0?t.nextSibling:t.previousSibling}return null}function ln(e,t){let r=t.startContainer,n=t.startOffset,i=t.endContainer,s=t.endOffset,o=e.docView.domAtPos(e.state.selection.main.anchor);return p(o.node,o.offset,i,s)&&([r,n,i,s]=[i,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:i,focusOffset:s}}class cn{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=t=>{let r=e.state.selection.main,{anchor:i,head:s}=r,o=this.toEditorPos(t.updateRangeStart),a=this.toEditorPos(t.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:t.updateRangeStart,editorBase:o,drifted:!1});let l={from:o,to:a,insert:n.EY.of(t.text.split("\n"))};if(l.from==this.from&&i<this.from?l.from=i:l.to==this.to&&i>this.to&&(l.to=i),l.from==l.to&&!l.insert.length){let i=n.OF.single(this.toEditorPos(t.selectionStart),this.toEditorPos(t.selectionEnd));return void(i.main.eq(r)||e.dispatch({selection:i,userEvent:"select"}))}if((H.mac||H.android)&&l.from==s-1&&/^\. ?$/.test(t.text)&&"off"==e.contentDOM.getAttribute("autocorrect")&&(l={from:o,to:a,insert:n.EY.of([t.text.replace("."," ")])}),this.pendingContextChange=l,!e.state.readOnly){let r=this.to-this.from+(l.to-l.from+l.insert.length);Ft(e,l,n.OF.single(this.toEditorPos(t.selectionStart,r),this.toEditorPos(t.selectionEnd,r)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=r=>{let n=[],i=null;for(let t=this.toEditorPos(r.rangeStart),s=this.toEditorPos(r.rangeEnd);t<s;t++){let r=e.coordsForChar(t);i=r&&new DOMRect(r.left,r.top,r.right-r.left,r.bottom-r.top)||i||new DOMRect,n.push(i)}t.updateCharacterBounds(r.rangeStart,n)},this.handlers.textformatupdate=t=>{let r=[];for(let e of t.getTextFormats()){let t=e.underlineStyle,n=e.underlineThickness;if("None"!=t&&"None"!=n){let i=this.toEditorPos(e.rangeStart),s=this.toEditorPos(e.rangeEnd);if(i<s){let e=`text-decoration: underline ${"Dashed"==t?"dashed ":"Squiggle"==t?"wavy ":""}${"Thin"==n?1:2}px`;r.push(fe.mark({attributes:{style:e}}).range(i,s))}}}e.dispatch({effects:st.of(fe.set(r))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:t}=this.composing;this.composing=null,t&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:e=>{this.editContext.updateControlBounds(e.contentDOM.getBoundingClientRect());let t=u(e.root);t&&t.rangeCount&&this.editContext.updateSelectionBounds(t.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,n=this.pendingContextChange;return e.changes.iterChanges((i,s,o,a,l)=>{if(r)return;let c=l.length-(s-i);if(n&&s>=n.to){if(n.from==i&&n.to==s&&n.insert.eq(l))return n=this.pendingContextChange=null,t+=c,void(this.to+=c);n=null,this.revertPending(e.state)}if(i+=t,(s+=t)<=this.from)this.from+=c,this.to+=c;else if(i<this.to){if(i<this.from||s>this.to||this.to-this.from+l.length>3e4)return void(r=!0);this.editContext.updateText(this.toContextPos(i),this.toContextPos(s),l.toString()),this.to+=c}t+=c}),n&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(e=>!e.isUserEvent("input.type")&&e.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.reset(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),n=this.toContextPos(t.head);this.editContext.selectionStart==r&&this.editContext.selectionEnd==n||this.editContext.updateSelection(r,n)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.to-this.from;e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class hn{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(e=>e.forEach(e=>r(e,this)))||(e=>this.update(e)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}(e.parent)||document,this.viewState=new zr(e.state||n.$t.create(e)),e.scrollTo&&e.scrollTo.is(it)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ct).map(e=>new ut(e));for(let n of this.plugins)n.update(this);this.observer=new on(this),this.inputState=new Vt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new St(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),(null===(t=document.fonts)||void 0===t?void 0:t.ready)&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let i=1==t.length&&t[0]instanceof n.ZX?t:1==t.length&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(i,this)}update(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,r=!1,i=!1,s=this.state;for(let n of e){if(n.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=n.state}if(this.destroyed)return void(this.viewState.state=s);let o=this.hasFocus,a=0,l=null;e.some(e=>e.annotation(xr))?(this.inputState.notifiedFocused=o,a=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,l=Or(s,o),l||(a=1));let c=this.observer.delayedAndroidKey,h=null;if(c?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(n.$t.phrases)!=this.state.facet(n.$t.phrases))return this.setState(s);t=kt.create(this,s,e),t.flags|=a;let u=this.viewState.scrollTarget;try{this.updateState=2;for(let t of e){if(u&&(u=u.map(t.changes)),t.scrollIntoView){let{main:e}=t.state.selection;u=new nt(e.empty?e:n.OF.cursor(e.head,e.head>e.anchor?-1:1))}for(let e of t.effects)e.is(it)&&(u=e.value.clip(this.state))}this.viewState.update(t,u),this.bidiCache=fn.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(bt)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(e=>e.isUserEvent("select.pointer")))}finally{this.updateState=0}if(t.startState.facet(Wr)!=t.state.facet(Wr)&&(this.viewState.mustMeasureContent=!0),(r||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!t.empty)for(let n of this.state.facet(We))try{n(t)}catch(d){ot(this.state,d,"update listener")}(l||h)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),h&&!Xt(this,h)&&c.force&&A(this.contentDOM,c.key,c.keyCode)})}setState(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let e of this.plugins)e.destroy(this);this.viewState=new zr(e),this.plugins=e.facet(ct).map(e=>new ut(e)),this.pluginMap.clear();for(let e of this.plugins)e.update(this);this.docView.destroy(),this.docView=new St(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(ct),r=e.state.facet(ct);if(t!=r){let n=[];for(let i of r){let r=t.indexOf(i);if(r<0)n.push(new ut(i));else{let t=this.plugins[r];t.mustUpdate=e,n.push(t)}}for(let t of this.plugins)t.mustUpdate!=e&&t.destroy(this);this.plugins=n,this.pluginMap.clear()}else for(let n of this.plugins)n.mustUpdate=e;for(let n=0;n<this.plugins.length;n++)this.plugins[n].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let r=t.value;if(r&&r.docViewUpdate)try{r.docViewUpdate(this)}catch(e){ot(this.state,e,"doc view update listener")}}}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,n=r.scrollTop*this.scaleY,{scrollAnchorPos:i,scrollAnchorHeight:s}=this.viewState;Math.abs(n-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let e=0;;e++){if(s<0)if(E(r))i=-1,s=this.viewState.heightMap.height;else{let e=this.viewState.scrollAnchorAt(n);i=e.from,s=e.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(e>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let l=[];4&a||([this.measureRequests,l]=[l,this.measureRequests]);let c=l.map(e=>{try{return e.read(this)}catch(t){return ot(this.state,t),dn}}),h=kt.create(this,this.state,[]),u=!1;h.flags|=a,t?t.flags|=a:t=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),u=this.docView.update(h),u&&this.docViewUpdate());for(let e=0;e<l.length;e++)if(c[e]!=dn)try{let t=l[e];t.write&&t.write(c[e],this)}catch(o){ot(this.state,o)}if(u&&this.docView.updateSelection(!0),!h.viewportChanged&&0==this.measureRequests.length){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let e=(i<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(i).top)-s;if(e>1||e<-1){n+=e,r.scrollTop=n/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let a of this.state.facet(We))a(t)}get themeClasses(){return Hr+" "+(this.state.facet(Gr)?Jr:Kr)+" "+this.state.facet(Wr)}updateAttrs(){let e=mn(this,dt,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(at)?"true":"false",class:"cm-content",style:`${H.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),mn(this,ft,t);let r=this.observer.ignore(()=>{let r=ce(this.contentDOM,this.contentAttrs,t),n=ce(this.dom,this.editorAttrs,e);return r||n});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let e of r.effects)if(e.is(hn.announce)){t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=e.value}}mountStyles(){this.styleModules=this.state.facet(bt);let e=this.state.facet(hn.cspNonce);i.G.mount(this.root,this.styleModules.concat(rn).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(null!=e.key)for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e);this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(void 0===t||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(t=>t.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return It(this,e,Dt(this,e,t,r))}moveByGroup(e,t){return It(this,e,Dt(this,e,t,t=>function(e,t,r){let i=e.state.charCategorizer(t),s=i(r);return e=>{let t=i(e);return s==n.Je.Space&&(s=t),s==t}}(this,e.head,t)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return n.OF.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t){return function(e,t,r,i){let s=$t(e,t.head,t.assoc||-1),o=i&&s.type==de.Text&&(e.lineWrapping||s.widgetLineBreaks)?e.coordsAtPos(t.assoc<0&&t.head>s.from?t.head-1:t.head):null;if(o){let t=e.dom.getBoundingClientRect(),i=e.textDirectionAt(s.from),a=e.posAtCoords({x:r==(i==Ne.LTR)?t.right-1:t.left+1,y:(o.top+o.bottom)/2});if(null!=a)return n.OF.cursor(a,r?-1:1)}return n.OF.cursor(r?s.to:s.from,r?-1:1)}(this,e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}moveVertically(e,t,r){return It(this,e,function(e,t,r,i){let s=t.head,o=r?1:-1;if(s==(r?e.state.doc.length:0))return n.OF.cursor(s,t.assoc);let a,l=t.goalColumn,c=e.contentDOM.getBoundingClientRect(),h=e.coordsAtPos(s,t.assoc||-1),u=e.documentTop;if(h)null==l&&(l=h.left-c.left),a=o<0?h.top:h.bottom;else{let t=e.viewState.lineBlockAt(s);null==l&&(l=Math.min(c.right-c.left,e.defaultCharacterWidth*(s-t.from))),a=(o<0?t.top:t.bottom)+u}let d=c.left+l,f=null!==i&&void 0!==i?i:e.viewState.heightOracle.textHeight>>1;for(let m=0;;m+=10){let t=a+(f+m)*o,r=Tt(e,{x:d,y:t},!1,o);if(t<c.top||t>c.bottom||(o<0?r<s:r>s)){let i=e.docView.coordsForChar(r),s=!i||t<i.top?-1:1;return n.OF.cursor(r,s,void 0,l)}}}(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}posAtCoords(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Tt(this,e,t)}coordsAtPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let n=this.state.doc.lineAt(e),i=this.bidiSpans(n);return y(r,i[Re.find(i,e-n.from,-1,t)].dir==Ne.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(et)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>un)return Be(e.length);let t,r=this.textDirectionAt(e.from);for(let i of this.bidiCache)if(i.from==e.from&&i.dir==r&&(i.fresh||$e(i.isolates,t=Ot(this,e))))return i.order;t||(t=Ot(this,e));let n=Ze(e.text,r,t);return this.bidiCache.push(new fn(e.from,e.to,r,t,!0,n)),n}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||H.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{j(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return it.of(new nt("number"==typeof e?n.OF.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return it.of(new nt(n.OF.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){null==e?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:"boolean"==typeof e?this.inputState.tabFocusMode=e?0:-1:0!=this.inputState.tabFocusMode&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return ht.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return ht.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=i.G.newName(),n=[Wr.of(r),bt.of(tn(`.${r}`,e))];return t&&t.dark&&n.push(Gr.of(!0)),n}static baseTheme(e){return n.Nb.lowest(bt.of(tn("."+Hr,e,en)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),n=r&&R.get(r)||R.get(e);return(null===(t=null===n||void 0===n?void 0:n.rootView)||void 0===t?void 0:t.view)||null}}hn.styleModule=bt,hn.inputHandler=Ge,hn.clipboardInputFilter=Ke,hn.clipboardOutputFilter=Je,hn.scrollHandler=rt,hn.focusChangeEffect=He,hn.perLineTextDirection=et,hn.exceptionSink=Ye,hn.updateListener=We,hn.editable=at,hn.mouseSelectionStyle=Ve,hn.dragMovesSelection=Fe,hn.clickAddsSelectionRange=Xe,hn.decorations=mt,hn.outerDecorations=pt,hn.atomicRanges=gt,hn.bidiIsolatedRanges=xt,hn.scrollMargins=vt,hn.darkTheme=Gr,hn.cspNonce=n.sj.define({combine:e=>e.length?e[0]:""}),hn.contentAttributes=ft,hn.editorAttributes=dt,hn.lineWrapping=hn.contentAttributes.of({class:"cm-lineWrapping"}),hn.announce=n.Pe.define();const un=4096,dn={};class fn{constructor(e,t,r,n,i,s){this.from=e,this.to=t,this.dir=r,this.isolates=n,this.fresh=i,this.order=s}static update(e,t){if(t.empty&&!e.some(e=>e.fresh))return e;let r=[],n=e.length?e[e.length-1].dir:Ne.LTR;for(let i=Math.max(0,e.length-10);i<e.length;i++){let s=e[i];s.dir!=n||t.touchesRange(s.from,s.to)||r.push(new fn(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function mn(e,t,r){for(let n=e.state.facet(t),i=n.length-1;i>=0;i--){let t=n[i],s="function"==typeof t?t(e):t;s&&oe(s,r)}return r}const pn=H.mac?"mac":H.windows?"win":H.linux?"linux":"key";function gn(e,t,r){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==r&&t.shiftKey&&(e="Shift-"+e),e}const xn=n.Nb.default(hn.domEventHandlers({keydown:(e,t)=>Nn(yn(t.state),e,t,"editor")})),On=n.sj.define({enables:xn}),vn=new WeakMap;function yn(e){let t=e.facet(On),r=vn.get(t);return r||vn.set(t,r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pn,r=Object.create(null),n=Object.create(null),i=(e,t)=>{let r=n[e];if(null==r)n[e]=t;else if(r!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=(e,n,s,o,a)=>{var l,c;let h=r[e]||(r[e]=Object.create(null)),u=n.split(/ (?!$)/).map(e=>function(e,t){const r=e.split(/-(?!$)/);let n,i,s,o,a=r[r.length-1];"Space"==a&&(a=" ");for(let l=0;l<r.length-1;++l){const e=r[l];if(/^(cmd|meta|m)$/i.test(e))o=!0;else if(/^a(lt)?$/i.test(e))n=!0;else if(/^(c|ctrl|control)$/i.test(e))i=!0;else if(/^s(hift)?$/i.test(e))s=!0;else{if(!/^mod$/i.test(e))throw new Error("Unrecognized modifier name: "+e);"mac"==t?o=!0:i=!0}}return n&&(a="Alt-"+a),i&&(a="Ctrl-"+a),o&&(a="Meta-"+a),s&&(a="Shift-"+a),a}(e,t));for(let t=1;t<u.length;t++){let r=u.slice(0,t).join(" ");i(r,!0),h[r]||(h[r]={preventDefault:!0,stopPropagation:!1,run:[t=>{let n=wn={view:t,prefix:r,scope:e};return setTimeout(()=>{wn==n&&(wn=null)},kn),!0}]})}let d=u.join(" ");i(d,!1);let f=h[d]||(h[d]={preventDefault:!1,stopPropagation:!1,run:(null===(c=null===(l=h._any)||void 0===l?void 0:l.run)||void 0===c?void 0:c.slice())||[]});s&&f.run.push(s),o&&(f.preventDefault=!0),a&&(f.stopPropagation=!0)};for(let o of e){let e=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let t of e){let e=r[t]||(r[t]=Object.create(null));e._any||(e._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:n}=o;for(let t in e)e[t].run.push(e=>n(e,Sn))}let n=o[t]||o.key;if(n)for(let t of e)s(t,n,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(t,"Shift-"+n,o.shift,o.preventDefault,o.stopPropagation)}return r}(t.reduce((e,t)=>e.concat(t),[]))),r}function bn(e,t,r){return Nn(yn(e.state),t,e,r)}let wn=null;const kn=4e3;let Sn=null;function Nn(e,t,r,i){Sn=t;let c=function(e){var t=!(a&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||l&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:s)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),h=(0,n.vS)(c,0),u=(0,n.Fh)(h)==c.length&&" "!=c,d="",f=!1,m=!1,p=!1;wn&&wn.view==r&&wn.scope==i&&(d=wn.prefix+" ",Kt.indexOf(t.keyCode)<0&&(m=!0,wn=null));let g,x,O=new Set,v=e=>{if(e){for(let t of e.run)if(!O.has(t)&&(O.add(t),t(r)))return e.stopPropagation&&(p=!0),!0;e.preventDefault&&(e.stopPropagation&&(p=!0),m=!0)}return!1},y=e[i];return y&&(v(y[d+gn(c,t,!u)])?f=!0:!u||!(t.altKey||t.metaKey||t.ctrlKey)||H.windows&&t.ctrlKey&&t.altKey||H.mac&&t.altKey&&!t.ctrlKey||!(g=s[t.keyCode])||g==c?u&&t.shiftKey&&v(y[d+gn(c,t,!0)])&&(f=!0):(v(y[d+gn(g,t,!0)])||t.shiftKey&&(x=o[t.keyCode])!=c&&x!=g&&v(y[d+gn(x,t,!1)]))&&(f=!0),!f&&v(y._any)&&(f=!0)),m&&(f=!0),f&&p&&t.stopPropagation(),Sn=null,f}class jn{constructor(e,t,r,n,i){this.className=e,this.left=t,this.top=r,this.width=n,this.height=i}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let n=e.coordsAtPos(r.head,r.assoc||1);if(!n)return[];let i=_n(e);return[new jn(t,n.left-i.left,n.top-i.top,null,n.bottom-n.top)]}return function(e,t,r){if(r.to<=e.viewport.from||r.from>=e.viewport.to)return[];let n=Math.max(r.from,e.viewport.from),i=Math.min(r.to,e.viewport.to),s=e.textDirection==Ne.LTR,o=e.contentDOM,a=o.getBoundingClientRect(),l=_n(e),c=o.querySelector(".cm-line"),h=c&&window.getComputedStyle(c),u=a.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),d=a.right-(h?parseInt(h.paddingRight):0),f=$t(e,n,1),m=$t(e,i,-1),p=f.type==de.Text?f:null,g=m.type==de.Text?m:null;p&&(e.lineWrapping||f.widgetLineBreaks)&&(p=An(e,n,1,p));g&&(e.lineWrapping||m.widgetLineBreaks)&&(g=An(e,i,-1,g));if(p&&g&&p.from==g.from&&p.to==g.to)return O(v(r.from,r.to,p));{let t=p?v(r.from,null,p):y(f,!1),n=g?v(null,r.to,g):y(m,!0),i=[];return(p||f).to<(g||m).from-(p&&g?1:0)||f.widgetLineBreaks>1&&t.bottom+e.defaultLineHeight/2<n.top?i.push(x(u,t.bottom,d,n.top)):t.bottom<n.top&&e.elementAtHeight((t.bottom+n.top)/2).type==de.Text&&(t.bottom=n.top=(t.bottom+n.top)/2),O(t).concat(i).concat(O(n))}function x(e,r,n,i){return new jn(t,e-l.left,r-l.top,n-e,i-r)}function O(e){let{top:t,bottom:r,horizontal:n}=e,i=[];for(let s=0;s<n.length;s+=2)i.push(x(n[s],t,n[s+1],r));return i}function v(t,r,n){let i=1e9,o=-1e9,a=[];function l(t,r,l,c,h){let f=e.coordsAtPos(t,t==n.to?-2:2),m=e.coordsAtPos(l,l==n.from?2:-2);f&&m&&(i=Math.min(f.top,m.top,i),o=Math.max(f.bottom,m.bottom,o),h==Ne.LTR?a.push(s&&r?u:f.left,s&&c?d:m.right):a.push(!s&&c?u:m.left,!s&&r?d:f.right))}let c=null!==t&&void 0!==t?t:n.from,h=null!==r&&void 0!==r?r:n.to;for(let s of e.visibleRanges)if(s.to>c&&s.from<h)for(let n=Math.max(s.from,c),i=Math.min(s.to,h);;){let s=e.state.doc.lineAt(n);for(let o of e.bidiSpans(s)){let e=o.from+s.from,a=o.to+s.from;if(e>=i)break;a>n&&l(Math.max(e,n),null==t&&e<=c,Math.min(a,i),null==r&&a>=h,o.dir)}if(n=s.to+1,n>=i)break}return 0==a.length&&l(c,null==t,h,null==r,e.textDirection),{top:i,bottom:o,horizontal:a}}function y(e,t){let r=a.top+(t?e.top:e.bottom);return{top:r,bottom:r,horizontal:[]}}}(e,t,r)}}function _n(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==Ne.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function An(e,t,r,n){let i=e.coordsAtPos(t,2*r);if(!i)return n;let s=e.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,a=e.posAtCoords({x:s.left+1,y:o}),l=e.posAtCoords({x:s.right-1,y:o});return null==a||null==l?n:{from:Math.max(n.from,Math.min(a,l)),to:Math.min(n.to,Math.max(a,l))}}class Pn{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(En)!=e.state.facet(En)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){!1!==this.layer.updateOnDocViewUpdate&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(En);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((e,t)=>{return r=e,n=this.drawn[t],!(r.constructor==n.constructor&&r.eq(n));var r,n})){let t=this.dom.firstChild,r=0;for(let n of e)n.update&&t&&n.constructor&&this.drawn[r].constructor&&n.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(n.draw(),t);for(;t;){let e=t.nextSibling;t.remove(),t=e}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const En=n.sj.define();function Qn(e){return[ht.define(t=>new Pn(t,e)),En.of(e)]}const Cn=n.sj.define({combine:e=>(0,n.QR)(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function Mn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Cn.of(e),Rn,Dn,Ln,tt.of(!0)]}function Tn(e){return e.startState.facet(Cn)!=e.state.facet(Cn)}const Rn=Qn({above:!0,markers(e){let{state:t}=e,r=t.facet(Cn),i=[];for(let s of t.selection.ranges){let o=s==t.selection.main;if(s.empty||r.drawRangeCursor){let t=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",r=s.empty?s:n.OF.cursor(s.head,s.head>s.anchor?-1:1);for(let n of jn.forRange(e,t,r))i.push(n)}}return i},update(e,t){e.transactions.some(e=>e.selection)&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");let r=Tn(e);return r&&$n(e.state,t),e.docChanged||e.selectionSet||r},mount(e,t){$n(t.state,e)},class:"cm-cursorLayer"});function $n(e,t){t.style.animationDuration=e.facet(Cn).cursorBlinkRate+"ms"}const Dn=Qn({above:!1,markers:e=>e.state.selection.ranges.map(t=>t.empty?[]:jn.forRange(e,"cm-selectionBackground",t)).reduce((e,t)=>e.concat(t)),update:(e,t)=>e.docChanged||e.selectionSet||e.viewportChanged||Tn(e),class:"cm-selectionLayer"}),Ln=n.Nb.highest(hn.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),In=n.Pe.define({map:(e,t)=>null==e?null:t.mapPos(e)}),Zn=n.sU.define({create:()=>null,update:(e,t)=>(null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((e,t)=>t.is(In)?t.value:e,e))}),Bn=ht.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let r=e.state.field(Zn);null==r?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(Zn)!=r||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(Zn),r=null!=t&&e.coordsAtPos(t);if(!r)return null;let n=e.scrollDOM.getBoundingClientRect();return{left:r.left-n.left+e.scrollDOM.scrollLeft*e.scaleX,top:r.top-n.top+e.scrollDOM.scrollTop*e.scaleY,height:r.bottom-r.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:r}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/r+"px",this.cursor.style.height=e.height/r+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(Zn)!=e&&this.view.dispatch({effects:In.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function zn(){return[Zn,Bn]}function qn(e,t,r,n,i){t.lastIndex=0;for(let s,o=e.iterRange(r,n),a=r;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=t.exec(o.value);)i(a+s.index,s)}class Un{constructor(e){const{regexp:t,decoration:r,decorate:n,boundary:i,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,n)this.addMatch=(e,t,r,i)=>n(i,r,r+e[0].length,e,t);else if("function"==typeof r)this.addMatch=(e,t,n,i)=>{let s=r(e,t,n);s&&i(n,n+e[0].length,s)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(e,t,n,i)=>i(n,n+e[0].length,r)}this.boundary=i,this.maxLength=s}createDeco(e){let t=new n.vB,r=t.add.bind(t);for(let{from:n,to:i}of function(e,t){let r=e.visibleRanges;if(1==r.length&&r[0].from==e.viewport.from&&r[0].to==e.viewport.to)return r;let n=[];for(let{from:i,to:s}of r)i=Math.max(e.state.doc.lineAt(i).from,i-t),s=Math.min(e.state.doc.lineAt(s).to,s+t),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}(e,this.maxLength))qn(e.state.doc,this.regexp,n,i,(t,n)=>this.addMatch(n,e,t,r));return t.finish()}updateDeco(e,t){let r=1e9,n=-1;return e.docChanged&&e.changes.iterChanges((t,i,s,o)=>{o>=e.view.viewport.from&&s<=e.view.viewport.to&&(r=Math.min(s,r),n=Math.max(o,n))}),e.viewportMoved||n-r>1e3?this.createDeco(e.view):n>-1?this.updateRange(e.view,t.map(e.changes),r,n):t}updateRange(e,t,r,n){for(let i of e.visibleRanges){let s=Math.max(i.from,r),o=Math.min(i.to,n);if(o>=s){let r=e.state.doc.lineAt(s),n=r.to<o?e.state.doc.lineAt(o):r,a=Math.max(i.from,r.from),l=Math.min(i.to,n.to);if(this.boundary){for(;s>r.from;s--)if(this.boundary.test(r.text[s-1-r.from])){a=s;break}for(;o<n.to;o++)if(this.boundary.test(n.text[o-n.from])){l=o;break}}let c,h=[],u=(e,t,r)=>h.push(r.range(e,t));if(r==n)for(this.regexp.lastIndex=a-r.from;(c=this.regexp.exec(r.text))&&c.index<l-r.from;)this.addMatch(c,e,c.index+r.from,u);else qn(e.state.doc,this.regexp,a,l,(t,r)=>this.addMatch(r,e,t,u));t=t.update({filterFrom:a,filterTo:l,filter:(e,t)=>e<a||t>l,add:h})}}return t}}const Xn=null!=/x/.unicode?"gu":"g",Fn=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Xn),Vn={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Yn=null;const Wn=n.sj.define({combine(e){let t=(0,n.QR)(e,{render:null,specialChars:Fn,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==Yn&&"undefined"!=typeof document&&document.body){let t=document.body.style;Yn=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return Yn||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Xn)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Xn)),t}});function Gn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Wn.of(e),Hn||(Hn=ht.fromClass(class{constructor(e){this.view=e,this.decorations=fe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(Wn)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Un({regexp:e.specialChars,decoration:(t,r,i)=>{let{doc:s}=r.state,o=(0,n.vS)(t[0],0);if(9==o){let e=s.lineAt(i),t=r.state.tabSize,o=(0,n.y$)(e.text,t,i-e.from);return fe.replace({widget:new Jn((t-o%t)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=fe.replace({widget:new Kn(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(Wn);e.startState.facet(Wn)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let Hn=null;class Kn extends ue{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),r=e.state.phrase("Control character")+" "+(Vn[this.code]||"0x"+this.code.toString(16)),n=this.options.render&&this.options.render(this.code,r,t);if(n)return n;let i=document.createElement("span");return i.textContent=t,i.title=r,i.setAttribute("aria-label",r),i.className="cm-specialChar",i}ignoreEvent(){return!1}}class Jn extends ue{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function ei(){return ri}const ti=fe.line({class:"cm-activeLine"}),ri=ht.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,r=[];for(let n of e.state.selection.ranges){let i=e.lineBlockAt(n.head);i.from>t&&(r.push(ti.range(i.from)),t=i.from)}return fe.set(r)}},{decorations:e=>e.decorations});class ni extends ue{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild("string"==typeof this.content?document.createTextNode(this.content):"function"==typeof this.content?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?m(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),n=y(t[0],"rtl"!=r.direction),i=parseInt(r.lineHeight);return n.bottom-n.top>1.5*i?{left:n.left,right:n.right,top:n.top,bottom:n.top+i}:n}ignoreEvent(){return!1}}function ii(e){let t=ht.fromClass(class{constructor(t){this.view=t,this.placeholder=e?fe.set([fe.widget({widget:new ni(e),side:1}).range(0)]):fe.none}get decorations(){return this.view.state.doc.length?fe.none:this.placeholder}},{decorations:e=>e.decorations});return"string"==typeof e?[t,hn.contentAttributes.of({"aria-placeholder":e})]:t}const si=2e3;function oi(e,t){let r=e.posAtCoords({x:t.clientX,y:t.clientY},!1),i=e.state.doc.lineAt(r),s=r-i.from,o=s>si?-1:s==i.length?function(e,t){let r=e.coordsAtPos(e.viewport.from);return r?Math.round(Math.abs((r.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):(0,n.y$)(i.text,e.state.tabSize,r-i.from);return{line:i.number,col:o,off:s}}function ai(e,t){let r=oi(e,t),i=e.state.selection;return r?{update(e){if(e.docChanged){let t=e.changes.mapPos(e.startState.doc.line(r.line).from),n=e.state.doc.lineAt(t);r={line:n.number,col:r.col,off:Math.min(r.off,n.length)},i=i.map(e.changes)}},get(t,s,o){let a=oi(e,t);if(!a)return i;let l=function(e,t,r){let i=Math.min(t.line,r.line),s=Math.max(t.line,r.line),o=[];if(t.off>si||r.off>si||t.col<0||r.col<0){let a=Math.min(t.off,r.off),l=Math.max(t.off,r.off);for(let t=i;t<=s;t++){let r=e.doc.line(t);r.length<=l&&o.push(n.OF.range(r.from+a,r.to+l))}}else{let a=Math.min(t.col,r.col),l=Math.max(t.col,r.col);for(let t=i;t<=s;t++){let r=e.doc.line(t),i=(0,n.kn)(r.text,a,e.tabSize,!0);if(i<0)o.push(n.OF.cursor(r.to));else{let t=(0,n.kn)(r.text,l,e.tabSize);o.push(n.OF.range(r.from+i,r.from+t))}}}return o}(e.state,r,a);return l.length?o?n.OF.create(l.concat(i.ranges)):n.OF.create(l):i}}:null}function li(e){let t=(null===e||void 0===e?void 0:e.eventFilter)||(e=>e.altKey&&0==e.button);return hn.mouseSelectionStyle.of((e,r)=>t(r)?ai(e,r):null)}const ci={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},hi={style:"cursor: crosshair"};function ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=ci[e.key||"Alt"],n=ht.fromClass(class{constructor(e){this.view=e,this.isDown=!1}set(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}},{eventObservers:{keydown(e){this.set(e.keyCode==t||r(e))},keyup(e){e.keyCode!=t&&r(e)||this.set(!1)},mousemove(e){this.set(r(e))}}});return[n,hn.contentAttributes.of(e=>{var t;return(null===(t=e.plugin(n))||void 0===t?void 0:t.isDown)?hi:null})]}const di="-10000px";class fi{constructor(e,t,r,n){this.facet=t,this.createTooltipView=r,this.removeTooltipView=n,this.input=e.state.facet(t),this.tooltips=this.input.filter(e=>e);let i=null;this.tooltipViews=this.tooltips.map(e=>i=r(e,i))}update(e,t){var r;let n=e.state.facet(this.facet),i=n.filter(e=>e);if(n===this.input){for(let t of this.tooltipViews)t.update&&t.update(e);return!1}let s=[],o=t?[]:null;for(let a=0;a<i.length;a++){let r=i[a],n=-1;if(r){for(let e=0;e<this.tooltips.length;e++){let t=this.tooltips[e];t&&t.create==r.create&&(n=e)}if(n<0)s[a]=this.createTooltipView(r,a?s[a-1]:null),o&&(o[a]=!!r.above);else{let r=s[a]=this.tooltipViews[n];o&&(o[a]=t[n]),r.update&&r.update(e)}}}for(let a of this.tooltipViews)s.indexOf(a)<0&&(this.removeTooltipView(a),null===(r=a.destroy)||void 0===r||r.call(a));return t&&(o.forEach((e,r)=>t[r]=e),t.length=o.length),this.input=n,this.tooltips=i,this.tooltipViews=s,!0}}function mi(e){let t=e.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:t.clientHeight,right:t.clientWidth}}const pi=n.sj.define({combine:e=>{var t,r,n;return{position:H.ios?"absolute":(null===(t=e.find(e=>e.position))||void 0===t?void 0:t.position)||"fixed",parent:(null===(r=e.find(e=>e.parent))||void 0===r?void 0:r.parent)||null,tooltipSpace:(null===(n=e.find(e=>e.tooltipSpace))||void 0===n?void 0:n.tooltipSpace)||mi}}}),gi=new WeakMap,xi=ht.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(pi);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver="function"==typeof ResizeObserver?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new fi(e,bi,(e,t)=>this.createTooltip(e,t),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let r=t||e.geometryChanged,n=e.state.facet(pi);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let e of this.manager.tooltipViews)e.dom.style.position=this.position;r=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let e of this.manager.tooltipViews)this.container.appendChild(e.dom);r=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);r&&this.maybeMeasure()}createTooltip(e,t){let r=e.create(this.view),n=t?t.dom:null;if(r.dom.classList.add("cm-tooltip"),e.arrow&&!r.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let e=document.createElement("div");e.className="cm-tooltip-arrow",r.dom.appendChild(e)}return r.dom.style.position=this.position,r.dom.style.top=di,r.dom.style.left="0px",this.container.insertBefore(r.dom,n),r.mount&&r.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(r.dom),r}destroy(){var e,t,r;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),null===(e=n.destroy)||void 0===e||e.call(n);this.parent&&this.container.remove(),null===(t=this.resizeObserver)||void 0===t||t.disconnect(),null===(r=this.intersectionObserver)||void 0===r||r.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=1,t=1,r=!1;if("fixed"==this.position&&this.manager.tooltipViews.length){let{dom:e}=this.manager.tooltipViews[0];if(H.gecko)r=e.offsetParent!=this.container.ownerDocument.body;else if(e.style.top==di&&"0px"==e.style.left){let t=e.getBoundingClientRect();r=Math.abs(t.top+1e4)>1||Math.abs(t.left)>1}}if(r||"absolute"==this.position)if(this.parent){let r=this.parent.getBoundingClientRect();r.width&&r.height&&(e=r.width/this.parent.offsetWidth,t=r.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=yt(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((e,t)=>{let r=this.manager.tooltipViews[t];return r.getCoords?r.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(e=>{let{dom:t}=e;return t.getBoundingClientRect()}),space:this.view.state.facet(pi).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let e of this.manager.tooltipViews)e.dom.style.position="absolute"}let{visible:r,space:n,scaleX:i,scaleY:s}=e,o=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:h}=c,u=e.pos[a],d=e.size[a];if(!u||!1!==l.clip&&(u.bottom<=Math.max(r.top,n.top)||u.top>=Math.min(r.bottom,n.bottom)||u.right<Math.max(r.left,n.left)-.1||u.left>Math.min(r.right,n.right)+.1)){h.style.top=di;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,m=f?7:0,p=d.right-d.left,g=null!==(t=gi.get(c))&&void 0!==t?t:d.bottom-d.top,x=c.offset||yi,O=this.view.textDirection==Ne.LTR,v=d.width>n.right-n.left?O?n.left:n.right-d.width:O?Math.max(n.left,Math.min(u.left-(f?14:0)+x.x,n.right-p)):Math.min(Math.max(n.left,u.left-p+(f?14:0)-x.x),n.right-p),y=this.above[a];!l.strictSide&&(y?u.top-g-m-x.y<n.top:u.bottom+g+m+x.y>n.bottom)&&y==n.bottom-u.bottom>u.top-n.top&&(y=this.above[a]=!y);let b=(y?u.top-n.top:n.bottom-u.bottom)-m;if(b<g&&!1!==c.resize){if(b<this.view.defaultLineHeight){h.style.top=di;continue}gi.set(c,g),h.style.height=(g=b)/s+"px"}else h.style.height&&(h.style.height="");let w=y?u.top-g-m-x.y:u.bottom+m+x.y,k=v+p;if(!0!==c.overlap)for(let e of o)e.left<k&&e.right>v&&e.top<w+g&&e.bottom>w&&(w=y?e.top-g-2-m:e.bottom+m+2);if("absolute"==this.position?(h.style.top=(w-e.parent.top)/s+"px",Oi(h,(v-e.parent.left)/i)):(h.style.top=w/s+"px",Oi(h,v/i)),f){let e=u.left+(O?x.x:-x.x)-(v+14-7);f.style.left=e/i+"px"}!0!==c.overlap&&o.push({left:v,top:w,right:k,bottom:w+g}),h.classList.toggle("cm-tooltip-above",y),h.classList.toggle("cm-tooltip-below",!y),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=di}},{eventObservers:{scroll(){this.maybeMeasure()}}});function Oi(e,t){let r=parseInt(e.style.left,10);(isNaN(r)||Math.abs(t-r)>1)&&(e.style.left=t+"px")}const vi=hn.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),yi={x:0,y:0},bi=n.sj.define({enables:[xi,vi]}),wi=n.sj.define({combine:e=>e.reduce((e,t)=>e.concat(t),[])});class ki{static create(e){return new ki(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new fi(e,wi,(e,t)=>this.createHostedView(e,t),e=>e.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)null===(e=t.destroy)||void 0===e||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let n=r[e];if(void 0!==n)if(void 0===t)t=n;else if(t!==n)return}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Si=bi.compute([wi],e=>{let t=e.facet(wi);return 0===t.length?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var t;return null!==(t=e.end)&&void 0!==t?t:e.pos})),create:ki.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class Ni{constructor(e,t,r,n,i){this.view=e,this.source=t,this.field=r,this.setHover=n,this.hoverTime=i,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let n,i=1;if(r instanceof ee)n=r.posAtStart;else{if(n=e.posAtCoords(t),null==n)return;let r=e.coordsAtPos(n);if(!r||t.y<r.top||t.y>r.bottom||t.x<r.left-e.defaultCharacterWidth||t.x>r.right+e.defaultCharacterWidth)return;let s=e.bidiSpans(e.state.doc.lineAt(n)).find(e=>e.from<=n&&e.to>=n),o=s&&s.dir==Ne.RTL?-1:1;i=t.x<r.left?-o:o}let s=this.source(e,n,i);if(null===s||void 0===s?void 0:s.then){let t=this.pending={pos:n};s.then(r=>{this.pending==t&&(this.pending=null,!r||Array.isArray(r)&&!r.length||e.dispatch({effects:this.setHover.of(Array.isArray(r)?r:[r])}))},t=>ot(e.state,t,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(xi),t=e?e.manager.tooltips.findIndex(e=>e.create==ki.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:n,tooltip:i}=this;if(n.length&&i&&!function(e,t){let r,{left:n,right:i,top:s,bottom:o}=e.getBoundingClientRect();if(r=e.querySelector(".cm-tooltip-arrow")){let e=r.getBoundingClientRect();s=Math.min(e.top,s),o=Math.max(e.bottom,o)}return t.clientX>=n-ji&&t.clientX<=i+ji&&t.clientY>=s-ji&&t.clientY<=o+ji}(i.dom,e)||this.pending){let{pos:i}=n[0]||this.pending,s=null!==(r=null===(t=n[0])||void 0===t?void 0:t.end)&&void 0!==r?r:i;(i==s?this.view.posAtCoords(this.lastMove)==i:function(e,t,r,n,i){let s=e.scrollDOM.getBoundingClientRect(),o=e.documentTop+e.documentPadding.top+e.contentHeight;if(s.left>n||s.right<n||s.top>i||Math.min(s.bottom,o)<i)return!1;let a=e.posAtCoords({x:n,y:i},!1);return a>=t&&a<=r}(this.view,i,s,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:t}=this;t&&t.dom.contains(e.relatedTarget)?this.watchTooltipLeave(t.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const ji=4;function _i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.Pe.define(),i=n.sU.define({create:()=>[],update(e,i){if(e.length&&(t.hideOnChange&&(i.docChanged||i.selection)?e=[]:t.hideOn&&(e=e.filter(e=>!t.hideOn(i,e))),i.docChanged)){let t=[];for(let r of e){let e=i.changes.mapPos(r.pos,-1,n.iR.TrackDel);if(null!=e){let n=Object.assign(Object.create(null),r);n.pos=e,null!=n.end&&(n.end=i.changes.mapPos(n.end)),t.push(n)}}e=t}for(let t of i.effects)t.is(r)&&(e=t.value),t.is(Pi)&&(e=[]);return e},provide:e=>wi.from(e)});return{active:i,extension:[i,ht.define(n=>new Ni(n,e,i,r,t.hoverTime||300)),Si]}}function Ai(e,t){let r=e.plugin(xi);if(!r)return null;let n=r.manager.tooltips.indexOf(t);return n<0?null:r.manager.tooltipViews[n]}const Pi=n.Pe.define();const Ei=n.sj.define({combine(e){let t,r;for(let n of e)t=t||n.topContainer,r=r||n.bottomContainer;return{topContainer:t,bottomContainer:r}}});function Qi(e,t){let r=e.plugin(Ci),n=r?r.specs.indexOf(t):-1;return n>-1?r.panels[n]:null}const Ci=ht.fromClass(class{constructor(e){this.input=e.state.facet(Ri),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(t=>t(e));let t=e.state.facet(Ei);this.top=new Mi(e,!0,t.topContainer),this.bottom=new Mi(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let r of this.panels)r.dom.classList.add("cm-panel"),r.mount&&r.mount()}update(e){let t=e.state.facet(Ei);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Mi(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Mi(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let r=e.state.facet(Ri);if(r!=this.input){let t=r.filter(e=>e),n=[],i=[],s=[],o=[];for(let r of t){let t,a=this.specs.indexOf(r);a<0?(t=r(e.view),o.push(t)):(t=this.panels[a],t.update&&t.update(e)),n.push(t),(t.top?i:s).push(t)}this.specs=t,this.panels=n,this.top.sync(i),this.bottom.sync(s);for(let e of o)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}else for(let n of this.panels)n.update&&n.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>hn.scrollMargins.of(t=>{let r=t.plugin(e);return r&&{top:r.top.scrollMargin(),bottom:r.bottom.scrollMargin()}})});class Mi{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(0==this.panels.length)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=Ti(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=Ti(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function Ti(e){let t=e.nextSibling;return e.remove(),t}const Ri=n.sj.define({enables:Ci});class $i extends n.FB{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}$i.prototype.elementClass="",$i.prototype.toDOM=void 0,$i.prototype.mapMode=n.iR.TrackBefore,$i.prototype.startSide=$i.prototype.endSide=-1,$i.prototype.point=!0;const Di=n.sj.define(),Li=n.sj.define(),Ii={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>n.om.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Zi=n.sj.define();function Bi(e){return[qi(),Zi.of({...Ii,...e})]}const zi=n.sj.define({combine:e=>e.some(e=>e)});function qi(e){let t=[Ui];return e&&!1===e.fixed&&t.push(zi.of(!0)),t}const Ui=ht.fromClass(class{constructor(e){this.view=e,this.domAfter=null,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(Zi).map(t=>new Yi(e,t)),this.fixed=!e.state.facet(zi);for(let t of this.gutters)"after"==t.config.side?this.getDOMAfter().appendChild(t.dom):this.dom.appendChild(t.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(e){if(this.updateGutters(e)){let t=this.prevViewport,r=e.view.viewport,n=Math.min(t.to,r.to)-Math.max(t.from,r.from);this.syncGutters(n<.8*(r.to-r.from))}if(e.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(zi)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let r=n.om.iter(this.view.state.facet(Di),this.view.viewport.from),i=[],s=this.gutters.map(e=>new Vi(e,this.view.viewport,-this.view.documentPadding.top));for(let n of this.view.viewportLineBlocks)if(i.length&&(i=[]),Array.isArray(n.type)){let e=!0;for(let t of n.type)if(t.type==de.Text&&e){Fi(r,i,t.from);for(let e of s)e.line(this.view,t,i);e=!1}else if(t.widget)for(let e of s)e.widget(this.view,t)}else if(n.type==de.Text){Fi(r,i,n.from);for(let e of s)e.line(this.view,n,i)}else if(n.widget)for(let e of s)e.widget(this.view,n);for(let n of s)n.finish();e&&(this.view.scrollDOM.insertBefore(this.dom,t),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(e){let t=e.startState.facet(Zi),r=e.state.facet(Zi),i=e.docChanged||e.heightChanged||e.viewportChanged||!n.om.eq(e.startState.facet(Di),e.state.facet(Di),e.view.viewport.from,e.view.viewport.to);if(t==r)for(let n of this.gutters)n.update(e)&&(i=!0);else{i=!0;let n=[];for(let i of r){let r=t.indexOf(i);r<0?n.push(new Yi(this.view,i)):(this.gutters[r].update(e),n.push(this.gutters[r]))}for(let e of this.gutters)e.dom.remove(),n.indexOf(e)<0&&e.destroy();for(let e of n)"after"==e.config.side?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.gutters=n}return i}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:e=>hn.scrollMargins.of(t=>{let r=t.plugin(e);if(!r||0==r.gutters.length||!r.fixed)return null;let n=r.dom.offsetWidth*t.scaleX,i=r.domAfter?r.domAfter.offsetWidth*t.scaleX:0;return t.textDirection==Ne.LTR?{left:n,right:i}:{right:n,left:i}})});function Xi(e){return Array.isArray(e)?e:[e]}function Fi(e,t,r){for(;e.value&&e.from<=r;)e.from==r&&t.push(e.value),e.next()}class Vi{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=n.om.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:n}=this,i=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==n.elements.length){let t=new Wi(e,s,i,r);n.elements.push(t),n.dom.appendChild(t.dom)}else n.elements[this.i].update(e,s,i,r);this.height=t.bottom,this.i++}line(e,t,r){let n=[];Fi(this.cursor,n,t.from),r.length&&(n=n.concat(r));let i=this.gutter.config.lineMarker(e,t,n);i&&n.unshift(i);let s=this.gutter;(0!=n.length||s.config.renderEmptyElements)&&this.addElement(e,t,n)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),n=r?[r]:null;for(let i of e.state.facet(Li)){let r=i(e,t.widget,t);r&&(n||(n=[])).push(r)}n&&this.addElement(e,t,n)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class Yi{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,n=>{let i,s=n.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let e=s.getBoundingClientRect();i=(e.top+e.bottom)/2}else i=n.clientY;let o=e.lineBlockAtHeight(i-e.documentTop);t.domEventHandlers[r](e,o,n)&&n.preventDefault()});this.markers=Xi(t.markers(e)),t.initialSpacer&&(this.spacer=new Wi(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Xi(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let t=this.config.updateSpacer(this.spacer.markers[0],e);t!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[t])}let r=e.view.viewport;return!n.om.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class Wi{constructor(e,t,r,n){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,n)}update(e,t,r,n){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].compare(t[r]))return!1;return!0}(this.markers,n)||this.setMarkers(e,n)}setMarkers(e,t){let r="cm-gutterElement",n=this.dom.firstChild;for(let i=0,s=0;;){let o=s,a=i<t.length?t[i++]:null,l=!1;if(a){let e=a.elementClass;e&&(r+=" "+e);for(let t=s;t<this.markers.length;t++)if(this.markers[t].compare(a)){o=t,l=!0;break}}else o=this.markers.length;for(;s<o;){let e=this.markers[s++];if(e.toDOM){e.destroy(n);let t=n.nextSibling;n.remove(),n=t}}if(!a)break;a.toDOM&&(l?n=n.nextSibling:this.dom.insertBefore(a.toDOM(e),n)),l&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const Gi=n.sj.define(),Hi=n.sj.define(),Ki=n.sj.define({combine:e=>(0,n.QR)(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let n in t){let e=r[n],i=t[n];r[n]=e?(t,r,n)=>e(t,r,n)||i(t,r,n):i}return r}})});class Ji extends $i{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function es(e,t){return e.state.facet(Ki).formatNumber(t,e.state)}const ts=Zi.compute([Ki],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Gi),lineMarker:(e,t,r)=>r.some(e=>e.toDOM)?null:new Ji(es(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,r)=>{for(let n of e.state.facet(Hi)){let i=n(e,t,r);if(i)return i}return null},lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer:e=>new Ji(es(e,ns(e.state.doc.lines))),updateSpacer(e,t){let r=es(t.view,ns(t.view.state.doc.lines));return r==e.number?e:new Ji(r)},domEventHandlers:e.facet(Ki).domEventHandlers,side:"before"}));function rs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Ki.of(e),qi(),ts]}function ns(e){let t=9;for(;t<e;)t=10*t+9;return t}const is=new class extends $i{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},ss=Di.compute(["selection"],e=>{let t=[],r=-1;for(let n of e.selection.ranges){let i=e.doc.lineAt(n.head).from;i>r&&(r=i,t.push(is.range(i)))}return n.om.of(t)});function os(){return ss}},119:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(345)},131:(e,t,r)=>{"use strict";t.sha1=r(151),t.sha224=r(612),t.sha256=r(273),t.sha384=r(349),t.sha512=r(652)},151:(e,t,r)=>{"use strict";var n=r(328),i=r(876),s=r(391),o=n.rotl32,a=n.sum32,l=n.sum32_5,c=s.ft_1,h=i.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(d,h),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],f=this.h[4];for(n=0;n<r.length;n++){var m=~~(n/20),p=l(o(i,5),c(m,s,h,d),f,r[n],u[m]);f=d,d=h,h=o(s,30),s=i,i=p}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],h),this.h[3]=a(this.h[3],d),this.h[4]=a(this.h[4],f)},d.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},166:(e,t,r)=>{var n=t;n.utils=r(328),n.common=r(876),n.sha=r(131),n.ripemd=r(18),n.hmac=r(54),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},240:e=>{"use strict";for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",r={},n=0;n<32;n++){var i=t.charAt(n);if(void 0!==r[i])throw new TypeError(i+" is ambiguous");r[i]=n}function s(e){var t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){for(var t=1,r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=s(t)^n>>5}for(t=s(t),r=0;r<e.length;++r){var i=e.charCodeAt(r);t=s(t)^31&i}return t}function a(e,t){if(t=t||90,e.length<8)return e+" too short";if(e.length>t)return"Exceeds length limit";var n=e.toLowerCase(),i=e.toUpperCase();if(e!==n&&e!==i)return"Mixed-case string "+e;var a=(e=n).lastIndexOf("1");if(-1===a)return"No separator character for "+e;if(0===a)return"Missing prefix for "+e;var l=e.slice(0,a),c=e.slice(a+1);if(c.length<6)return"Data too short";var h=o(l);if("string"===typeof h)return h;for(var u=[],d=0;d<c.length;++d){var f=c.charAt(d),m=r[f];if(void 0===m)return"Unknown character "+f;h=s(h)^m,d+6>=c.length||u.push(m)}return 1!==h?"Invalid checksum for "+e:{prefix:l,words:u}}function l(e,t,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<e.length;++l)for(i=i<<t|e[l],s+=t;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=t)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}e.exports={decodeUnsafe:function(){var e=a.apply(null,arguments);if("object"===typeof e)return e},decode:function(e){var t=a.apply(null,arguments);if("object"===typeof t)return t;throw new Error(t)},encode:function(e,r,n){if(n=n||90,e.length+7+r.length>n)throw new TypeError("Exceeds length limit");var i=o(e=e.toLowerCase());if("string"===typeof i)throw new Error(i);for(var a=e+"1",l=0;l<r.length;++l){var c=r[l];if(c>>5!==0)throw new Error("Non 5-bit word");i=s(i)^c,a+=t.charAt(c)}for(l=0;l<6;++l)i=s(i);for(i^=1,l=0;l<6;++l){a+=t.charAt(i>>5*(5-l)&31)}return a},toWordsUnsafe:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t},toWords:function(e){var t=l(e,8,5,!0);if(Array.isArray(t))return t;throw new Error(t)},fromWordsUnsafe:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t},fromWords:function(e){var t=l(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}}},273:(e,t,r)=>{"use strict";var n=r(328),i=r(876),s=r(391),o=r(599),a=n.sum32,l=n.sum32_4,c=n.sum32_5,h=s.ch32,u=s.maj32,d=s.s0_256,f=s.s1_256,m=s.g0_256,p=s.g1_256,g=i.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function O(){if(!(this instanceof O))return new O;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}n.inherits(O,g),e.exports=O,O.blockSize=512,O.outSize=256,O.hmacStrength=192,O.padLength=64,O.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=l(p(r[n-2]),r[n-7],m(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],g=this.h[2],x=this.h[3],O=this.h[4],v=this.h[5],y=this.h[6],b=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var w=c(b,f(O),h(O,v,y),this.k[n],r[n]),k=a(d(i),u(i,s,g));b=y,y=v,v=O,O=a(x,w),x=g,g=s,s=i,i=a(w,k)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],g),this.h[3]=a(this.h[3],x),this.h[4]=a(this.h[4],O),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],y),this.h[7]=a(this.h[7],b)},O.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},328:(e,t,r)=>{"use strict";var n=r(599),i=r(596);function s(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=l(i.toString(16))}return r},t.zero2=a,t.zero8=l,t.join32=function(e,t,r,i){var s=r-t;n(s%4===0);for(var o=new Array(s/4),a=0,l=t;a<o.length;a++,l+=4){var c;c="big"===i?e[l]<<24|e[l+1]<<16|e[l+2]<<8|e[l+3]:e[l+3]<<24|e[l+2]<<16|e[l+1]<<8|e[l],o[a]=c>>>0}return o},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,s,o,a){var l=0,c=t;return l+=(c=c+n>>>0)<t?1:0,l+=(c=c+s>>>0)<s?1:0,e+r+i+o+(l+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,s,o,a,l,c){var h=0,u=t;return h+=(u=u+n>>>0)<t?1:0,h+=(u=u+s>>>0)<s?1:0,h+=(u=u+a>>>0)<a?1:0,e+r+i+o+l+(h+=(u=u+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,s,o,a,l,c){return t+n+s+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},335:(e,t,r)=>{"use strict";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}r.d(t,{Ay:()=>jr});var i=r(554),s=r(498),o=r(107),a=r(80),l=r(728);function c(e,t){return r=>{let{state:n,dispatch:i}=r;if(n.readOnly)return!1;let s=e(t,n);return!!s&&(i(n.update(s)),!0)}}const h=c(g,0),u=c(p,0),d=c((e,t)=>p(e,t,function(e){let t=[];for(let r of e.selection.ranges){let n=e.doc.lineAt(r.from),i=r.to<=n.to?n:e.doc.lineAt(r.to);i.from>n.from&&i.from==r.to&&(i=r.to==n.to+1?n:e.doc.lineAt(r.to-1));let s=t.length-1;s>=0&&t[s].to>n.from?t[s].to=i.to:t.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return t}(t)),0);function f(e,t){let r=e.languageDataAt("commentTokens",t,1);return r.length?r[0]:{}}const m=50;function p(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,n=r.map(e=>f(t,e.from).block);if(!n.every(e=>e))return null;let i=r.map((e,r)=>function(e,t,r,n){let i,s,{open:o,close:a}=t,l=e.sliceDoc(r-m,r),c=e.sliceDoc(n,n+m),h=/\s*$/.exec(l)[0].length,u=/^\s*/.exec(c)[0].length,d=l.length-h;if(l.slice(d-o.length,d)==o&&c.slice(u,u+a.length)==a)return{open:{pos:r-h,margin:h&&1},close:{pos:n+u,margin:u&&1}};n-r<=2*m?i=s=e.sliceDoc(r,n):(i=e.sliceDoc(r,r+m),s=e.sliceDoc(n-m,n));let f=/^\s*/.exec(i)[0].length,p=/\s*$/.exec(s)[0].length,g=s.length-p-a.length;return i.slice(f,f+o.length)==o&&s.slice(g,g+a.length)==a?{open:{pos:r+f+o.length,margin:/\s/.test(i.charAt(f+o.length))?1:0},close:{pos:n-p-a.length,margin:/\s/.test(s.charAt(g-1))?1:0}}:null}(t,n[r],e.from,e.to));if(2!=e&&!i.every(e=>e))return{changes:t.changes(r.map((e,t)=>i[t]?[]:[{from:e.from,insert:n[t].open+" "},{from:e.to,insert:" "+n[t].close}]))};if(1!=e&&i.some(e=>e)){let e=[];for(let t,r=0;r<i.length;r++)if(t=i[r]){let i=n[r],{open:s,close:o}=t;e.push({from:s.pos-i.open.length,to:s.pos+s.margin},{from:o.pos-o.margin,to:o.pos+i.close.length})}return{changes:e}}return null}function g(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,n=[],i=-1;for(let{from:s,to:o}of r){let e=n.length,r=1e9,a=f(t,s).line;if(a){for(let e=s;e<=o;){let l=t.doc.lineAt(e);if(l.from>i&&(s==o||o>l.from)){i=l.from;let e=/^\s*/.exec(l.text)[0].length,t=e==l.length,s=l.text.slice(e,e+a.length)==a?e:-1;e<l.text.length&&e<r&&(r=e),n.push({line:l,comment:s,token:a,indent:e,empty:t,single:!1})}e=l.to+1}if(r<1e9)for(let t=e;t<n.length;t++)n[t].indent<n[t].line.text.length&&(n[t].indent=r);n.length==e+1&&(n[e].single=!0)}}if(2!=e&&n.some(e=>e.comment<0&&(!e.empty||e.single))){let e=[];for(let{line:t,token:i,indent:s,empty:o,single:a}of n)!a&&o||e.push({from:t.from+s,insert:i+" "});let r=t.changes(e);return{changes:r,selection:t.selection.map(r,1)}}if(1!=e&&n.some(e=>e.comment>=0)){let e=[];for(let{line:t,comment:r,token:i}of n)if(r>=0){let n=t.from+r,s=n+i.length;" "==t.text[s-t.from]&&s++,e.push({from:n,to:s})}return{changes:e}}return null}const x=s.YH.define(),O=s.YH.define(),v=s.sj.define(),y=s.sj.define({combine:e=>(0,s.QR)(e,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,n)=>e(r,n)||t(r,n)})}),b=s.sU.define({create:()=>D.empty,update(e,t){let r=t.state.facet(y),n=t.annotation(x);if(n){let i=_.fromTransaction(t,n.selection),s=n.side,o=0==s?e.undone:e.done;return o=i?A(o,o.length,r.minDepth,i):C(o,t.startState.selection),new D(0==s?n.rest:o,0==s?o:n.rest)}let i=t.annotation(O);if("full"!=i&&"before"!=i||(e=e.isolate()),!1===t.annotation(s.ZX.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);let o=_.fromTransaction(t),a=t.annotation(s.ZX.time),l=t.annotation(s.ZX.userEvent);return o?e=e.addChanges(o,a,l,r,t):t.selection&&(e=e.addSelection(t.startState.selection,a,l,r.newGroupDelay)),"full"!=i&&"after"!=i||(e=e.isolate()),e},toJSON:e=>({done:e.done.map(e=>e.toJSON()),undone:e.undone.map(e=>e.toJSON())}),fromJSON:e=>new D(e.done.map(_.fromJSON),e.undone.map(_.fromJSON))});function w(e,t){return function(r){let{state:n,dispatch:i}=r;if(!t&&n.readOnly)return!1;let s=n.field(b,!1);if(!s)return!1;let o=s.pop(e,n,t);return!!o&&(i(o),!0)}}const k=w(0,!1),S=w(1,!1),N=w(0,!0),j=w(1,!0);class _{constructor(e,t,r,n,i){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=n,this.selectionsAfter=i}setSelAfter(e){return new _(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(r=this.startSelection)||void 0===r?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(e=>e.toJSON())}}static fromJSON(e){return new _(e.changes&&s.VR.fromJSON(e.changes),[],e.mapped&&s.Gu.fromJSON(e.mapped),e.startSelection&&s.OF.fromJSON(e.startSelection),e.selectionsAfter.map(s.OF.fromJSON))}static fromTransaction(e,t){let r=E;for(let n of e.startState.facet(v)){let t=n(e);t.length&&(r=r.concat(t))}return!r.length&&e.changes.empty?null:new _(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,E)}static selection(e){return new _(void 0,E,void 0,void 0,e)}}function A(e,t,r,n){let i=t+1>r+20?t-r-1:0,s=e.slice(i,t);return s.push(n),s}function P(e,t){return e.length?t.length?e.concat(t):e:t}const E=[],Q=200;function C(e,t){if(e.length){let r=e[e.length-1],n=r.selectionsAfter.slice(Math.max(0,r.selectionsAfter.length-Q));return n.length&&n[n.length-1].eq(t)?e:(n.push(t),A(e,e.length-1,1e9,r.setSelAfter(n)))}return[_.selection([t])]}function M(e){let t=e[e.length-1],r=e.slice();return r[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),r}function T(e,t){if(!e.length)return e;let r=e.length,n=E;for(;r;){let i=R(e[r-1],t,n);if(i.changes&&!i.changes.empty||i.effects.length){let t=e.slice(0,r);return t[r-1]=i,t}t=i.mapped,r--,n=i.selectionsAfter}return n.length?[_.selection(n)]:E}function R(e,t,r){let n=P(e.selectionsAfter.length?e.selectionsAfter.map(e=>e.map(t)):E,r);if(!e.changes)return _.selection(n);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),a=e.mapped?e.mapped.composeDesc(o):o;return new _(i,s.Pe.mapEffects(e.effects,t),a,e.startSelection.map(o),n)}const $=/^(input\.type|delete)($|\.)/;class D{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=n}isolate(){return this.prevTime?new D(this.done,this.undone):this}addChanges(e,t,r,n,i){let o=this.done,a=o[o.length-1];return o=a&&a.changes&&!a.changes.empty&&e.changes&&(!r||$.test(r))&&(!a.selectionsAfter.length&&t-this.prevTime<n.newGroupDelay&&n.joinToEvent(i,function(e,t){let r=[],n=!1;return e.iterChangedRanges((e,t)=>r.push(e,t)),t.iterChangedRanges((e,t,i,s)=>{for(let o=0;o<r.length;){let e=r[o++],t=r[o++];s>=e&&i<=t&&(n=!0)}}),n}(a.changes,e.changes))||"input.type.compose"==r)?A(o,o.length-1,n.minDepth,new _(e.changes.compose(a.changes),P(s.Pe.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,E)):A(o,o.length,n.minDepth,e),new D(o,E,t,r)}addSelection(e,t,r,n){let i=this.done.length?this.done[this.done.length-1].selectionsAfter:E;return i.length>0&&t-this.prevTime<n&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&(s=i[i.length-1],o=e,s.ranges.length==o.ranges.length&&0===s.ranges.filter((e,t)=>e.empty!=o.ranges[t].empty).length)?this:new D(C(this.done,e),this.undone,t,r);var s,o}addMapping(e){return new D(T(this.done,e),T(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let n=0==e?this.done:this.undone;if(0==n.length)return null;let i=n[n.length-1],s=i.selectionsAfter[0]||t.selection;if(r&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:x.of({side:e,rest:M(n),selection:s}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){let r=1==n.length?E:n.slice(0,n.length-1);return i.mapped&&(r=T(r,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:x.of({side:e,rest:r,selection:s}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}D.empty=new D(E,E);const L=[{key:"Mod-z",run:k,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:S,preventDefault:!0},{linux:"Ctrl-Shift-z",run:S,preventDefault:!0},{key:"Mod-u",run:N,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:j,preventDefault:!0}];function I(e,t){return s.OF.create(e.ranges.map(t),e.mainIndex)}function Z(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function B(e,t){let{state:r,dispatch:n}=e,i=I(r.selection,t);return!i.eq(r.selection,!0)&&(n(Z(r,i)),!0)}function z(e,t){return s.OF.cursor(t?e.to:e.from)}function q(e,t){return B(e,r=>r.empty?e.moveByChar(r,t):z(r,t))}function U(e){return e.textDirectionAt(e.state.selection.main.head)==o.OP.LTR}const X=e=>q(e,!U(e)),F=e=>q(e,U(e));function V(e,t){return B(e,r=>r.empty?e.moveByGroup(r,t):z(r,t))}"undefined"!=typeof Intl&&Intl.Segmenter;function Y(e,t,r){if(t.type.prop(r))return!0;let n=t.to-t.from;return n&&(n>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function W(e,t,r){let n,i,o=(0,a.mv)(e).resolveInner(t.head),c=r?l.uY.closedBy:l.uY.openedBy;for(let s=t.head;;){let t=r?o.childAfter(s):o.childBefore(s);if(!t)break;Y(e,t,c)?o=t:s=r?t.to:t.from}return i=o.type.prop(c)&&(n=r?(0,a.jU)(e,o.from,1):(0,a.jU)(e,o.to,-1))&&n.matched?r?n.end.to:n.end.from:r?o.to:o.from,s.OF.cursor(i,r?-1:1)}function G(e,t){return B(e,r=>{if(!r.empty)return z(r,t);let n=e.moveVertically(r,t);return n.head!=r.head?n:e.moveToLineBoundary(r,t)})}const H=e=>G(e,!1),K=e=>G(e,!0);function J(e){let t,r=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,i=0;if(r){for(let t of e.state.facet(o.Lz.scrollMargins)){let r=t(e);(null===r||void 0===r?void 0:r.top)&&(n=Math.max(null===r||void 0===r?void 0:r.top,n)),(null===r||void 0===r?void 0:r.bottom)&&(i=Math.max(null===r||void 0===r?void 0:r.bottom,i))}t=e.scrollDOM.clientHeight-n-i}else t=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:i,selfScroll:r,height:Math.max(e.defaultLineHeight,t-5)}}function ee(e,t){let r,n=J(e),{state:i}=e,s=I(i.selection,r=>r.empty?e.moveVertically(r,t,n.height):z(r,t));if(s.eq(i.selection))return!1;if(n.selfScroll){let t=e.coordsAtPos(i.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;t&&t.top>l&&t.bottom<c&&(r=o.Lz.scrollIntoView(s.main.head,{y:"start",yMargin:t.top-l}))}return e.dispatch(Z(i,s),{effects:r}),!0}const te=e=>ee(e,!1),re=e=>ee(e,!0);function ne(e,t,r){let n=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,r);if(i.head==t.head&&i.head!=(r?n.to:n.from)&&(i=e.moveToLineBoundary(t,r,!1)),!r&&i.head==n.from&&n.length){let r=/^\s*/.exec(e.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;r&&t.head!=n.from+r&&(i=s.OF.cursor(n.from+r))}return i}function ie(e,t,r){let n=!1,i=I(e.selection,t=>{let i=(0,a.jU)(e,t.head,-1)||(0,a.jU)(e,t.head,1)||t.head>0&&(0,a.jU)(e,t.head-1,1)||t.head<e.doc.length&&(0,a.jU)(e,t.head+1,-1);if(!i||!i.end)return t;n=!0;let o=i.start.from==t.head?i.end.to:i.end.from;return r?s.OF.range(t.anchor,o):s.OF.cursor(o)});return!!n&&(t(Z(e,i)),!0)}function se(e,t){let r=I(e.state.selection,e=>{let r=t(e);return s.OF.range(e.anchor,r.head,r.goalColumn,r.bidiLevel||void 0)});return!r.eq(e.state.selection)&&(e.dispatch(Z(e.state,r)),!0)}function oe(e,t){return se(e,r=>e.moveByChar(r,t))}const ae=e=>oe(e,!U(e)),le=e=>oe(e,U(e));function ce(e,t){return se(e,r=>e.moveByGroup(r,t))}function he(e,t){return se(e,r=>e.moveVertically(r,t))}const ue=e=>he(e,!1),de=e=>he(e,!0);function fe(e,t){return se(e,r=>e.moveVertically(r,t,J(e).height))}const me=e=>fe(e,!1),pe=e=>fe(e,!0),ge=e=>{let{state:t,dispatch:r}=e;return r(Z(t,{anchor:0})),!0},xe=e=>{let{state:t,dispatch:r}=e;return r(Z(t,{anchor:t.doc.length})),!0},Oe=e=>{let{state:t,dispatch:r}=e;return r(Z(t,{anchor:t.selection.main.anchor,head:0})),!0},ve=e=>{let{state:t,dispatch:r}=e;return r(Z(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function ye(e,t){if(e.state.readOnly)return!1;let r="delete.selection",{state:n}=e,i=n.changeByRange(n=>{let{from:i,to:o}=n;if(i==o){let s=t(n);s<i?(r="delete.backward",s=be(e,s,!1)):s>i&&(r="delete.forward",s=be(e,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=be(e,i,!1),o=be(e,o,!0);return i==o?{range:n}:{changes:{from:i,to:o},range:s.OF.cursor(i,i<n.head?-1:1)}});return!i.changes.empty&&(e.dispatch(n.update(i,{scrollIntoView:!0,userEvent:r,effects:"delete.selection"==r?o.Lz.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function be(e,t,r){if(e instanceof o.Lz)for(let n of e.state.facet(o.Lz.atomicRanges).map(t=>t(e)))n.between(t,t,(e,n)=>{e<t&&n>t&&(t=r?n:e)});return t}const we=(e,t,r)=>ye(e,n=>{let i,o,l=n.from,{state:c}=e,h=c.doc.lineAt(l);if(r&&!t&&l>h.from&&l<h.from+200&&!/[^ \t]/.test(i=h.text.slice(0,l-h.from))){if("\t"==i[i.length-1])return l-1;let e=(0,s.y$)(i,c.tabSize)%(0,a.tp)(c)||(0,a.tp)(c);for(let t=0;t<e&&" "==i[i.length-1-t];t++)l--;o=l}else o=(0,s.zK)(h.text,l-h.from,t,t)+h.from,o==l&&h.number!=(t?c.doc.lines:1)?o+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(h.text.slice(o-h.from,l-h.from))&&(o=(0,s.zK)(h.text,o-h.from,!1,!1)+h.from);return o}),ke=e=>we(e,!1,!0),Se=e=>we(e,!0,!1),Ne=(e,t)=>ye(e,r=>{let n=r.head,{state:i}=e,o=i.doc.lineAt(n),a=i.charCategorizer(n);for(let e=null;;){if(n==(t?o.to:o.from)){n==r.head&&o.number!=(t?i.doc.lines:1)&&(n+=t?1:-1);break}let l=(0,s.zK)(o.text,n-o.from,t)+o.from,c=o.text.slice(Math.min(n,l)-o.from,Math.max(n,l)-o.from),h=a(c);if(null!=e&&h!=e)break;" "==c&&n==r.head||(e=h),n=l}return n}),je=e=>Ne(e,!1);function _e(e){let t=[],r=-1;for(let n of e.selection.ranges){let i=e.doc.lineAt(n.from),s=e.doc.lineAt(n.to);if(n.empty||n.to!=s.from||(s=e.doc.lineAt(n.to-1)),r>=i.number){let e=t[t.length-1];e.to=s.to,e.ranges.push(n)}else t.push({from:i.from,to:s.to,ranges:[n]});r=s.number+1}return t}function Ae(e,t,r){if(e.readOnly)return!1;let n=[],i=[];for(let o of _e(e)){if(r?o.to==e.doc.length:0==o.from)continue;let t=e.doc.lineAt(r?o.to+1:o.from-1),a=t.length+1;if(r){n.push({from:o.to,to:t.to},{from:o.from,insert:t.text+e.lineBreak});for(let t of o.ranges)i.push(s.OF.range(Math.min(e.doc.length,t.anchor+a),Math.min(e.doc.length,t.head+a)))}else{n.push({from:t.from,to:o.from},{from:o.to,insert:e.lineBreak+t.text});for(let e of o.ranges)i.push(s.OF.range(e.anchor-a,e.head-a))}}return!!n.length&&(t(e.update({changes:n,scrollIntoView:!0,selection:s.OF.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0)}function Pe(e,t,r){if(e.readOnly)return!1;let n=[];for(let i of _e(e))r?n.push({from:i.from,insert:e.doc.slice(i.from,i.to)+e.lineBreak}):n.push({from:i.to,insert:e.lineBreak+e.doc.slice(i.from,i.to)});return t(e.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Ee=Qe(!1);function Qe(e){return t=>{let{state:r,dispatch:n}=t;if(r.readOnly)return!1;let i=r.changeByRange(t=>{let{from:n,to:i}=t,o=r.doc.lineAt(n),c=!e&&n==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let r,n=(0,a.mv)(e).resolveInner(t),i=n.childBefore(t),s=n.childAfter(t);return i&&s&&i.to<=t&&s.from>=t&&(r=i.type.prop(l.uY.closedBy))&&r.indexOf(s.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(s.from).from&&!/\S/.test(e.sliceDoc(i.to,s.from))?{from:i.to,to:s.from}:null}(r,n);e&&(n=i=(i<=o.to?o:r.doc.lineAt(i)).to);let h=new a.KB(r,{simulateBreak:n,simulateDoubleBreak:!!c}),u=(0,a._v)(h,n);for(null==u&&(u=(0,s.y$)(/^\s*/.exec(r.doc.lineAt(n).text)[0],r.tabSize));i<o.to&&/\s/.test(o.text[i-o.from]);)i++;c?({from:n,to:i}=c):n>o.from&&n<o.from+100&&!/\S/.test(o.text.slice(0,n))&&(n=o.from);let d=["",(0,a.EI)(r,u)];return c&&d.push((0,a.EI)(r,h.lineIndent(o.from,-1))),{changes:{from:n,to:i,insert:s.EY.of(d)},range:s.OF.cursor(n+1+d[1].length)}});return n(r.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function Ce(e,t){let r=-1;return e.changeByRange(n=>{let i=[];for(let s=n.from;s<=n.to;){let o=e.doc.lineAt(s);o.number>r&&(n.empty||n.to>o.from)&&(t(o,i,n),r=o.number),s=o.to+1}let o=e.changes(i);return{changes:i,range:s.OF.range(o.mapPos(n.anchor,1),o.mapPos(n.head,1))}})}const Me=e=>{let{state:t,dispatch:r}=e;return!t.readOnly&&(r(t.update(Ce(t,(e,r)=>{r.push({from:e.from,insert:t.facet(a.Xt)})}),{userEvent:"input.indent"})),!0)},Te=e=>{let{state:t,dispatch:r}=e;return!t.readOnly&&(r(t.update(Ce(t,(e,r)=>{let n=/^\s*/.exec(e.text)[0];if(!n)return;let i=(0,s.y$)(n,t.tabSize),o=0,l=(0,a.EI)(t,Math.max(0,i-(0,a.tp)(t)));for(;o<n.length&&o<l.length&&n.charCodeAt(o)==l.charCodeAt(o);)o++;r.push({from:e.from+o,to:e.from+n.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0)},Re=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:e=>B(e,t=>W(e.state,t,!U(e))),shift:e=>se(e,t=>W(e.state,t,!U(e)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:e=>B(e,t=>W(e.state,t,U(e))),shift:e=>se(e,t=>W(e.state,t,U(e)))},{key:"Alt-ArrowUp",run:e=>{let{state:t,dispatch:r}=e;return Ae(t,r,!1)}},{key:"Shift-Alt-ArrowUp",run:e=>{let{state:t,dispatch:r}=e;return Pe(t,r,!1)}},{key:"Alt-ArrowDown",run:e=>{let{state:t,dispatch:r}=e;return Ae(t,r,!0)}},{key:"Shift-Alt-ArrowDown",run:e=>{let{state:t,dispatch:r}=e;return Pe(t,r,!0)}},{key:"Escape",run:e=>{let{state:t,dispatch:r}=e,n=t.selection,i=null;return n.ranges.length>1?i=s.OF.create([n.main]):n.main.empty||(i=s.OF.create([s.OF.cursor(n.main.head)])),!!i&&(r(Z(t,i)),!0)}},{key:"Mod-Enter",run:Qe(!0)},{key:"Alt-l",mac:"Ctrl-l",run:e=>{let{state:t,dispatch:r}=e,n=_e(t).map(e=>{let{from:r,to:n}=e;return s.OF.range(r,Math.min(n+1,t.doc.length))});return r(t.update({selection:s.OF.create(n),userEvent:"select"})),!0}},{key:"Mod-i",run:e=>{let{state:t,dispatch:r}=e,n=I(t.selection,e=>{let r=(0,a.mv)(t),n=r.resolveStack(e.from,1);if(e.empty){let t=r.resolveStack(e.from,-1);t.node.from>=n.node.from&&t.node.to<=n.node.to&&(n=t)}for(let t=n;t;t=t.next){let{node:r}=t;if((r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&t.next)return s.OF.range(r.to,r.from)}return e});return!n.eq(t.selection)&&(r(Z(t,n)),!0)},preventDefault:!0},{key:"Mod-[",run:Te},{key:"Mod-]",run:Me},{key:"Mod-Alt-\\",run:e=>{let{state:t,dispatch:r}=e;if(t.readOnly)return!1;let n=Object.create(null),i=new a.KB(t,{overrideIndentation:e=>{let t=n[e];return null==t?-1:t}}),s=Ce(t,(e,r,s)=>{let o=(0,a._v)(i,e.from);if(null==o)return;/\S/.test(e.text)||(o=0);let l=/^\s*/.exec(e.text)[0],c=(0,a.EI)(t,o);(l!=c||s.from<e.from+l.length)&&(n[e.from]=o,r.push({from:e.from,to:e.from+l.length,insert:c}))});return s.changes.empty||r(t.update(s,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:e=>{if(e.state.readOnly)return!1;let{state:t}=e,r=t.changes(_e(t).map(e=>{let{from:r,to:n}=e;return r>0?r--:n<t.doc.length&&n++,{from:r,to:n}})),n=I(t.selection,t=>{let r;if(e.lineWrapping){let n=e.lineBlockAt(t.head),i=e.coordsAtPos(t.head,t.assoc||1);i&&(r=n.bottom+e.documentTop-i.bottom+e.defaultLineHeight/2)}return e.moveVertically(t,!0,r)}).map(r);return e.dispatch({changes:r,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:e=>{let{state:t,dispatch:r}=e;return ie(t,r,!1)}},{key:"Mod-/",run:e=>{let{state:t}=e,r=t.doc.lineAt(t.selection.main.from),n=f(e.state,r.from);return n.line?h(e):!!n.block&&d(e)}},{key:"Alt-A",run:u},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e=>(e.setTabFocusMode(),!0)}].concat([{key:"ArrowLeft",run:X,shift:ae,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:e=>V(e,!U(e)),shift:e=>ce(e,!U(e)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:e=>B(e,t=>ne(e,t,!U(e))),shift:e=>se(e,t=>ne(e,t,!U(e))),preventDefault:!0},{key:"ArrowRight",run:F,shift:le,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:e=>V(e,U(e)),shift:e=>ce(e,U(e)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:e=>B(e,t=>ne(e,t,U(e))),shift:e=>se(e,t=>ne(e,t,U(e))),preventDefault:!0},{key:"ArrowUp",run:H,shift:ue,preventDefault:!0},{mac:"Cmd-ArrowUp",run:ge,shift:Oe},{mac:"Ctrl-ArrowUp",run:te,shift:me},{key:"ArrowDown",run:K,shift:de,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xe,shift:ve},{mac:"Ctrl-ArrowDown",run:re,shift:pe},{key:"PageUp",run:te,shift:me},{key:"PageDown",run:re,shift:pe},{key:"Home",run:e=>B(e,t=>ne(e,t,!1)),shift:e=>se(e,t=>ne(e,t,!1)),preventDefault:!0},{key:"Mod-Home",run:ge,shift:Oe},{key:"End",run:e=>B(e,t=>ne(e,t,!0)),shift:e=>se(e,t=>ne(e,t,!0)),preventDefault:!0},{key:"Mod-End",run:xe,shift:ve},{key:"Enter",run:Ee,shift:Ee},{key:"Mod-a",run:e=>{let{state:t,dispatch:r}=e;return r(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:ke,shift:ke},{key:"Delete",run:Se},{key:"Mod-Backspace",mac:"Alt-Backspace",run:je},{key:"Mod-Delete",mac:"Alt-Delete",run:e=>Ne(e,!0)},{mac:"Mod-Backspace",run:e=>ye(e,t=>{let r=e.moveToLineBoundary(t,!1).head;return t.head>r?r:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:e=>ye(e,t=>{let r=e.moveToLineBoundary(t,!0).head;return t.head<r?r:Math.min(e.state.doc.length,t.head+1)})}].concat([{key:"Ctrl-b",run:X,shift:ae,preventDefault:!0},{key:"Ctrl-f",run:F,shift:le},{key:"Ctrl-p",run:H,shift:ue},{key:"Ctrl-n",run:K,shift:de},{key:"Ctrl-a",run:e=>B(e,t=>s.OF.cursor(e.lineBlockAt(t.head).from,1)),shift:e=>se(e,t=>s.OF.cursor(e.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:e=>B(e,t=>s.OF.cursor(e.lineBlockAt(t.head).to,-1)),shift:e=>se(e,t=>s.OF.cursor(e.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:Se},{key:"Ctrl-h",run:ke},{key:"Ctrl-k",run:e=>ye(e,t=>{let r=e.lineBlockAt(t.head).to;return t.head<r?r:Math.min(e.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:je},{key:"Ctrl-o",run:e=>{let{state:t,dispatch:r}=e;if(t.readOnly)return!1;let n=t.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:s.EY.of(["",""])},range:s.OF.cursor(e.from)}));return r(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:e=>{let{state:t,dispatch:r}=e;if(t.readOnly)return!1;let n=t.changeByRange(e=>{if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};let r=e.from,n=t.doc.lineAt(r),i=r==n.from?r-1:(0,s.zK)(n.text,r-n.from,!1)+n.from,o=r==n.to?r+1:(0,s.zK)(n.text,r-n.from,!0)+n.from;return{changes:{from:i,to:o,insert:t.doc.slice(r,o).append(t.doc.slice(i,r))},range:s.OF.cursor(o)}});return!n.changes.empty&&(r(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:re}].map(e=>({mac:e.key,run:e.run,shift:e.shift})))),$e={key:"Tab",run:Me,shift:Te};function De(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,r=arguments[1];if(r&&"object"==typeof r&&null==r.nodeType&&!Array.isArray(r)){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){var i=r[n];"string"==typeof i?e.setAttribute(n,i):null!=i&&(e[n]=i)}t++}for(;t<arguments.length;t++)Le(e,arguments[t]);return e}function Le(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var r=0;r<t.length;r++)Le(e,t[r])}}const Ie="function"==typeof String.prototype.normalize?e=>e.normalize("NFKD"):e=>e;class Ze{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,n),this.bufferStart=r,this.normalize=i?e=>i(Ie(e)):Ie,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return(0,s.vS)(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=(0,s.MK)(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=(0,s.Fh)(e);let n=this.normalize(t);if(n.length)for(let i=0,s=r;;i++){let e=n.charCodeAt(i),o=this.match(e,s,this.bufferPos+this.bufferStart);if(i==n.length-1){if(o)return this.value=o,this;break}s==r&&i<t.length&&t.charCodeAt(i)==e&&s++}}}match(e,t,r){let n=null;for(let i=0;i<this.matches.length;i+=2){let t=this.matches[i],s=!1;this.query.charCodeAt(t)==e&&(t==this.query.length-1?n={from:this.matches[i+1],to:r}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:r}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferStart)&&(n=null),n}}"undefined"!=typeof Symbol&&(Ze.prototype[Symbol.iterator]=function(){return this});const Be={from:-1,to:-1,match:/.*/.exec("")},ze="gm"+(null==/x/.unicode?"":"u");class qe{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;if(this.text=e,this.to=i,this.curLine="",this.done=!1,this.value=Be,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Fe(e,t,r,n,i);this.re=new RegExp(t,ze+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=e.iter();let s=e.lineAt(n);this.curLineStart=s.from,this.matchPos=Ve(e,n),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,n=r+t[0].length;if(this.matchPos=Ve(this.text,n+(r==n?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<n||r>this.value.to)&&(!this.test||this.test(r,n,t)))return this.value={from:r,to:n,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const Ue=new WeakMap;class Xe{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let n=Ue.get(e);if(!n||n.from>=r||n.to<=t){let n=new Xe(t,e.sliceString(t,r));return Ue.set(e,n),n}if(n.from==t&&n.to==r)return n;let{text:i,from:s}=n;return s>t&&(i=e.sliceString(t,s)+i,s=t),n.to<r&&(i+=e.sliceString(n.to,r)),Ue.set(e,new Xe(s,i)),new Xe(t,i.slice(t-s,r-s))}}class Fe{constructor(e,t,r,n,i){this.text=e,this.to=i,this.done=!1,this.value=Be,this.matchPos=Ve(e,n),this.re=new RegExp(t,ze+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=Xe.get(e,n,this.chunkEnd(n+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let e=this.flat.from+t.index,r=e+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(e,r,t)))return this.value={from:e,to:r,match:t},this.matchPos=Ve(this.text,r+(e==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Xe.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function Ve(e,t){if(t>=e.length)return t;let r,n=e.lineAt(t);for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function Ye(e){let t=De("input",{class:"cm-textfield",name:"line",value:String(e.state.doc.lineAt(e.state.selection.main.head).number)});function r(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:n}=e,i=n.doc.lineAt(n.selection.main.head),[,a,l,c,h]=r,u=c?+c.slice(1):0,d=l?+l:i.number;if(l&&h){let e=d/100;a&&(e=e*("-"==a?-1:1)+i.number/n.doc.lines),d=Math.round(n.doc.lines*e)}else l&&a&&(d=d*("-"==a?-1:1)+i.number);let f=n.doc.line(Math.max(1,Math.min(n.doc.lines,d))),m=s.OF.cursor(f.from+Math.max(0,Math.min(u,f.length)));e.dispatch({effects:[We.of(!1),o.Lz.scrollIntoView(m.from,{y:"center"})],selection:m}),e.focus()}return{dom:De("form",{class:"cm-gotoLine",onkeydown:t=>{27==t.keyCode?(t.preventDefault(),e.dispatch({effects:We.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),r())},onsubmit:e=>{e.preventDefault(),r()}},De("label",e.state.phrase("Go to line"),": ",t)," ",De("button",{class:"cm-button",type:"submit"},e.state.phrase("go")),De("button",{name:"close",onclick:()=>{e.dispatch({effects:We.of(!1)}),e.focus()},"aria-label":e.state.phrase("close"),type:"button"},["\xd7"]))}}"undefined"!=typeof Symbol&&(qe.prototype[Symbol.iterator]=Fe.prototype[Symbol.iterator]=function(){return this});const We=s.Pe.define(),Ge=s.sU.define({create:()=>!0,update(e,t){for(let r of t.effects)r.is(We)&&(e=r.value);return e},provide:e=>o.S7.from(e,e=>e?Ye:null)}),He=o.Lz.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Ke={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Je=s.sj.define({combine:e=>(0,s.QR)(e,Ke,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})});const et=o.NZ.mark({class:"cm-selectionMatch"}),tt=o.NZ.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function rt(e,t,r,n){return(0==r||e(t.sliceDoc(r-1,r))!=s.Je.Word)&&(n==t.doc.length||e(t.sliceDoc(n,n+1))!=s.Je.Word)}const nt=o.Z9.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(Je),{state:r}=e,n=r.selection;if(n.ranges.length>1)return o.NZ.none;let i,a=n.main,l=null;if(a.empty){if(!t.highlightWordAroundCursor)return o.NZ.none;let e=r.wordAt(a.head);if(!e)return o.NZ.none;l=r.charCategorizer(a.head),i=r.sliceDoc(e.from,e.to)}else{let e=a.to-a.from;if(e<t.minSelectionLength||e>200)return o.NZ.none;if(t.wholeWords){if(i=r.sliceDoc(a.from,a.to),l=r.charCategorizer(a.head),!rt(l,r,a.from,a.to)||!function(e,t,r,n){return e(t.sliceDoc(r,r+1))==s.Je.Word&&e(t.sliceDoc(n-1,n))==s.Je.Word}(l,r,a.from,a.to))return o.NZ.none}else if(i=r.sliceDoc(a.from,a.to),!i)return o.NZ.none}let c=[];for(let s of e.visibleRanges){let e=new Ze(r.doc,i,s.from,s.to);for(;!e.next().done;){let{from:n,to:i}=e.value;if((!l||rt(l,r,n,i))&&(a.empty&&n<=a.from&&i>=a.to?c.push(tt.range(n,i)):(n>=a.to||i<=a.from)&&c.push(et.range(n,i)),c.length>t.maxMatches))return o.NZ.none}}return o.NZ.set(c)}},{decorations:e=>e.decorations}),it=o.Lz.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});const st=s.sj.define({combine:e=>(0,s.QR)(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Tt(e),scrollToMatch:e=>o.Lz.scrollIntoView(e)})});class ot{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,ze),!0}catch(t){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(e,t)=>"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new ft(this):new ct(this)}getCursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=e.doc?e:s.$t.create({doc:e});return null==r&&(r=n.doc.length),this.regexp?ht(this,n,t,r):lt(this,n,t,r)}}class at{constructor(e){this.spec=e}}function lt(e,t,r,n){return new Ze(t.doc,e.unquoted,r,n,e.caseSensitive?void 0:e=>e.toLowerCase(),e.wholeWord?(i=t.doc,o=t.charCategorizer(t.selection.main.head),(e,t,r,n)=>((n>e||n+r.length<t)&&(n=Math.max(0,e-2),r=i.sliceString(n,Math.min(i.length,t+2))),(o(ut(r,e-n))!=s.Je.Word||o(dt(r,e-n))!=s.Je.Word)&&(o(dt(r,t-n))!=s.Je.Word||o(ut(r,t-n))!=s.Je.Word))):void 0);var i,o}class ct extends at{constructor(e){super(e)}nextMatch(e,t,r){let n=lt(this.spec,e,r,e.doc.length).nextOverlapping();if(n.done){let r=Math.min(e.doc.length,t+this.spec.unquoted.length);n=lt(this.spec,e,0,r).nextOverlapping()}return n.done||n.value.from==t&&n.value.to==r?null:n.value}prevMatchInRange(e,t,r){for(let n=r;;){let r=Math.max(t,n-1e4-this.spec.unquoted.length),i=lt(this.spec,e,r,n),s=null;for(;!i.nextOverlapping().done;)s=i.value;if(s)return s;if(r==t)return null;n-=1e4}}prevMatch(e,t,r){let n=this.prevMatchInRange(e,0,t);return n||(n=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),!n||n.from==t&&n.to==r?null:n}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=lt(this.spec,e,0,e.doc.length),n=[];for(;!r.next().done;){if(n.length>=t)return null;n.push(r.value)}return n}highlight(e,t,r,n){let i=lt(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}}function ht(e,t,r,n){return new qe(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),(e,t,r)=>!r[0].length||(i(ut(r.input,r.index))!=s.Je.Word||i(dt(r.input,r.index))!=s.Je.Word)&&(i(dt(r.input,r.index+r[0].length))!=s.Je.Word||i(ut(r.input,r.index+r[0].length))!=s.Je.Word)):void 0},r,n);var i}function ut(e,t){return e.slice((0,s.zK)(e,t,!1),t)}function dt(e,t){return e.slice(t,(0,s.zK)(e,t))}class ft extends at{nextMatch(e,t,r){let n=ht(this.spec,e,r,e.doc.length).next();return n.done&&(n=ht(this.spec,e,0,t).next()),n.done?null:n.value}prevMatchInRange(e,t,r){for(let n=1;;n++){let i=Math.max(t,r-1e4*n),s=ht(this.spec,e,i,r),o=null;for(;!s.next().done;)o=s.value;if(o&&(i==t||o.from>i+10))return o;if(i==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if("&"==r)return e.match[0];if("$"==r)return"$";for(let n=r.length;n>0;n--){let t=+r.slice(0,n);if(t>0&&t<e.match.length)return e.match[t]+r.slice(n)}return t})}matchAll(e,t){let r=ht(this.spec,e,0,e.doc.length),n=[];for(;!r.next().done;){if(n.length>=t)return null;n.push(r.value)}return n}highlight(e,t,r,n){let i=ht(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!i.next().done;)n(i.value.from,i.value.to)}}const mt=s.Pe.define(),pt=s.Pe.define(),gt=s.sU.define({create:e=>new xt(At(e).create(),null),update(e,t){for(let r of t.effects)r.is(mt)?e=new xt(r.value.create(),e.panel):r.is(pt)&&(e=new xt(e.query,r.value?_t:null));return e},provide:e=>o.S7.from(e,e=>e.panel)});class xt{constructor(e,t){this.query=e,this.panel=t}}const Ot=o.NZ.mark({class:"cm-searchMatch"}),vt=o.NZ.mark({class:"cm-searchMatch cm-searchMatch-selected"}),yt=o.Z9.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(gt))}update(e){let t=e.state.field(gt);(t!=e.startState.field(gt)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight(e){let{query:t,panel:r}=e;if(!r||!t.spec.valid)return o.NZ.none;let{view:n}=this,i=new s.vB;for(let s=0,o=n.visibleRanges,a=o.length;s<a;s++){let{from:e,to:r}=o[s];for(;s<a-1&&r>o[s+1].from-500;)r=o[++s].to;t.highlight(n.state,e,r,(e,t)=>{let r=n.state.selection.ranges.some(r=>r.from==e&&r.to==t);i.add(e,t,r?vt:Ot)})}return i.finish()}},{decorations:e=>e.decorations});function bt(e){return t=>{let r=t.state.field(gt,!1);return r&&r.query.spec.valid?e(t,r):Qt(t)}}const wt=bt((e,t)=>{let{query:r}=t,{to:n}=e.state.selection.main,i=r.nextMatch(e.state,n,n);if(!i)return!1;let o=s.OF.single(i.from,i.to),a=e.state.facet(st);return e.dispatch({selection:o,effects:[Lt(e,i),a.scrollToMatch(o.main,e)],userEvent:"select.search"}),Et(e),!0}),kt=bt((e,t)=>{let{query:r}=t,{state:n}=e,{from:i}=n.selection.main,o=r.prevMatch(n,i,i);if(!o)return!1;let a=s.OF.single(o.from,o.to),l=e.state.facet(st);return e.dispatch({selection:a,effects:[Lt(e,o),l.scrollToMatch(a.main,e)],userEvent:"select.search"}),Et(e),!0}),St=bt((e,t)=>{let{query:r}=t,n=r.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:s.OF.create(n.map(e=>s.OF.range(e.from,e.to))),userEvent:"select.search.matches"}),!0)}),Nt=bt((e,t)=>{let{query:r}=t,{state:n}=e,{from:i,to:a}=n.selection.main;if(n.readOnly)return!1;let l=r.nextMatch(n,i,i);if(!l)return!1;let c,h,u=l,d=[],f=[];u.from==i&&u.to==a&&(h=n.toText(r.getReplacement(u)),d.push({from:u.from,to:u.to,insert:h}),u=r.nextMatch(n,u.from,u.to),f.push(o.Lz.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(i).number)+".")));let m=e.state.changes(d);return u&&(c=s.OF.single(u.from,u.to).map(m),f.push(Lt(e,u)),f.push(n.facet(st).scrollToMatch(c.main,e))),e.dispatch({changes:m,selection:c,effects:f,userEvent:"input.replace"}),!0}),jt=bt((e,t)=>{let{query:r}=t;if(e.state.readOnly)return!1;let n=r.matchAll(e.state,1e9).map(e=>{let{from:t,to:n}=e;return{from:t,to:n,insert:r.getReplacement(e)}});if(!n.length)return!1;let i=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:o.Lz.announce.of(i),userEvent:"input.replace.all"}),!0});function _t(e){return e.state.facet(st).createPanel(e)}function At(e,t){var r,n,i,s,o;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(st);return new ot({search:(null!==(r=null===t||void 0===t?void 0:t.literal)&&void 0!==r?r:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:null!==(n=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==n?n:c.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:c.literal,regexp:null!==(s=null===t||void 0===t?void 0:t.regexp)&&void 0!==s?s:c.regexp,wholeWord:null!==(o=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==o?o:c.wholeWord})}function Pt(e){let t=(0,o.ld)(e,_t);return t&&t.dom.querySelector("[main-field]")}function Et(e){let t=Pt(e);t&&t==e.root.activeElement&&t.select()}const Qt=e=>{let t=e.state.field(gt,!1);if(t&&t.panel){let r=Pt(e);if(r&&r!=e.root.activeElement){let n=At(e.state,t.query.spec);n.valid&&e.dispatch({effects:mt.of(n)}),r.focus(),r.select()}}else e.dispatch({effects:[pt.of(!0),t?mt.of(At(e.state,t.query.spec)):s.Pe.appendConfig.of(Zt)]});return!0},Ct=e=>{let t=e.state.field(gt,!1);if(!t||!t.panel)return!1;let r=(0,o.ld)(e,_t);return r&&r.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:pt.of(!1)}),!0},Mt=[{key:"Mod-f",run:Qt,scope:"editor search-panel"},{key:"F3",run:wt,shift:kt,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:wt,shift:kt,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Ct,scope:"editor search-panel"},{key:"Mod-Shift-l",run:e=>{let{state:t,dispatch:r}=e,n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:i,to:o}=n.main,a=[],l=0;for(let c=new Ze(t.doc,t.sliceDoc(i,o));!c.next().done;){if(a.length>1e3)return!1;c.value.from==i&&(l=a.length),a.push(s.OF.range(c.value.from,c.value.to))}return r(t.update({selection:s.OF.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:e=>{let t=(0,o.ld)(e,Ye);if(!t){let r=[We.of(!0)];null==e.state.field(Ge,!1)&&r.push(s.Pe.appendConfig.of([Ge,He])),e.dispatch({effects:r}),t=(0,o.ld)(e,Ye)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:e=>{let{state:t,dispatch:r}=e,{ranges:n}=t.selection;if(n.some(e=>e.from===e.to))return(e=>{let{state:t,dispatch:r}=e,{selection:n}=t,i=s.OF.create(n.ranges.map(e=>t.wordAt(e.head)||s.OF.cursor(e.head)),n.mainIndex);return!i.eq(n)&&(r(t.update({selection:i})),!0)})({state:t,dispatch:r});let i=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(e=>t.sliceDoc(e.from,e.to)!=i))return!1;let a=function(e,t){let{main:r,ranges:n}=e.selection,i=e.wordAt(r.head),s=i&&i.from==r.from&&i.to==r.to;for(let o=!1,a=new Ze(e.doc,t,n[n.length-1].to);;){if(a.next(),!a.done){if(o&&n.some(e=>e.from==a.value.from))continue;if(s){let t=e.wordAt(a.value.from);if(!t||t.from!=a.value.from||t.to!=a.value.to)continue}return a.value}if(o)return null;a=new Ze(e.doc,t,0,Math.max(0,n[n.length-1].from-1)),o=!0}}(t,i);return!!a&&(r(t.update({selection:t.selection.addRange(s.OF.range(a.from,a.to),!1),effects:o.Lz.scrollIntoView(a.to)})),!0)},preventDefault:!0}];class Tt{constructor(e){this.view=e;let t=this.query=e.state.field(gt).query.spec;function r(e,t,r){return De("button",{class:"cm-button",name:e,onclick:t,type:"button"},r)}this.commit=this.commit.bind(this),this.searchField=De("input",{value:t.search,placeholder:Rt(e,"Find"),"aria-label":Rt(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=De("input",{value:t.replace,placeholder:Rt(e,"Replace"),"aria-label":Rt(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=De("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=De("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=De("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=De("div",{onkeydown:e=>this.keydown(e),class:"cm-search"},[this.searchField,r("next",()=>wt(e),[Rt(e,"next")]),r("prev",()=>kt(e),[Rt(e,"previous")]),r("select",()=>St(e),[Rt(e,"all")]),De("label",null,[this.caseField,Rt(e,"match case")]),De("label",null,[this.reField,Rt(e,"regexp")]),De("label",null,[this.wordField,Rt(e,"by word")]),...e.state.readOnly?[]:[De("br"),this.replaceField,r("replace",()=>Nt(e),[Rt(e,"replace")]),r("replaceAll",()=>jt(e),[Rt(e,"replace all")])],De("button",{name:"close",onclick:()=>Ct(e),"aria-label":Rt(e,"close"),type:"button"},["\xd7"])])}commit(){let e=new ot({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:mt.of(e)}))}keydown(e){(0,o.TS)(this.view,e,"search-panel")?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?kt:wt)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),Nt(this.view))}update(e){for(let t of e.transactions)for(let e of t.effects)e.is(mt)&&!e.value.eq(this.query)&&this.setQuery(e.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(st).top}}function Rt(e,t){return e.state.phrase(t)}const $t=30,Dt=/[\s\.,:;?!]/;function Lt(e,t){let{from:r,to:n}=t,i=e.state.doc.lineAt(r),s=e.state.doc.lineAt(n).to,a=Math.max(i.from,r-$t),l=Math.min(s,n+$t),c=e.state.sliceDoc(a,l);if(a!=i.from)for(let o=0;o<$t;o++)if(!Dt.test(c[o+1])&&Dt.test(c[o])){c=c.slice(o);break}if(l!=s)for(let o=c.length-1;o>c.length-$t;o--)if(!Dt.test(c[o-1])&&Dt.test(c[o])){c=c.slice(0,o);break}return o.Lz.announce.of(`${e.state.phrase("current match")}. ${c} ${e.state.phrase("on line")} ${i.number}.`)}const It=o.Lz.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Zt=[gt,s.Nb.low(yt),It];var Bt=r(666);class zt{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class qt{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let n=r.facet(rr).markerFilter;n&&(e=n(e,r));let i=e.slice().sort((e,t)=>e.from-t.from||e.to-t.to),a=new s.vB,l=[],c=0;for(let s=0;;){let e,t,n=s==i.length?null:i[s];if(!n&&!l.length)break;for(l.length?(e=c,t=l.reduce((e,t)=>Math.min(e,t.to),n&&n.from>e?n.from:1e8)):(e=n.from,t=n.to,l.push(n),s++);s<i.length;){let r=i[s];if(r.from!=e||!(r.to>r.from||r.to==e)){t=Math.min(r.from,t);break}l.push(r),s++,t=Math.min(r.to,t)}let h=dr(l);if(l.some(e=>e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from))a.add(e,e,o.NZ.widget({widget:new sr(h),diagnostics:l.slice()}));else{let r=l.reduce((e,t)=>t.markClass?e+" "+t.markClass:e,"");a.add(e,t,o.NZ.mark({class:"cm-lintRange cm-lintRange-"+h+r,diagnostics:l.slice(),inclusiveEnd:l.some(e=>e.to>t)}))}c=t;for(let r=0;r<l.length;r++)l[r].to<=c&&l.splice(r--,1)}let h=a.finish();return new qt(h,t,Ut(h))}}function Ut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=null;return e.between(r,1e9,(e,r,i)=>{let{spec:s}=i;if(!(t&&s.diagnostics.indexOf(t)<0))if(n){if(s.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new zt(n.from,r,n.diagnostic)}else n=new zt(e,r,t||s.diagnostics[0])}),n}function Xt(e,t){let r=t.pos,n=t.end||r,i=e.state.facet(rr).hideOn(e,r,n);if(null!=i)return i;let s=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(e=>e.is(Vt))&&!e.changes.touchesRange(s.from,Math.max(s.to,n)))}function Ft(e,t){return e.field(Gt,!1)?t:t.concat(s.Pe.appendConfig.of(fr))}const Vt=s.Pe.define(),Yt=s.Pe.define(),Wt=s.Pe.define(),Gt=s.sU.define({create:()=>new qt(o.NZ.none,null,null),update(e,t){if(t.docChanged&&e.diagnostics.size){let r=e.diagnostics.map(t.changes),n=null,i=e.panel;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);n=Ut(r,e.selected.diagnostic,i)||Ut(r,null,i)}!r.size&&i&&t.state.facet(rr).autoPanel&&(i=null),e=new qt(r,i,n)}for(let r of t.effects)if(r.is(Vt)){let n=t.state.facet(rr).autoPanel?r.value.length?ar.open:null:e.panel;e=qt.init(r.value,n,t.state)}else r.is(Yt)?e=new qt(e.diagnostics,r.value?ar.open:null,e.selected):r.is(Wt)&&(e=new qt(e.diagnostics,e.panel,r.value));return e},provide:e=>[o.S7.from(e,e=>e.panel),o.Lz.decorations.from(e,e=>e.diagnostics)]});const Ht=o.NZ.mark({class:"cm-lintRange cm-lintRange-active"});function Kt(e,t,r){let n,{diagnostics:i}=e.state.field(Gt),s=-1,o=-1;i.between(t-(r<0?1:0),t+(r>0?1:0),(e,i,a)=>{let{spec:l}=a;if(t>=e&&t<=i&&(e==i||(t>e||r>0)&&(t<i||r<0)))return n=l.diagnostics,s=e,o=i,!1});let a=e.state.facet(rr).tooltipFilter;return n&&a&&(n=a(n,e.state)),n?{pos:s,end:o,above:e.state.doc.lineAt(s).to<o,create:()=>({dom:Jt(e,n)})}:null}function Jt(e,t){return De("ul",{class:"cm-tooltip-lint"},t.map(t=>ir(e,t,!1)))}const er=e=>{let t=e.state.field(Gt,!1);return!(!t||!t.panel)&&(e.dispatch({effects:Yt.of(!1)}),!0)},tr=[{key:"Mod-Shift-m",run:e=>{let t=e.state.field(Gt,!1);t&&t.panel||e.dispatch({effects:Ft(e.state,[Yt.of(!0)])});let r=(0,o.ld)(e,ar.open);return r&&r.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:e=>{let t=e.state.field(Gt,!1);if(!t)return!1;let r=e.state.selection.main,n=t.diagnostics.iter(r.to+1);return!(!n.value&&(n=t.diagnostics.iter(0),!n.value||n.from==r.from&&n.to==r.to))&&(e.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)}}];const rr=s.sj.define({combine:e=>Object.assign({sources:e.map(e=>e.source).filter(e=>null!=e)},(0,s.QR)(e.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))});function nr(e){let t=[];if(e)e:for(let{name:r}of e){for(let e=0;e<r.length;e++){let n=r[e];if(/[a-zA-Z]/.test(n)&&!t.some(e=>e.toLowerCase()==n.toLowerCase())){t.push(n);continue e}}t.push("")}return t}function ir(e,t,r){var n;let i=r?nr(t.actions):[];return De("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},De("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(e):t.message),null===(n=t.actions)||void 0===n?void 0:n.map((r,n)=>{let s=!1,o=n=>{if(n.preventDefault(),s)return;s=!0;let i=Ut(e.state.field(Gt).diagnostics,t);i&&r.apply(e,i.from,i.to)},{name:a}=r,l=i[n]?a.indexOf(i[n]):-1,c=l<0?a:[a.slice(0,l),De("u",a.slice(l,l+1)),a.slice(l+1)];return De("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":` Action: ${a}${l<0?"":` (access key "${i[n]})"`}.`},c)}),t.source&&De("div",{class:"cm-diagnosticSource"},t.source))}class sr extends o.xO{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return De("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class or{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=ir(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ar{constructor(e){this.view=e,this.items=[];this.list=De("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(27==t.keyCode)er(this.view),this.view.focus();else if(38==t.keyCode||33==t.keyCode)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(40==t.keyCode||34==t.keyCode)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(36==t.keyCode)this.moveSelection(0);else if(35==t.keyCode)this.moveSelection(this.items.length-1);else if(13==t.keyCode)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],n=nr(r.actions);for(let i=0;i<n.length;i++)if(n[i].toUpperCase().charCodeAt(0)==t.keyCode){let t=Ut(this.view.state.field(Gt).diagnostics,r);t&&r.actions[i].apply(e,t.from,t.to)}}}t.preventDefault()},onclick:e=>{for(let t=0;t<this.items.length;t++)this.items[t].dom.contains(e.target)&&this.moveSelection(t)}}),this.dom=De("div",{class:"cm-panel-lint"},this.list,De("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>er(this.view)},"\xd7")),this.update()}get selectedIndex(){let e=this.view.state.field(Gt).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Gt),r=0,n=!1,i=null,s=new Set;for(e.between(0,this.view.state.doc.length,(e,o,a)=>{let{spec:l}=a;for(let c of l.diagnostics){if(s.has(c))continue;s.add(c);let e,o=-1;for(let t=r;t<this.items.length;t++)if(this.items[t].diagnostic==c){o=t;break}o<0?(e=new or(this.view,c),this.items.splice(r,0,e),n=!0):(e=this.items[o],o>r&&(this.items.splice(r,o-r),n=!0)),t&&e.diagnostic==t.diagnostic?e.dom.hasAttribute("aria-selected")||(e.dom.setAttribute("aria-selected","true"),i=e):e.dom.hasAttribute("aria-selected")&&e.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)n=!0,this.items.pop();0==this.items.length&&(this.items.push(new or(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),n=!0),i?(this.list.setAttribute("aria-activedescendant",i.id),this.view.requestMeasure({key:this,read:()=>({sel:i.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:e=>{let{sel:t,panel:r}=e,n=r.height/this.list.offsetHeight;t.top<r.top?this.list.scrollTop-=(r.top-t.top)/n:t.bottom>r.bottom&&(this.list.scrollTop+=(t.bottom-r.bottom)/n)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),n&&this.sync()}sync(){let e=this.list.firstChild;function t(){let t=e;e=t.nextSibling,t.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Ut(this.view.state.field(Gt).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Wt.of(t)})}static open(e){return new ar(e)}}function lr(e){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"'}>${encodeURIComponent(e)}</svg>')`}function cr(e){return lr(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const hr=o.Lz.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:cr("#d11")},".cm-lintRange-warning":{backgroundImage:cr("orange")},".cm-lintRange-info":{backgroundImage:cr("#999")},".cm-lintRange-hint":{backgroundImage:cr("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function ur(e){return"error"==e?4:"warning"==e?3:"info"==e?2:1}function dr(e){let t="hint",r=1;for(let n of e){let e=ur(n.severity);e>r&&(r=e,t=n.severity)}return t}o.wJ;const fr=[Gt,o.Lz.decorations.compute([Gt],e=>{let{selected:t,panel:r}=e.field(Gt);return t&&r&&t.from!=t.to?o.NZ.set([Ht.range(t.from,t.to)]):o.NZ.none}),(0,o.Ux)(Kt,{hideOn:Xt}),hr];var mr=function(e){void 0===e&&(e={});var{crosshairCursor:t=!1}=e,r=[];!1!==e.closeBracketsKeymap&&(r=r.concat(Bt.Bc)),!1!==e.defaultKeymap&&(r=r.concat(Re)),!1!==e.searchKeymap&&(r=r.concat(Mt)),!1!==e.historyKeymap&&(r=r.concat(L)),!1!==e.foldKeymap&&(r=r.concat(a.f7)),!1!==e.completionKeymap&&(r=r.concat(Bt.OO)),!1!==e.lintKeymap&&(r=r.concat(tr));var n=[];return!1!==e.lineNumbers&&n.push((0,o.$K)()),!1!==e.highlightActiveLineGutter&&n.push((0,o.Wu)()),!1!==e.highlightSpecialChars&&n.push((0,o.N$)()),!1!==e.history&&n.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[b,y.of(e),o.Lz.domEventHandlers({beforeinput(e,t){let r="historyUndo"==e.inputType?k:"historyRedo"==e.inputType?S:null;return!!r&&(e.preventDefault(),r(t))}})]}()),!1!==e.foldGutter&&n.push((0,a.Lv)()),!1!==e.drawSelection&&n.push((0,o.VH)()),!1!==e.dropCursor&&n.push((0,o.A)()),!1!==e.allowMultipleSelections&&n.push(s.$t.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&n.push((0,a.WD)()),!1!==e.syntaxHighlighting&&n.push((0,a.y9)(a.Zt,{fallback:!0})),!1!==e.bracketMatching&&n.push((0,a.SG)()),!1!==e.closeBrackets&&n.push((0,Bt.wm)()),!1!==e.autocompletion&&n.push((0,Bt.yU)()),!1!==e.rectangularSelection&&n.push((0,o.D4)()),!1!==t&&n.push((0,o.HJ)()),!1!==e.highlightActiveLine&&n.push((0,o.dz)()),!1!==e.highlightSelectionMatches&&n.push(function(e){let t=[it,nt];return e&&t.push(Je.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&n.push(a.Xt.of(" ".repeat(e.tabSize))),n.concat([o.w4.of(r.flat())]).filter(Boolean)},pr=r(567),gr=o.Lz.theme({"&":{backgroundColor:"#fff"}},{dark:!1});class xr{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(e=>{try{e()}catch(t){console.error("TimeoutLatch callback error:",t)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Or{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),0===this.latches.size&&this.stop()}start(){null===this.interval&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){null!==this.interval&&(clearInterval(this.interval),this.interval=null)}}var vr=null,yr=s.YH.define(),br=[];function wr(e){var{value:t,selection:r,onChange:n,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:h=br,autoFocus:u,theme:d="light",height:f=null,minHeight:m=null,maxHeight:p=null,width:g=null,minWidth:x=null,maxWidth:O=null,placeholder:v="",editable:y=!0,readOnly:b=!1,indentWithTab:w=!0,basicSetup:k=!0,root:S,initialState:N}=e,[j,_]=(0,i.useState)(),[A,P]=(0,i.useState)(),[E,Q]=(0,i.useState)(),C=(0,i.useState)(()=>({current:null}))[0],M=(0,i.useState)(()=>({current:null}))[0],T=o.Lz.theme({"&":{height:f,minHeight:m,maxHeight:p,width:g,minWidth:x,maxWidth:O},"& .cm-scroller":{height:"100% !important"}}),R=o.Lz.updateListener.of(e=>{if(e.docChanged&&"function"===typeof n&&!e.transactions.some(e=>e.annotation(yr))){C.current?C.current.reset():(C.current=new xr(()=>{if(M.current){var e=M.current;M.current=null,e()}C.current=null},200),("undefined"===typeof window?new Or:(vr||(vr=new Or),vr)).add(C.current));var t=e.state.doc.toString();n(t,e)}a&&a((e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(e=>!e.empty)}))(e))}),$=function(e){void 0===e&&(e={});var{indentWithTab:t=!0,editable:r=!0,readOnly:n=!1,theme:i="light",placeholder:a="",basicSetup:l=!0}=e,c=[];switch(t&&c.unshift(o.w4.of([$e])),l&&("boolean"===typeof l?c.unshift(mr()):c.unshift(mr(l))),a&&c.unshift((0,o.qf)(a)),i){case"light":c.push(gr);break;case"dark":c.push(pr.bM);break;case"none":break;default:c.push(i)}return!1===r&&c.push(o.Lz.editable.of(!1)),n&&c.push(s.$t.readOnly.of(!0)),[...c]}({theme:d,editable:y,readOnly:b,placeholder:v,indentWithTab:w,basicSetup:k}),D=[R,T,...$];return c&&"function"===typeof c&&D.push(o.Lz.updateListener.of(c)),D=D.concat(h),(0,i.useLayoutEffect)(()=>{if(j&&!E){var e={doc:t,selection:r,extensions:D},n=N?s.$t.fromJSON(N.json,e,N.fields):s.$t.create(e);if(Q(n),!A){var i=new o.Lz({state:n,parent:j,root:S});P(i),l&&l(i,n)}}return()=>{A&&(Q(void 0),P(void 0))}},[j,E]),(0,i.useEffect)(()=>{e.container&&_(e.container)},[e.container]),(0,i.useEffect)(()=>()=>{A&&(A.destroy(),P(void 0)),C.current&&(C.current.cancel(),C.current=null)},[A]),(0,i.useEffect)(()=>{u&&A&&A.focus()},[u,A]),(0,i.useEffect)(()=>{A&&A.dispatch({effects:s.Pe.reconfigure.of(D)})},[d,h,f,m,p,g,x,O,v,y,b,w,k,n,c]),(0,i.useEffect)(()=>{if(void 0!==t){var e=A?A.state.doc.toString():"";if(A&&t!==e){var r=()=>{A&&t!==A.state.doc.toString()&&A.dispatch({changes:{from:0,to:A.state.doc.toString().length,insert:t||""},annotations:[yr.of(!0)]})};C.current&&!C.current.isDone?M.current=r:r()}}},[t,A]),{state:E,setState:Q,view:A,setView:P,container:j,setContainer:_}}var kr=r(634),Sr=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Nr=(0,i.forwardRef)((e,t)=>{var{className:r,value:s="",selection:o,extensions:a=[],onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:u,autoFocus:d,theme:f="light",height:m,minHeight:p,maxHeight:g,width:x,minWidth:O,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:k,readOnly:S,root:N,initialState:j}=e,_=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,Sr),A=(0,i.useRef)(null),{state:P,view:E,container:Q,setContainer:C}=wr({root:N,value:s,autoFocus:d,theme:f,height:m,minHeight:p,maxHeight:g,width:x,minWidth:O,maxWidth:v,basicSetup:y,placeholder:b,indentWithTab:w,editable:k,readOnly:S,selection:o,onChange:l,onStatistics:c,onCreateEditor:h,onUpdate:u,extensions:a,initialState:j});(0,i.useImperativeHandle)(t,()=>({editor:A.current,state:P,view:E}),[A,Q,P,E]);var M=(0,i.useCallback)(e=>{A.current=e,C(e)},[C]);if("string"!==typeof s)throw new Error("value must be typeof string but got "+typeof s);var T="string"===typeof f?"cm-theme-"+f:"cm-theme";return(0,kr.jsx)("div",n({ref:M,className:T+(r?" "+r:"")},_))});Nr.displayName="CodeMirror";const jr=Nr},340:(e,t,r)=>{"use strict";e.exports=r(761)},345:(e,t,r)=>{"use strict";var n=r(950),i=r(340);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(e,t,r,n,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new p(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new p(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new p(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new p(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new p(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}function v(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!u.call(m,e)||!u.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x,O);g[t]=new p(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x,O);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x,O);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var $,D=Object.assign;function L(e){if(void 0===$)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$=t&&t[1]||""}return"\n"+$+e}var I=!1;function Z(e,t){if(!e||I)return"";I=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=n.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{I=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?L(e):""}function B(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case N:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case j:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function F(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=X(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function G(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=U(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function H(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function K(e,t){H(e,t);var r=U(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+U(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:U(r)}}function se(e,t){var r=U(t.value),n=U(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,ue=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction(function(){return he(e,t)})}:he);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=pe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach(function(e){me.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var xe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oe(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Se=null;function Ne(e){if(e=vi(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=bi(t),we(e.stateNode,e.type,t))}}function je(e){ke?Se?Se.push(e):Se=[e]:ke=e}function _e(){if(ke){var e=ke,t=Se;if(Se=ke=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Ee=!1;function Qe(e,t,r){if(Ee)return e(t,r);Ee=!0;try{return Ae(e,t,r)}finally{Ee=!1,(null!==ke||null!==Se)&&(Pe(),_e())}}function Ce(e,t){var r=e.stateNode;if(null===r)return null;var n=bi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Me=!1;if(h)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(he){Me=!1}function Re(e,t,r,n,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(h){this.onError(h)}}var $e=!1,De=null,Le=!1,Ie=null,Ze={onError:function(e){$e=!0,De=e}};function Be(e,t,r,n,i,s,o,a,l){$e=!1,De=null,Re.apply(Ze,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(ze(e)!==e)throw Error(s(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Ue(i),e;if(o===n)return Ue(i),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=o;break}if(l===n){a=!0,n=i,r=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===r){a=!0,r=o,n=i;break}if(l===n){a=!0,n=o,r=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e))?Fe(e):null}function Fe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Fe(e);if(null!==t)return t;e=e.sibling}return null}var Ve=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,We=i.unstable_shouldYield,Ge=i.unstable_requestPaint,He=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ht=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var a=o&~i;0!==a?n=ut(a):0!==(s&=o)&&(n=ut(s))}else 0!==(o=r&~i)?n=ut(o):0!==s&&(n=ut(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-ot(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=r}function Ot(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,kt,St,Nt,jt=!1,_t=[],At=null,Pt=null,Et=null,Qt=new Map,Ct=new Map,Mt=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Qt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(t.pointerId)}}function $t(e,t,r,n,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=vi(t))&&wt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=Oi(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void Nt(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=vi(r))&&wt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);ye=n,r.target.dispatchEvent(n),ye=null,t.shift()}return!0}function It(e,t,r){Lt(e)&&r.delete(t)}function Zt(){jt=!1,null!==At&&Lt(At)&&(At=null),null!==Pt&&Lt(Pt)&&(Pt=null),null!==Et&&Lt(Et)&&(Et=null),Qt.forEach(It),Ct.forEach(It)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,jt||(jt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function zt(e){function t(t){return Bt(t,e)}if(0<_t.length){Bt(_t[0],e);for(var r=1;r<_t.length;r++){var n=_t[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Pt&&Bt(Pt,e),null!==Et&&Bt(Et,e),Qt.forEach(t),Ct.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Dt(r),null===r.blockedOn&&Mt.shift()}var qt=y.ReactCurrentBatchConfig,Ut=!0;function Xt(e,t,r,n){var i=vt,s=qt.transition;qt.transition=null;try{vt=1,Vt(e,t,r,n)}finally{vt=i,qt.transition=s}}function Ft(e,t,r,n){var i=vt,s=qt.transition;qt.transition=null;try{vt=4,Vt(e,t,r,n)}finally{vt=i,qt.transition=s}}function Vt(e,t,r,n){if(Ut){var i=Wt(e,t,r,n);if(null===i)Un(e,t,n,Yt,r),Rt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return At=$t(At,e,t,r,n,i),!0;case"dragenter":return Pt=$t(Pt,e,t,r,n,i),!0;case"mouseover":return Et=$t(Et,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Qt.set(s,$t(Qt.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ct.set(s,$t(Ct.get(s)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Rt(e,n),4&t&&-1<Tt.indexOf(e)){for(;null!==i;){var s=vi(i);if(null!==s&&bt(s),null===(s=Wt(e,t,r,n))&&Un(e,t,n,Yt,r),s===i)break;i=s}null!==i&&n.stopPropagation()}else Un(e,t,n,null,r)}}var Yt=null;function Wt(e,t,r,n){if(Yt=null,null!==(e=Oi(e=be(n))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Ht=null,Kt=null,Jt=null;function er(){if(Jt)return Jt;var e,t,r=Kt,n=r.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var sr,or,ar,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ir(lr),hr=D({},lr,{view:0,detail:0}),ur=ir(hr),dr=D({},hr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&"mousemove"===e.type?(sr=e.screenX-ar.screenX,or=e.screenY-ar.screenY):or=sr=0,ar=e),sr)},movementY:function(e){return"movementY"in e?e.movementY:or}}),fr=ir(dr),mr=ir(D({},dr,{dataTransfer:0})),pr=ir(D({},hr,{relatedTarget:0})),gr=ir(D({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),xr=D({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Or=ir(xr),vr=ir(D({},lr,{data:0})),yr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wr[e])&&!!t[e]}function Sr(){return kr}var Nr=D({},hr,{key:function(e){if(e.key){var t=yr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?br[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jr=ir(Nr),_r=ir(D({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ar=ir(D({},hr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sr})),Pr=ir(D({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Er=D({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qr=ir(Er),Cr=[9,13,27,32],Mr=h&&"CompositionEvent"in window,Tr=null;h&&"documentMode"in document&&(Tr=document.documentMode);var Rr=h&&"TextEvent"in window&&!Tr,$r=h&&(!Mr||Tr&&8<Tr&&11>=Tr),Dr=String.fromCharCode(32),Lr=!1;function Ir(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Br=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Ur(e,t,r,n){je(n),0<(t=Fn(t,"onChange")).length&&(r=new cr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xr=null,Fr=null;function Vr(e){Ln(e,0)}function Yr(e){if(V(yi(e)))return e}function Wr(e,t){if("change"===e)return t}var Gr=!1;if(h){var Hr;if(h){var Kr="oninput"in document;if(!Kr){var Jr=document.createElement("div");Jr.setAttribute("oninput","return;"),Kr="function"===typeof Jr.oninput}Hr=Kr}else Hr=!1;Gr=Hr&&(!document.documentMode||9<document.documentMode)}function en(){Xr&&(Xr.detachEvent("onpropertychange",tn),Fr=Xr=null)}function tn(e){if("value"===e.propertyName&&Yr(Fr)){var t=[];Ur(t,Fr,e,be(e)),Qe(Vr,t)}}function rn(e,t,r){"focusin"===e?(en(),Fr=r,(Xr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Fr)}function sn(e,t){if("click"===e)return Yr(t)}function on(e,t){if("input"===e||"change"===e)return Yr(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!u.call(t,i)||!an(e[i],t[i]))return!1}return!0}function cn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var r,n=cn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cn(n)}}function un(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?un(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&un(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=void 0===n.end?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=hn(r,s);var o=hn(r,n);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pn=h&&"documentMode"in document&&11>=document.documentMode,gn=null,xn=null,On=null,vn=!1;function yn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;vn||null==gn||gn!==Y(n)||("selectionStart"in(n=gn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},On&&ln(On,n)||(On=n,0<(n=Fn(xn,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function bn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wn={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionend:bn("Transition","TransitionEnd")},kn={},Sn={};function Nn(e){if(kn[e])return kn[e];if(!wn[e])return e;var t,r=wn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Sn)return kn[e]=r[t];return e}h&&(Sn=document.createElement("div").style,"AnimationEvent"in window||(delete wn.animationend.animation,delete wn.animationiteration.animation,delete wn.animationstart.animation),"TransitionEvent"in window||delete wn.transitionend.transition);var jn=Nn("animationend"),_n=Nn("animationiteration"),An=Nn("animationstart"),Pn=Nn("transitionend"),En=new Map,Qn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){En.set(e,t),l(t,[e])}for(var Mn=0;Mn<Qn.length;Mn++){var Tn=Qn[Mn];Cn(Tn.toLowerCase(),"on"+(Tn[0].toUpperCase()+Tn.slice(1)))}Cn(jn,"onAnimationEnd"),Cn(_n,"onAnimationIteration"),Cn(An,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(Pn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$n=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function Dn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,o,a,l,c){if(Be.apply(this,arguments),$e){if(!$e)throw Error(s(198));var h=De;$e=!1,De=null,Le||(Le=!0,Ie=h)}}(n,t,void 0,e),e.currentTarget=null}function Ln(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Dn(i,a,c),s=l}else for(o=0;o<n.length;o++){if(l=(a=n[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Dn(i,a,c),s=l}}}if(Le)throw e=Ie,Le=!1,Ie=null,e}function In(e,t){var r=t[pi];void 0===r&&(r=t[pi]=new Set);var n=e+"__bubble";r.has(n)||(qn(t,e,2,!1),r.add(n))}function Zn(e,t,r){var n=0;t&&(n|=4),qn(r,e,n,t)}var Bn="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[Bn]){e[Bn]=!0,o.forEach(function(t){"selectionchange"!==t&&($n.has(t)||Zn(t,!1,e),Zn(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bn]||(t[Bn]=!0,Zn("selectionchange",!1,t))}}function qn(e,t,r,n){switch(Gt(t)){case 1:var i=Xt;break;case 4:i=Ft;break;default:i=Vt}r=i.bind(null,t,r,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Un(e,t,r,n,i){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Oi(a)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}a=a.parentNode}}n=n.return}Qe(function(){var n=s,i=be(r),o=[];e:{var a=En.get(e);if(void 0!==a){var l=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=jr;break;case"focusin":c="focus",l=pr;break;case"focusout":c="blur",l=pr;break;case"beforeblur":case"afterblur":l=pr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ar;break;case jn:case _n:case An:l=gr;break;case Pn:l=Pr;break;case"scroll":l=ur;break;case"wheel":l=Qr;break;case"copy":case"cut":case"paste":l=Or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=_r}var h=0!==(4&t),u=!h&&"scroll"===e,d=h?null!==a?a+"Capture":null:a;h=[];for(var f,m=n;null!==m;){var p=(f=m).stateNode;if(5===f.tag&&null!==p&&(f=p,null!==d&&(null!=(p=Ce(m,d))&&h.push(Xn(m,p,f)))),u)break;m=m.return}0<h.length&&(a=new l(a,c,null,r,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===ye||!(c=r.relatedTarget||r.fromElement)||!Oi(c)&&!c[mi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?Oi(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(h=fr,p="onMouseLeave",d="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=_r,p="onPointerLeave",d="onPointerEnter",m="pointer"),u=null==l?a:yi(l),f=null==c?a:yi(c),(a=new h(p,m+"leave",l,r,i)).target=u,a.relatedTarget=f,p=null,Oi(i)===n&&((h=new h(d,m+"enter",c,r,i)).target=f,h.relatedTarget=u,p=h),u=p,l&&c)e:{for(d=c,m=0,f=h=l;f;f=Vn(f))m++;for(f=0,p=d;p;p=Vn(p))f++;for(;0<m-f;)h=Vn(h),m--;for(;0<f-m;)d=Vn(d),f--;for(;m--;){if(h===d||null!==d&&h===d.alternate)break e;h=Vn(h),d=Vn(d)}h=null}else h=null;null!==l&&Yn(o,a,l,h,!1),null!==c&&null!==u&&Yn(o,u,c,h,!0)}if("select"===(l=(a=n?yi(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Wr;else if(qr(a))if(Gr)g=on;else{g=nn;var x=rn}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sn);switch(g&&(g=g(e,n))?Ur(o,g,r,i):(x&&x(e,a,n),"focusout"===e&&(x=a._wrapperState)&&x.controlled&&"number"===a.type&&ee(a,"number",a.value)),x=n?yi(n):window,e){case"focusin":(qr(x)||"true"===x.contentEditable)&&(gn=x,xn=n,On=null);break;case"focusout":On=xn=gn=null;break;case"mousedown":vn=!0;break;case"contextmenu":case"mouseup":case"dragend":vn=!1,yn(o,r,i);break;case"selectionchange":if(pn)break;case"keydown":case"keyup":yn(o,r,i)}var O;if(Mr)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Br?Ir(e,r)&&(v="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(v="onCompositionStart");v&&($r&&"ko"!==r.locale&&(Br||"onCompositionStart"!==v?"onCompositionEnd"===v&&Br&&(O=er()):(Kt="value"in(Ht=i)?Ht.value:Ht.textContent,Br=!0)),0<(x=Fn(n,v)).length&&(v=new vr(v,e,null,r,i),o.push({event:v,listeners:x}),O?v.data=O:null!==(O=Zr(r))&&(v.data=O))),(O=Rr?function(e,t){switch(e){case"compositionend":return Zr(t);case"keypress":return 32!==t.which?null:(Lr=!0,Dr);case"textInput":return(e=t.data)===Dr&&Lr?null:e;default:return null}}(e,r):function(e,t){if(Br)return"compositionend"===e||!Mr&&Ir(e,t)?(e=er(),Jt=Kt=Ht=null,Br=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $r&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Fn(n,"onBeforeInput")).length&&(i=new vr("onBeforeInput","beforeinput",null,r,i),o.push({event:i,listeners:n}),i.data=O))}Ln(o,t)})}function Xn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Ce(e,r))&&n.unshift(Xn(e,s,i)),null!=(s=Ce(e,t))&&n.push(Xn(e,s,i))),e=e.return}return n}function Vn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,i){for(var s=t._reactName,o=[];null!==r&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(null!==l&&l===n)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Ce(r,s))&&o.unshift(Xn(r,l,a)):i||null!=(l=Ce(r,s))&&o.push(Xn(r,l,a))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Wn=/\r\n?/g,Gn=/\u0000|\uFFFD/g;function Hn(e){return("string"===typeof e?e:""+e).replace(Wn,"\n").replace(Gn,"")}function Kn(e,t,r){if(t=Hn(t),Hn(e)!==t&&r)throw Error(s(425))}function Jn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout(function(){throw e})}function li(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,fi="__reactProps$"+ui,mi="__reactContainer$"+ui,pi="__reactEvents$"+ui,gi="__reactListeners$"+ui,xi="__reactHandles$"+ui;function Oi(e){var t=e[di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[mi]||r[di]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=hi(e);null!==e;){if(r=e[di])return r;e=hi(e)}return t}r=(e=r).parentNode}return null}function vi(e){return!(e=e[di]||e[mi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function bi(e){return e[fi]||null}var wi=[],ki=-1;function Si(e){return{current:e}}function Ni(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function ji(e,t){ki++,wi[ki]=e.current,e.current=t}var _i={},Ai=Si(_i),Pi=Si(!1),Ei=_i;function Qi(e,t){var r=e.type.contextTypes;if(!r)return _i;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ni(Pi),Ni(Ai)}function Ti(e,t,r){if(Ai.current!==_i)throw Error(s(168));ji(Ai,t),ji(Pi,r)}function Ri(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return D({},r,n)}function $i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_i,Ei=Ai.current,ji(Ai,e),ji(Pi,Pi.current),!0}function Di(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=Ri(e,t,Ei),n.__reactInternalMemoizedMergedChildContext=e,Ni(Pi),Ni(Ai),ji(Ai,e)):Ni(Pi),ji(Pi,r)}var Li=null,Ii=!1,Zi=!1;function Bi(e){null===Li?Li=[e]:Li.push(e)}function zi(){if(!Zi&&null!==Li){Zi=!0;var e=0,t=vt;try{var r=Li;for(vt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Li=null,Ii=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),Ve(Je,zi),i}finally{vt=t,Zi=!1}}return null}var qi=[],Ui=0,Xi=null,Fi=0,Vi=[],Yi=0,Wi=null,Gi=1,Hi="";function Ki(e,t){qi[Ui++]=Fi,qi[Ui++]=Xi,Xi=e,Fi=t}function Ji(e,t,r){Vi[Yi++]=Gi,Vi[Yi++]=Hi,Vi[Yi++]=Wi,Wi=e;var n=Gi;e=Hi;var i=32-ot(n)-1;n&=~(1<<i),r+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Gi=1<<32-ot(t)+i|r<<i|n,Hi=s+e}else Gi=1<<s|r<<i|n,Hi=e}function es(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function ts(e){for(;e===Xi;)Xi=qi[--Ui],qi[Ui]=null,Fi=qi[--Ui],qi[Ui]=null;for(;e===Wi;)Wi=Vi[--Yi],Vi[Yi]=null,Hi=Vi[--Yi],Vi[Yi]=null,Gi=Vi[--Yi],Vi[Yi]=null}var rs=null,ns=null,is=!1,ss=null;function os(e,t){var r=Qc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function as(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,ns=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,ns=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Wi?{id:Gi,overflow:Hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Qc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rs=e,ns=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=ns;if(t){var r=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(r.nextSibling);var n=rs;t&&as(e,t)?os(n,r):(e.flags=-4097&e.flags|2,is=!1,rs=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,rs=e}}}function hs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function us(e){if(e!==rs)return!1;if(!is)return hs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ns)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(hs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ns=ci(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ns=null}}else ns=rs?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=ns;e;)e=ci(e.nextSibling)}function fs(){ns=rs=null,is=!1}function ms(e){null===ss?ss=[e]:ss.push(e)}var ps=y.ReactCurrentBatchConfig;function gs(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var i=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function xs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Os(e){return(0,e._init)(e._payload)}function vs(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Dc(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===k?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===C&&Os(s)===t.type)?((n=i(t,r.props)).ref=gs(e,t,r),n.return=e,n):((n=Tc(r.type,r.key,r.props,null,e.mode,n)).ref=gs(e,t,r),n.return=e,n)}function h(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Lc(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Rc(r,e.mode,n,s)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(r=Tc(t.type,t.key,t.props,null,e.mode,r)).ref=gs(e,null,t),r.return=e,r;case w:return(t=Lc(t,e.mode,r)).return=e,t;case C:return d(e,(0,t._init)(t._payload),r)}if(te(t)||R(t))return(t=Rc(t,e.mode,r,null)).return=e,t;xs(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return r.key===i?c(e,t,r,n):null;case w:return r.key===i?h(e,t,r,n):null;case C:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||R(r))return null!==i?null:u(e,t,r,n,null);xs(e,r)}return null}function m(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case w:return h(t,e=e.get(null===n.key?r:n.key)||null,n,i);case C:return m(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||R(n))return u(t,e=e.get(r)||null,n,i,null);xs(t,n)}return null}function p(i,s,a,l){for(var c=null,h=null,u=s,p=s=0,g=null;null!==u&&p<a.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var x=f(i,u,a[p],l);if(null===x){null===u&&(u=g);break}e&&u&&null===x.alternate&&t(i,u),s=o(x,s,p),null===h?c=x:h.sibling=x,h=x,u=g}if(p===a.length)return r(i,u),is&&Ki(i,p),c;if(null===u){for(;p<a.length;p++)null!==(u=d(i,a[p],l))&&(s=o(u,s,p),null===h?c=u:h.sibling=u,h=u);return is&&Ki(i,p),c}for(u=n(i,u);p<a.length;p++)null!==(g=m(u,i,p,a[p],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),s=o(g,s,p),null===h?c=g:h.sibling=g,h=g);return e&&u.forEach(function(e){return t(i,e)}),is&&Ki(i,p),c}function g(i,a,l,c){var h=R(l);if("function"!==typeof h)throw Error(s(150));if(null==(l=h.call(l)))throw Error(s(151));for(var u=h=null,p=a,g=a=0,x=null,O=l.next();null!==p&&!O.done;g++,O=l.next()){p.index>g?(x=p,p=null):x=p.sibling;var v=f(i,p,O.value,c);if(null===v){null===p&&(p=x);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,g),null===u?h=v:u.sibling=v,u=v,p=x}if(O.done)return r(i,p),is&&Ki(i,g),h;if(null===p){for(;!O.done;g++,O=l.next())null!==(O=d(i,O.value,c))&&(a=o(O,a,g),null===u?h=O:u.sibling=O,u=O);return is&&Ki(i,g),h}for(p=n(i,p);!O.done;g++,O=l.next())null!==(O=m(p,i,g,O.value,c))&&(e&&null!==O.alternate&&p.delete(null===O.key?g:O.key),a=o(O,a,g),null===u?h=O:u.sibling=O,u=O);return e&&p.forEach(function(e){return t(i,e)}),is&&Ki(i,g),h}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,h=s;null!==h;){if(h.key===c){if((c=o.type)===k){if(7===h.tag){r(n,h.sibling),(s=i(h,o.props.children)).return=n,n=s;break e}}else if(h.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===C&&Os(c)===h.type){r(n,h.sibling),(s=i(h,o.props)).ref=gs(n,h,o),s.return=n,n=s;break e}r(n,h);break}t(n,h),h=h.sibling}o.type===k?((s=Rc(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Tc(o.type,o.key,o.props,null,n.mode,l)).ref=gs(n,s,o),l.return=n,n=l)}return a(n);case w:e:{for(h=o.key;null!==s;){if(s.key===h){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=i(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Lc(o,n.mode,l)).return=n,n=s}return a(n);case C:return e(n,s,(h=o._init)(o._payload),l)}if(te(o))return p(n,s,o,l);if(R(o))return g(n,s,o,l);xs(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=i(s,o)).return=n,n=s):(r(n,s),(s=Dc(o,n.mode,l)).return=n,n=s),a(n)):r(n,s)}}var ys=vs(!0),bs=vs(!1),ws=Si(null),ks=null,Ss=null,Ns=null;function js(){Ns=Ss=ks=null}function _s(e){var t=ws.current;Ni(ws),e._currentValue=t}function As(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t){ks=e,Ns=Ss=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(va=!0),e.firstContext=null)}function Es(e){var t=e._currentValue;if(Ns!==e)if(e={context:e,memoizedValue:t,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=e,ks.dependencies={lanes:0,firstContext:e}}else Ss=Ss.next=e;return t}var Qs=null;function Cs(e){null===Qs?Qs=[e]:Qs.push(e)}function Ms(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Cs(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ts(e,n)}function Ts(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Rs=!1;function $s(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ls(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Al)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ts(e,r)}return null===(i=n.interleaved)?(t.next=t,Cs(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ts(e,r)}function Zs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ot(e,r)}}function Bs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?i=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?i=s=t:s=s.next=t}else i=s=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zs(e,t,r,n){var i=e.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var h=e.alternate;null!==h&&((a=(h=h.updateQueue).lastBaseUpdate)!==o&&(null===a?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(null!==s){var u=i.baseState;for(o=0,h=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((n&d)===d){null!==h&&(h=h.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,p=a;switch(d=t,f=r,p.tag){case 1:if("function"===typeof(m=p.payload)){u=m.call(f,u,d);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=p.payload)?m.call(f,u,d):m)||void 0===d)break e;u=D({},u,d);break e;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===h?(c=h=f,l=u):h=h.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===h&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);$l|=o,e.lanes=o,e.memoizedState=u}}function qs(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(s(191,i));i.call(n)}}}var Us={},Xs=Si(Us),Fs=Si(Us),Vs=Si(Us);function Ys(e){if(e===Us)throw Error(s(174));return e}function Ws(e,t){switch(ji(Vs,t),ji(Fs,e),ji(Xs,Us),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ni(Xs),ji(Xs,t)}function Gs(){Ni(Xs),Ni(Fs),Ni(Vs)}function Hs(e){Ys(Vs.current);var t=Ys(Xs.current),r=le(t,e.type);t!==r&&(ji(Fs,e),ji(Xs,r))}function Ks(e){Fs.current===e&&(Ni(Xs),Ni(Fs))}var Js=Si(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function ro(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var no=y.ReactCurrentDispatcher,io=y.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,ho=!1,uo=0,fo=0;function mo(){throw Error(s(321))}function po(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function go(e,t,r,n,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=null===e||null===e.memoizedState?Jo:ea,e=r(n,i),ho){o=0;do{if(ho=!1,uo=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,no.current=ta,e=r(n,i)}while(ho)}if(no.current=Ko,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,t)throw Error(s(300));return e}function xo(){var e=0!==uo;return uo=0,e}function Oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function vo(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function yo(e,t){return"function"===typeof t?t(e):t}function bo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=ao,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){o=i.next,n=n.baseState;var l=a=null,c=null,h=o;do{var u=h.lane;if((so&u)===u)null!==c&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===c?(l=c=d,a=n):c=c.next=d,oo.lanes|=u,$l|=u}h=h.next}while(null!==h&&h!==o);null===c?a=n:c.next=l,an(n,t.memoizedState)||(va=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,$l|=o,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wo(e){var t=vo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);an(o,t.memoizedState)||(va=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function ko(){}function So(e,t){var r=oo,n=vo(),i=t(),o=!an(n.memoizedState,i);if(o&&(n.memoizedState=i,va=!0),n=n.queue,$o(_o.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(r.flags|=2048,Qo(9,jo.bind(null,r,n,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&so)||No(r,t,i)}return i}function No(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function jo(e,t,r,n){t.value=r,t.getSnapshot=n,Ao(t)&&Po(e)}function _o(e,t,r){return r(function(){Ao(t)&&Po(e)})}function Ao(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch(n){return!0}}function Po(e){var t=Ts(e,1);null!==t&&rc(t,e,1,-1)}function Eo(e){var t=Oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yo,lastRenderedState:e},t.queue=e,e=e.dispatch=Yo.bind(null,oo,e),[t.memoizedState,e]}function Qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Co(){return vo().memoizedState}function Mo(e,t,r,n){var i=Oo();oo.flags|=e,i.memoizedState=Qo(1|t,r,void 0,void 0===n?null:n)}function To(e,t,r,n){var i=vo();n=void 0===n?null:n;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==n&&po(n,o.deps))return void(i.memoizedState=Qo(t,r,s,n))}oo.flags|=e,i.memoizedState=Qo(1|t,r,s,n)}function Ro(e,t){return Mo(8390656,8,e,t)}function $o(e,t){return To(2048,8,e,t)}function Do(e,t){return To(4,2,e,t)}function Lo(e,t){return To(4,4,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Zo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,To(4,4,Io.bind(null,t,e),r)}function Bo(){}function zo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&po(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function qo(e,t){var r=vo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&po(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Uo(e,t,r){return 0===(21&so)?(e.baseState&&(e.baseState=!1,va=!0),e.memoizedState=r):(an(r,t)||(r=pt(),oo.lanes|=r,$l|=r,e.baseState=!0),t)}function Xo(e,t){var r=vt;vt=0!==r&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{vt=r,io.transition=n}}function Fo(){return vo().memoizedState}function Vo(e,t,r){var n=tc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Wo(e))Go(t,r);else if(null!==(r=Ms(e,t,r,n))){rc(r,e,n,ec()),Ho(r,t,n)}}function Yo(e,t,r){var n=tc(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Wo(e))Go(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,o)){var l=t.interleaved;return null===l?(i.next=i,Cs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(r=Ms(e,t,i,n))&&(rc(r,e,n,i=ec()),Ho(r,t,n))}}function Wo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Go(e,t){ho=co=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ho(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ot(e,r)}}var Ko={readContext:Es,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},Jo={readContext:Es,useCallback:function(e,t){return Oo().memoizedState=[e,void 0===t?null:t],e},useContext:Es,useEffect:Ro,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Mo(4194308,4,Io.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var r=Oo();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Oo();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vo.bind(null,oo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Oo().memoizedState=e},useState:Eo,useDebugValue:Bo,useDeferredValue:function(e){return Oo().memoizedState=e},useTransition:function(){var e=Eo(!1),t=e[0];return e=Xo.bind(null,e[1]),Oo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=oo,i=Oo();if(is){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Pl)throw Error(s(349));0!==(30&so)||No(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,Ro(_o.bind(null,n,o,e),[e]),n.flags|=2048,Qo(9,jo.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Oo(),t=Pl.identifierPrefix;if(is){var r=Hi;t=":"+t+"R"+(r=(Gi&~(1<<32-ot(Gi)-1)).toString(32)+r),0<(r=uo++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Es,useCallback:zo,useContext:Es,useEffect:$o,useImperativeHandle:Zo,useInsertionEffect:Do,useLayoutEffect:Lo,useMemo:qo,useReducer:bo,useRef:Co,useState:function(){return bo(yo)},useDebugValue:Bo,useDeferredValue:function(e){return Uo(vo(),ao.memoizedState,e)},useTransition:function(){return[bo(yo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Fo,unstable_isNewReconciler:!1},ta={readContext:Es,useCallback:zo,useContext:Es,useEffect:$o,useImperativeHandle:Zo,useInsertionEffect:Do,useLayoutEffect:Lo,useMemo:qo,useReducer:wo,useRef:Co,useState:function(){return wo(yo)},useDebugValue:Bo,useDeferredValue:function(e){var t=vo();return null===ao?t.memoizedState=e:Uo(t,ao.memoizedState,e)},useTransition:function(){return[wo(yo)[0],vo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Fo,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function na(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),s=Ls(n,i);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,i))&&(rc(t,e,i,n),Zs(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ec(),i=tc(e),s=Ls(n,i);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Is(e,s,i))&&(rc(t,e,i,n),Zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),n=tc(e),i=Ls(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Is(e,i,n))&&(rc(t,e,n,r),Zs(t,e,n))}};function sa(e,t,r,n,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,s))}function oa(e,t,r){var n=!1,i=_i,s=t.contextType;return"object"===typeof s&&null!==s?s=Es(s):(i=Ci(t)?Ei:Ai.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?Qi(e,i):_i),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$s(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Es(s):(s=Ci(t)?Ei:Ai.current,i.context=Qi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(na(e,t,s,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),zs(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var i=r}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,r){(r=Ls(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ul||(Ul=!0,Xl=n),ua(0,t)},r}function ma(e,t,r){(r=Ls(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ua(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ua(0,t),"function"!==typeof n&&(null===Fl?Fl=new Set([this]):Fl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function pa(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new da;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Nc.bind(null,e,t,r),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xa(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Ls(-1,1)).tag=2,Is(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Oa=y.ReactCurrentOwner,va=!1;function ya(e,t,r,n){t.child=null===e?bs(t,null,r,n):ys(t,e.child,r,n)}function ba(e,t,r,n,i){r=r.render;var s=t.ref;return Ps(t,i),n=go(e,t,r,n,s,i),r=xo(),null===e||va?(is&&r&&es(t),t.flags|=1,ya(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function wa(e,t,r,n,i){if(null===e){var s=r.type;return"function"!==typeof s||Cc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Tc(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,n,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(o,n)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,(e=Mc(s,n)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,r,n,i){if(null!==e){var s=e.memoizedProps;if(ln(s,n)&&e.ref===t.ref){if(va=!1,t.pendingProps=n=s,0===(e.lanes&i))return t.lanes=e.lanes,Ua(e,t,i);0!==(131072&e.flags)&&(va=!0)}}return ja(e,t,r,n,i)}function Sa(e,t,r){var n=t.pendingProps,i=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ji(Ml,Cl),Cl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ji(Ml,Cl),Cl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,ji(Ml,Cl),Cl|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,ji(Ml,Cl),Cl|=n;return ya(e,t,i,r),t.child}function Na(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ja(e,t,r,n,i){var s=Ci(r)?Ei:Ai.current;return s=Qi(t,s),Ps(t,i),r=go(e,t,r,n,s,i),n=xo(),null===e||va?(is&&n&&es(t),t.flags|=1,ya(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function _a(e,t,r,n,i){if(Ci(r)){var s=!0;$i(t)}else s=!1;if(Ps(t,i),null===t.stateNode)qa(e,t),oa(t,r,n),la(t,r,n,i),n=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Es(c):c=Qi(t,c=Ci(r)?Ei:Ai.current);var h=r.getDerivedStateFromProps,u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==n||l!==c)&&aa(t,o,n,c),Rs=!1;var d=t.memoizedState;o.state=d,zs(t,n,o,i),l=t.memoizedState,a!==n||d!==l||Pi.current||Rs?("function"===typeof h&&(na(t,r,h,n),l=t.memoizedState),(a=Rs||sa(t,r,a,n,d,l,c))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:ra(t.type,a),o.props=c,u=t.pendingProps,d=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Es(l):l=Qi(t,l=Ci(r)?Ei:Ai.current);var f=r.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&aa(t,o,n,l),Rs=!1,d=t.memoizedState,o.state=d,zs(t,n,o,i);var m=t.memoizedState;a!==u||d!==m||Pi.current||Rs?("function"===typeof f&&(na(t,r,f,n),m=t.memoizedState),(c=Rs||sa(t,r,c,n,d,m,l)||!1)?(h||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,m,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,m,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Aa(e,t,r,n,s,i)}function Aa(e,t,r,n,i,s){Na(e,t);var o=0!==(128&t.flags);if(!n&&!o)return i&&Di(t,r,!1),Ua(e,t,s);n=t.stateNode,Oa.current=t;var a=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,a,s)):ya(e,t,a,s),t.memoizedState=n.state,i&&Di(t,r,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Ws(e,t.containerInfo)}function Ea(e,t,r,n,i){return fs(),ms(i),t.flags|=256,ya(e,t,r,n),t.child}var Qa,Ca,Ma,Ta,Ra={dehydrated:null,treeContext:null,retryLane:0};function $a(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,r){var n,i=t.pendingProps,o=Js.current,a=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ji(Js,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=$c(l,i,0,null),e=Rc(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=$a(r),t.memoizedState=Ra,e):La(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,i,o,a){if(r)return 256&t.flags?(t.flags&=-257,Ia(e,t,a,n=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=$c({mode:"visible",children:n.children},i,0,null),(o=Rc(o,i,a,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&ys(t,e.child,null,a),t.child.memoizedState=$a(a),t.memoizedState=Ra,o);if(0===(1&t.mode))return Ia(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Ia(e,t,a,n=ha(o=Error(s(419)),n,void 0))}if(l=0!==(a&e.childLanes),va||l){if(null!==(n=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ts(e,i),rc(n,e,i,-1))}return pc(),Ia(e,t,a,n=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=_c.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ns=ci(i.nextSibling),rs=t,is=!0,ss=null,null!==e&&(Vi[Yi++]=Gi,Vi[Yi++]=Hi,Vi[Yi++]=Wi,Gi=e.id,Hi=e.overflow,Wi=t),t=La(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,o,r);if(a){a=i.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?a=Mc(n,a):(a=Rc(a,l,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?$a(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Ra,i}return e=(a=e.child).sibling,i=Mc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function La(e,t){return(t=$c({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ia(e,t,r,n){return null!==n&&ms(n),ys(t,e.child,null,r),(e=La(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Za(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),As(e.return,t,r)}function Ba(e,t,r,n,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function za(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ya(e,t,n.children,r),0!==(2&(n=Js.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Za(e,r,t);else if(19===e.tag)Za(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ji(Js,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===eo(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ba(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ba(t,!0,r,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),$l|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Mc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Mc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Xa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Fa(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Va(e,t,r){var n=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fa(t),null;case 1:case 17:return Ci(t.type)&&Mi(),Fa(t),null;case 3:return n=t.stateNode,Gs(),Ni(Pi),Ni(Ai),ro(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ca(e,t),Fa(t),null;case 5:Ks(t);var i=Ys(Vs.current);if(r=t.type,null!==e&&null!=t.stateNode)Ma(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return Fa(t),null}if(e=Ys(Xs.current),us(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[di]=t,n[fi]=o,e=0!==(1&t.mode),r){case"dialog":In("cancel",n),In("close",n);break;case"iframe":case"object":case"embed":In("load",n);break;case"video":case"audio":for(i=0;i<Rn.length;i++)In(Rn[i],n);break;case"source":In("error",n);break;case"img":case"image":case"link":In("error",n),In("load",n);break;case"details":In("toggle",n);break;case"input":G(n,o),In("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},In("invalid",n);break;case"textarea":ie(n,o),In("invalid",n)}for(var l in Oe(r,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&Kn(n.textContent,c,e),i=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Kn(n.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&In("scroll",n)}switch(r){case"input":F(n),J(n,o,!0);break;case"textarea":F(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=Jn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[di]=t,e[fi]=n,Qa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(r,n),r){case"dialog":In("cancel",e),In("close",e),i=n;break;case"iframe":case"object":case"embed":In("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rn.length;i++)In(Rn[i],e);i=n;break;case"source":In("error",e),i=n;break;case"img":case"image":case"link":In("error",e),In("load",e),i=n;break;case"details":In("toggle",e),i=n;break;case"input":G(e,n),i=W(e,n),In("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=D({},n,{value:void 0}),In("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),In("invalid",e)}for(o in Oe(r,i),c=i)if(c.hasOwnProperty(o)){var h=c[o];"style"===o?ge(e,h):"dangerouslySetInnerHTML"===o?null!=(h=h?h.__html:void 0)&&ue(e,h):"children"===o?"string"===typeof h?("textarea"!==r||""!==h)&&de(e,h):"number"===typeof h&&de(e,""+h):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=h&&"onScroll"===o&&In("scroll",e):null!=h&&v(e,o,h,l))}switch(r){case"input":F(e),J(e,n,!1);break;case"textarea":F(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+U(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Fa(t),null;case 6:if(e&&null!=t.stateNode)Ta(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=Ys(Vs.current),Ys(Xs.current),us(t)){if(n=t.stateNode,r=t.memoizedProps,n[di]=t,(o=n.nodeValue!==r)&&null!==(e=rs))switch(e.tag){case 3:Kn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kn(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=t,t.stateNode=n}return Fa(t),null;case 13:if(Ni(Js),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==ns&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=us(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Fa(t),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Tl&&(Tl=3):pc())),null!==t.updateQueue&&(t.flags|=4),Fa(t),null);case 4:return Gs(),Ca(e,t),null===e&&zn(t.stateNode.containerInfo),Fa(t),null;case 10:return _s(t.type._context),Fa(t),null;case 19:if(Ni(Js),null===(o=t.memoizedState))return Fa(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)Xa(o,!1);else{if(0!==Tl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Xa(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ji(Js,1&Js.current|2),t.child}e=e.sibling}null!==o.tail&&He()>zl&&(t.flags|=128,n=!0,Xa(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=eo(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Fa(t),null}else 2*He()-o.renderingStartTime>zl&&1073741824!==r&&(t.flags|=128,n=!0,Xa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=He(),t.sibling=null,r=Js.current,ji(Js,n?1&r|2:1&r),t):(Fa(t),null);case 22:case 23:return uc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Cl)&&(Fa(t),6&t.subtreeFlags&&(t.flags|=8192)):Fa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ci(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Ni(Pi),Ni(Ai),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ks(t),null;case 13:if(Ni(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ni(Js),null;case 4:return Gs(),null;case 10:return _s(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Qa=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ca=function(){},Ma=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ys(Xs.current);var s,o=null;switch(r){case"input":i=W(e,i),n=W(e,n),o=[];break;case"select":i=D({},i,{value:void 0}),n=D({},n,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),n=ne(e,n),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Jn)}for(h in Oe(r,n),r=null,i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&null!=i[h])if("style"===h){var l=i[h];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(a.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var c=n[h];if(l=null!=i?i[h]:void 0,n.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(h,r)),r=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(h,c)):"children"===h?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(a.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&In("scroll",e),o||l===c||(o=[])):(o=o||[]).push(h,c))}r&&(o=o||[]).push("style",r);var h=o;(t.updateQueue=h)&&(t.flags|=4)}},Ta=function(e,t,r,n){r!==n&&(t.flags|=4)};var Wa=!1,Ga=!1,Ha="function"===typeof WeakSet?WeakSet:Set,Ka=null;function Ja(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Sc(e,t,n)}else r.current=null}function el(e,t,r){try{r()}catch(n){Sc(e,t,n)}}var tl=!1;function rl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,r,s)}i=i.next}while(i!==n)}}function nl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function il(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[pi],delete t[gi],delete t[xi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Jn));else if(4!==n&&null!==(e=e.child))for(ll(e,t,r),e=e.sibling;null!==e;)ll(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var hl=null,ul=!1;function dl(e,t,r){for(r=r.child;null!==r;)fl(e,t,r),r=r.sibling}function fl(e,t,r){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,r)}catch(a){}switch(r.tag){case 5:Ga||Ja(r,t);case 6:var n=hl,i=ul;hl=null,dl(e,t,r),ul=i,null!==(hl=n)&&(ul?(e=hl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):hl.removeChild(r.stateNode));break;case 18:null!==hl&&(ul?(e=hl,r=r.stateNode,8===e.nodeType?li(e.parentNode,r):1===e.nodeType&&li(e,r),zt(e)):li(hl,r.stateNode));break;case 4:n=hl,i=ul,hl=r.stateNode.containerInfo,ul=!0,dl(e,t,r),hl=n,ul=i;break;case 0:case 11:case 14:case 15:if(!Ga&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(r,t,o),i=i.next}while(i!==n)}dl(e,t,r);break;case 1:if(!Ga&&(Ja(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Sc(r,t,a)}dl(e,t,r);break;case 21:dl(e,t,r);break;case 22:1&r.mode?(Ga=(n=Ga)||null!==r.memoizedState,dl(e,t,r),Ga=n):dl(e,t,r);break;default:dl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ha),t.forEach(function(t){var n=Ac.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function pl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ul=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===hl)throw Error(s(160));fl(o,a,i),hl=null,ul=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(h){Sc(i,t,h)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pl(t,e),xl(e),4&n){try{rl(3,e,e.return),nl(3,e)}catch(g){Sc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pl(t,e),xl(e),512&n&&null!==r&&Ja(r,r.return);break;case 5:if(pl(t,e),xl(e),512&n&&null!==r&&Ja(r,r.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&H(i,o),ve(l,a);var h=ve(l,o);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?ge(i,d):"dangerouslySetInnerHTML"===u?ue(i,d):"children"===u?de(i,d):v(i,u,d,h)}switch(l){case"input":K(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;null!=m?re(i,!!o.multiple,m,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Sc(e,e.return,g)}}break;case 6:if(pl(t,e),xl(e),4&n){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Sc(e,e.return,g)}}break;case 3:if(pl(t,e),xl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pl(t,e),xl(e);break;case 13:pl(t,e),xl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=He())),4&n&&ml(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Ga=(h=Ga)||u,pl(t,e),Ga=h):pl(t,e),xl(e),8192&n){if(h=null!==e.memoizedState,(e.stateNode.isHidden=h)&&!u&&0!==(1&e.mode))for(Ka=e,u=e.child;null!==u;){for(d=Ka=u;null!==Ka;){switch(m=(f=Ka).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:Ja(f,f.return);var p=f.stateNode;if("function"===typeof p.componentWillUnmount){n=f,r=f.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(n,r,g)}}break;case 5:Ja(f,f.return);break;case 22:if(null!==f.memoizedState){bl(d);continue}}null!==m?(m.return=f,Ka=m):bl(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pl(t,e),xl(e),4&n&&ml(e);case 21:}}function xl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(ol(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(de(i,""),n.flags&=-33),cl(e,al(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ol(e,t,r){Ka=e,vl(e,t,r)}function vl(e,t,r){for(var n=0!==(1&e.mode);null!==Ka;){var i=Ka,s=i.child;if(22===i.tag&&n){var o=null!==i.memoizedState||Wa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ga;a=Wa;var c=Ga;if(Wa=o,(Ga=l)&&!c)for(Ka=i;null!==Ka;)l=(o=Ka).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Ka=l):wl(i);for(;null!==s;)Ka=s,vl(s,t,r),s=s.sibling;Ka=i,Wa=a,Ga=c}yl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ka=s):yl(e)}}function yl(e){for(;null!==Ka;){var t=Ka;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ga||nl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Ga)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}qs(t,a,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var u=h.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ga||512&t.flags&&il(t)}catch(f){Sc(t,t.return,f)}}if(t===e){Ka=null;break}if(null!==(r=t.sibling)){r.return=t.return,Ka=r;break}Ka=t.return}}function bl(e){for(;null!==Ka;){var t=Ka;if(t===e){Ka=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Ka=r;break}Ka=t.return}}function wl(e){for(;null!==Ka;){var t=Ka;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nl(4,t)}catch(l){Sc(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){Sc(t,i,l)}}var s=t.return;try{il(t)}catch(l){Sc(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Sc(t,o,l)}}}catch(l){Sc(t,t.return,l)}if(t===e){Ka=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ka=a;break}Ka=t.return}}var kl,Sl=Math.ceil,Nl=y.ReactCurrentDispatcher,jl=y.ReactCurrentOwner,_l=y.ReactCurrentBatchConfig,Al=0,Pl=null,El=null,Ql=0,Cl=0,Ml=Si(0),Tl=0,Rl=null,$l=0,Dl=0,Ll=0,Il=null,Zl=null,Bl=0,zl=1/0,ql=null,Ul=!1,Xl=null,Fl=null,Vl=!1,Yl=null,Wl=0,Gl=0,Hl=null,Kl=-1,Jl=0;function ec(){return 0!==(6&Al)?He():-1!==Kl?Kl:Kl=He()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ql?Ql&-Ql:null!==ps.transition?(0===Jl&&(Jl=pt()),Jl):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function rc(e,t,r,n){if(50<Gl)throw Gl=0,Hl=null,Error(s(185));xt(e,r,n),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(Dl|=r),4===Tl&&ac(e,Ql)),nc(e,n),1===r&&0===Al&&0===(1&t.mode)&&(zl=He()+500,Ii&&zi()))}function nc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&r)&&0===(a&n)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var n=dt(e,e===Pl?Ql:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Ii=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),oi(function(){0===(6&Al)&&zi()}),r=null;else{switch(yt(n)){case 1:r=Je;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Pc(r,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ic(e,t){if(Kl=-1,Jl=0,0!==(6&Al))throw Error(s(327));var r=e.callbackNode;if(wc()&&e.callbackNode!==r)return null;var n=dt(e,e===Pl?Ql:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gc(e,n);else{t=n;var i=Al;Al|=2;var o=mc();for(Pl===e&&Ql===t||(ql=null,zl=He()+500,dc(e,t));;)try{Oc();break}catch(l){fc(e,l)}js(),Nl.current=o,Al=i,null!==El?t=0:(Pl=null,Ql=0,t=Tl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(n=i,t=sc(e,i))),1===t)throw r=Rl,dc(e,0),ac(e,n),nc(e,He()),r;if(6===t)ac(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!an(s(),i))return!1}catch(a){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,n))&&(0!==(o=mt(e))&&(n=o,t=sc(e,o))),1===t))throw r=Rl,dc(e,0),ac(e,n),nc(e,He()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:bc(e,Zl,ql);break;case 3:if(ac(e,n),(130023424&n)===n&&10<(t=Bl+500-He())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(bc.bind(null,e,Zl,ql),t);break}bc(e,Zl,ql);break;case 4:if(ac(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-ot(n);o=1<<a,(a=t[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=He()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sl(n/1960))-n)){e.timeoutHandle=ni(bc.bind(null,e,Zl,ql),n);break}bc(e,Zl,ql);break;default:throw Error(s(329))}}}return nc(e,He()),e.callbackNode===r?ic.bind(null,e):null}function sc(e,t){var r=Il;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Zl,Zl=r,null!==t&&oc(t)),e}function oc(e){null===Zl?Zl=e:Zl.push.apply(Zl,e)}function ac(e,t){for(t&=~Ll,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function lc(e){if(0!==(6&Al))throw Error(s(327));wc();var t=dt(e,0);if(0===(1&t))return nc(e,He()),null;var r=gc(e,t);if(0!==e.tag&&2===r){var n=mt(e);0!==n&&(t=n,r=sc(e,n))}if(1===r)throw r=Rl,dc(e,0),ac(e,t),nc(e,He()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Zl,ql),nc(e,He()),null}function cc(e,t){var r=Al;Al|=1;try{return e(t)}finally{0===(Al=r)&&(zl=He()+500,Ii&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&wc();var t=Al;Al|=1;var r=_l.transition,n=vt;try{if(_l.transition=null,vt=1,e)return e()}finally{vt=n,_l.transition=r,0===(6&(Al=t))&&zi()}}function uc(){Cl=Ml.current,Ni(Ml)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==El)for(r=El.return;null!==r;){var n=r;switch(ts(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Mi();break;case 3:Gs(),Ni(Pi),Ni(Ai),ro();break;case 5:Ks(n);break;case 4:Gs();break;case 13:case 19:Ni(Js);break;case 10:_s(n.type._context);break;case 22:case 23:uc()}r=r.return}if(Pl=e,El=e=Mc(e.current,null),Ql=Cl=t,Tl=0,Rl=null,Ll=Dl=$l=0,Zl=Il=null,null!==Qs){for(t=0;t<Qs.length;t++)if(null!==(n=(r=Qs[t]).interleaved)){r.interleaved=null;var i=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=i,n.next=o}r.pending=n}Qs=null}return e}function fc(e,t){for(;;){var r=El;try{if(js(),no.current=Ko,co){for(var n=oo.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}co=!1}if(so=0,lo=ao=oo=null,ho=!1,uo=0,jl.current=null,null===r||null===r.return){Tl=1,Rl=t,El=null;break}e:{var o=e,a=r.return,l=r,c=t;if(t=Ql,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var h=c,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=ga(a);if(null!==m){m.flags&=-257,xa(m,a,l,0,t),1&m.mode&&pa(o,h,t),c=h;var p=(t=m).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pa(o,h,t),pc();break e}c=Error(s(426))}else if(is&&1&l.mode){var x=ga(a);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),xa(x,a,l,0,t),ms(ca(c,l));break e}}o=c=ca(c,l),4!==Tl&&(Tl=2),null===Il?Il=[o]:Il.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,fa(0,c,t));break e;case 1:l=c;var O=o.type,v=o.stateNode;if(0===(128&o.flags)&&("function"===typeof O.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Fl||!Fl.has(v)))){o.flags|=65536,t&=-t,o.lanes|=t,Bs(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}yc(r)}catch(y){t=y,El===r&&null!==r&&(El=r=r.return);continue}break}}function mc(){var e=Nl.current;return Nl.current=Ko,null===e?Ko:e}function pc(){0!==Tl&&3!==Tl&&2!==Tl||(Tl=4),null===Pl||0===(268435455&$l)&&0===(268435455&Dl)||ac(Pl,Ql)}function gc(e,t){var r=Al;Al|=2;var n=mc();for(Pl===e&&Ql===t||(ql=null,dc(e,t));;)try{xc();break}catch(i){fc(e,i)}if(js(),Al=r,Nl.current=n,null!==El)throw Error(s(261));return Pl=null,Ql=0,Tl}function xc(){for(;null!==El;)vc(El)}function Oc(){for(;null!==El&&!We();)vc(El)}function vc(e){var t=kl(e.alternate,e,Cl);e.memoizedProps=e.pendingProps,null===t?yc(e):El=t,jl.current=null}function yc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Va(r,t,Cl)))return void(El=r)}else{if(null!==(r=Ya(r,t)))return r.flags&=32767,void(El=r);if(null===e)return Tl=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Tl&&(Tl=5)}function bc(e,t,r){var n=vt,i=_l.transition;try{_l.transition=null,vt=1,function(e,t,r,n){do{wc()}while(null!==Yl);if(0!==(6&Al))throw Error(s(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ot(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}(e,o),e===Pl&&(El=Pl=null,Ql=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Vl||(Vl=!0,Pc(tt,function(){return wc(),null})),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=_l.transition,_l.transition=null;var a=vt;vt=1;var l=Al;Al|=4,jl.current=null,function(e,t){if(ei=Ut,fn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(b){r=null;break e}var a=0,l=-1,c=-1,h=0,u=0,d=e,f=null;t:for(;;){for(var m;d!==r||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==n&&3!==d.nodeType||(c=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(m=d.firstChild);)f=d,d=m;for(;;){if(d===e)break t;if(f===r&&++h===i&&(l=a),f===o&&++u===n&&(c=a),null!==(m=d.nextSibling))break;f=(d=f).parentNode}d=m}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Ut=!1,Ka=t;null!==Ka;)if(e=(t=Ka).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ka=e;else for(;null!==Ka;){t=Ka;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,x=p.memoizedState,O=t.stateNode,v=O.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),x);O.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Ka=e;break}Ka=t.return}p=tl,tl=!1}(e,r),gl(r,e),mn(ti),Ut=!!ei,ti=ei=null,e.current=r,Ol(r,e,i),Ge(),Al=l,vt=a,_l.transition=o}else e.current=r;if(Vl&&(Vl=!1,Yl=e,Wl=i),o=e.pendingLanes,0===o&&(Fl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nc(e,He()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Xl,Xl=null,e;0!==(1&Wl)&&0!==e.tag&&wc(),o=e.pendingLanes,0!==(1&o)?e===Hl?Gl++:(Gl=0,Hl=e):Gl=0,zi()}(e,t,r,n)}finally{_l.transition=i,vt=n}return null}function wc(){if(null!==Yl){var e=yt(Wl),t=_l.transition,r=vt;try{if(_l.transition=null,vt=16>e?16:e,null===Yl)var n=!1;else{if(e=Yl,Yl=null,Wl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Ka=e.current;null!==Ka;){var o=Ka,a=o.child;if(0!==(16&Ka.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var h=l[c];for(Ka=h;null!==Ka;){var u=Ka;switch(u.tag){case 0:case 11:case 15:rl(8,u,o)}var d=u.child;if(null!==d)d.return=u,Ka=d;else for(;null!==Ka;){var f=(u=Ka).sibling,m=u.return;if(sl(u),u===h){Ka=null;break}if(null!==f){f.return=m,Ka=f;break}Ka=m}}}var p=o.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(null!==g)}}Ka=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ka=a;else e:for(;null!==Ka;){if(0!==(2048&(o=Ka).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var O=o.sibling;if(null!==O){O.return=o.return,Ka=O;break e}Ka=o.return}}var v=e.current;for(Ka=v;null!==Ka;){var y=(a=Ka).child;if(0!==(2064&a.subtreeFlags)&&null!==y)y.return=a,Ka=y;else e:for(a=v;null!==Ka;){if(0!==(2048&(l=Ka).flags))try{switch(l.tag){case 0:case 11:case 15:nl(9,l)}}catch(w){Sc(l,l.return,w)}if(l===a){Ka=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,Ka=b;break e}Ka=l.return}}if(Al=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(w){}n=!0}return n}finally{vt=r,_l.transition=t}}return!1}function kc(e,t,r){e=Is(e,t=fa(0,t=ca(r,t),1),1),t=ec(),null!==e&&(xt(e,1,t),nc(e,t))}function Sc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Fl||!Fl.has(n))){t=Is(t,e=ma(t,e=ca(r,e),1),1),e=ec(),null!==t&&(xt(t,1,e),nc(t,e));break}}t=t.return}}function Nc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Pl===e&&(Ql&r)===r&&(4===Tl||3===Tl&&(130023424&Ql)===Ql&&500>He()-Bl?dc(e,0):Ll|=r),nc(e,t)}function jc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var r=ec();null!==(e=Ts(e,t))&&(xt(e,t,r),nc(e,r))}function _c(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),jc(e,r)}function Ac(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),jc(e,r)}function Pc(e,t){return Ve(e,t)}function Ec(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qc(e,t,r,n){return new Ec(e,t,r,n)}function Cc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var r=e.alternate;return null===r?((r=Qc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tc(e,t,r,n,i,o){var a=2;if(n=e,"function"===typeof e)Cc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Rc(r.children,i,o,t);case S:a=8,i|=8;break;case N:return(e=Qc(12,r,t,2|i)).elementType=N,e.lanes=o,e;case P:return(e=Qc(13,r,t,i)).elementType=P,e.lanes=o,e;case E:return(e=Qc(19,r,t,i)).elementType=E,e.lanes=o,e;case M:return $c(r,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case j:a=10;break e;case _:a=9;break e;case A:a=11;break e;case Q:a=14;break e;case C:a=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Qc(a,r,t,i)).elementType=e,t.type=n,t.lanes=o,t}function Rc(e,t,r,n){return(e=Qc(7,e,n,t)).lanes=r,e}function $c(e,t,r,n){return(e=Qc(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Qc(6,e,null,t)).lanes=r,e}function Lc(e,t,r){return(t=Qc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ic(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,r,n,i,s,o,a,l){return e=new Ic(e,t,r,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Qc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$s(s),e}function Bc(e){if(!e)return _i;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Ci(r))return Ri(e,r,t)}return t}function zc(e,t,r,n,i,s,o,a,l){return(e=Zc(r,n,!0,e,0,s,0,a,l)).context=Bc(null),r=e.current,(s=Ls(n=ec(),i=tc(r))).callback=void 0!==t&&null!==t?t:null,Is(r,s,i),e.current.lanes=i,xt(e,i,n),nc(e,n),e}function qc(e,t,r,n){var i=t.current,s=ec(),o=tc(i);return r=Bc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Ls(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Is(i,t,o))&&(rc(e,i,o,s),Zs(e,i,o)),o}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Fc(e,t){Xc(e,t),(e=e.alternate)&&Xc(e,t)}kl=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)va=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return va=!1,function(e,t,r){switch(t.tag){case 3:Pa(t),fs();break;case 5:Hs(t);break;case 1:Ci(t.type)&&$i(t);break;case 4:Ws(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;ji(ws,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(ji(Js,1&Js.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Da(e,t,r):(ji(Js,1&Js.current),null!==(e=Ua(e,t,r))?e.sibling:null);ji(Js,1&Js.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return za(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ji(Js,Js.current),n)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,r)}return Ua(e,t,r)}(e,t,r);va=0!==(131072&e.flags)}else va=!1,is&&0!==(1048576&t.flags)&&Ji(t,Fi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qa(e,t),e=t.pendingProps;var i=Qi(t,Ai.current);Ps(t,r),i=go(null,t,n,e,i,r);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(n)?(o=!0,$i(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$s(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,n,e,r),t=Aa(null,t,n,!0,o,r)):(t.tag=0,is&&o&&es(t),ya(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Cc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===Q)return 14}return 2}(n),e=ra(n,e),i){case 0:t=ja(null,t,n,e,r);break e;case 1:t=_a(null,t,n,e,r);break e;case 11:t=ba(null,t,n,e,r);break e;case 14:t=wa(null,t,n,ra(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,ja(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 1:return n=t.type,i=t.pendingProps,_a(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 3:e:{if(Pa(t),null===e)throw Error(s(387));n=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),zs(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ea(e,t,n,r,i=ca(Error(s(423)),t));break e}if(n!==i){t=Ea(e,t,n,r,i=ca(Error(s(424)),t));break e}for(ns=ci(t.stateNode.containerInfo.firstChild),rs=t,is=!0,ss=null,r=bs(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(fs(),n===i){t=Ua(e,t,r);break e}ya(e,t,n,r)}t=t.child}return t;case 5:return Hs(t),null===e&&cs(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==o&&ri(n,o)&&(t.flags|=32),Na(e,t),ya(e,t,a,r),t.child;case 6:return null===e&&cs(t),null;case 13:return Da(e,t,r);case 4:return Ws(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=ys(t,null,n,r):ya(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,ba(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 7:return ya(e,t,t.pendingProps,r),t.child;case 8:case 12:return ya(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ji(ws,n._currentValue),n._currentValue=a,null!==o)if(an(o.value,a)){if(o.children===i.children&&!Pi.current){t=Ua(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Ls(-1,r&-r)).tag=2;var h=o.updateQueue;if(null!==h){var u=(h=h.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),h.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),As(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),As(a,r,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ya(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ps(t,r),n=n(i=Es(i)),t.flags|=1,ya(e,t,n,r),t.child;case 14:return i=ra(n=t.type,t.pendingProps),wa(e,t,n,i=ra(n.type,i),r);case 15:return ka(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ra(n,i),qa(e,t),t.tag=1,Ci(n)?(e=!0,$i(t)):e=!1,Ps(t,r),oa(t,n,i),la(t,n,i,r),Aa(null,t,n,!0,e,r);case 19:return za(e,t,r);case 22:return Sa(e,t,r)}throw Error(s(156,t.tag))};var Vc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Wc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Hc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Kc(){}function Jc(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Uc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,r,n,i){if(i){if("function"===typeof n){var s=n;n=function(){var e=Uc(o);s.call(e)}}var o=zc(t,n,e,0,null,!1,0,"",Kc);return e._reactRootContainer=o,e[mi]=o.current,zn(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var a=n;n=function(){var e=Uc(l);a.call(e)}}var l=Zc(e,0,!1,null,0,!1,0,"",Kc);return e._reactRootContainer=l,e[mi]=l.current,zn(8===e.nodeType?e.parentNode:e),hc(function(){qc(t,l,r,n)}),l}(r,t,e,i,n);return Uc(o)}Wc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Wc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc(function(){qc(null,e,null,null)}),t[mi]=null}},Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Dt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(Ot(t,1|r),nc(t,He()),0===(6&Al)&&(zl=He()+500,zi()))}break;case 13:hc(function(){var t=Ts(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),Fc(e,1)}},wt=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)rc(t,e,134217728,ec());Fc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Ts(e,t);if(null!==r)rc(r,e,t,ec());Fc(e,t)}},St=function(){return vt},Nt=function(e,t){var r=vt;try{return vt=e,t()}finally{vt=r}},we=function(e,t,r){switch(t){case"input":if(K(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bi(n);if(!i)throw Error(s(90));V(n),K(n,i)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ae=cc,Pe=hc;var eh={usingClientEntryPoint:!1,Events:[vi,yi,bi,je,_e,cc]},th={findFiberByHostInstance:Oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rh={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{it=nh.inject(rh),st=nh}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eh,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var r=!1,n="",i=Vc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,0,r,0,n,i),e[mi]=t.current,zn(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,r){if(!Hc(t))throw Error(s(200));return Jc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Gc(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,i=!1,o="",a=Vc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,i,0,o,a),e[mi]=t.current,zn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Wc(t)},t.render=function(e,t,r){if(!Hc(t))throw Error(s(200));return Jc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Hc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc(function(){Jc(null,null,e,!1,function(){e._reactRootContainer=null,e[mi]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hc(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Jc(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},347:(e,t,r)=>{"use strict";r.d(t,{G:()=>o});const n="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),i="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{};class o{constructor(e,t){this.rules=[];let{finish:r}=t||{};function n(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function i(e,t,s,o){let a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return s.push(e[0]+";");for(let r in t){let o=t[r];if(/&/.test(r))i(r.split(/,\s*/).map(t=>e.map(e=>t.replace(/&/,e))).reduce((e,t)=>e.concat(t)),o,s);else if(o&&"object"==typeof o){if(!l)throw new RangeError("The value of a property ("+r+") should be a primitive value.");i(n(r),o,a,c)}else null!=o&&a.push(r.replace(/_.*/,"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())+": "+o+";")}(a.length||c)&&s.push((!r||l||o?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}for(let s in e)i(n(s),e[s],this.rules)}getRules(){return this.rules.join("\n")}static newName(){let e=s[n]||1;return s[n]=e+1,"\u037c"+e.toString(36)}static mount(e,t,r){let n=e[i],s=r&&r.nonce;n?s&&n.setNonce(s):n=new l(e,s),n.mount(Array.isArray(t)?t:[t],e)}}let a=new Map;class l{constructor(e,t){let r=e.ownerDocument||e,n=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&n.CSSStyleSheet){let t=a.get(r);if(t)return e[i]=t;this.sheet=new n.CSSStyleSheet,a.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[i]=this}mount(e,t){let r=this.sheet,n=0,i=0;for(let s=0;s<e.length;s++){let t=e[s],o=this.modules.indexOf(t);if(o<i&&o>-1&&(this.modules.splice(o,1),i--,o=-1),-1==o){if(this.modules.splice(i++,0,t),r)for(let e=0;e<t.rules.length;e++)r.insertRule(t.rules[e],n++)}else{for(;i<o;)n+=this.modules[i++].rules.length;n+=t.rules.length,i++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let e="";for(let t=0;t<this.modules.length;t++)e+=this.modules[t].getRules()+"\n";this.styleTag.textContent=e;let r=t.head||t;this.styleTag.parentNode!=r&&r.insertBefore(this.styleTag,r.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}},349:(e,t,r)=>{"use strict";var n=r(328),i=r(652);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},352:(e,t,r)=>{"use strict";var n=r(119);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},391:(e,t,r)=>{"use strict";var n=r(328).rotr32;function i(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?s(t,r,n):void 0},t.ch32=i,t.maj32=s,t.p32=o,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},414:(e,t,r)=>{"use strict";e.exports=r(654)},498:(e,t,r)=>{"use strict";r.d(t,{YH:()=>ge,Gu:()=>Q,VR:()=>C,Je:()=>_e,OF:()=>Z,$t:()=>Qe,sj:()=>q,iR:()=>E,Nb:()=>re,om:()=>De,vB:()=>Le,FB:()=>Me,Pe:()=>ve,sU:()=>G,EY:()=>p,ZX:()=>ye,vS:()=>j,Fh:()=>A,QR:()=>Ce,y$:()=>We,zK:()=>N,kn:()=>Ge,MK:()=>_});let n=[],i=[];function s(e){if(e<768)return!1;for(let t=0,r=n.length;;){let s=t+r>>1;if(e<n[s])r=s;else{if(!(e>=i[s]))return!0;t=s+1}if(t==r)return!1}}function o(e){return e>=127462&&e<=127487}(()=>{let e="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let t=0,r=0;t<e.length;t++)(t%2?i:n).push(r+=e[t])})();const a=8205;function l(e,t){return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?c:h)(e,t,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function c(e,t,r){if(t==e.length)return t;t&&d(e.charCodeAt(t))&&f(e.charCodeAt(t-1))&&t--;let n=u(e,t);for(t+=m(n);t<e.length;){let i=u(e,t);if(n==a||i==a||r&&s(i))t+=m(i),n=i;else{if(!o(i))break;{let r=0,n=t-2;for(;n>=0&&o(u(e,n));)r++,n-=2;if(r%2==0)break;t+=2}}}return t}function h(e,t,r){for(;t>0;){let n=c(e,t-2,r);if(n<t)return n;t--}return 0}function u(e,t){let r=e.charCodeAt(t);if(!f(r)||t+1==e.length)return r;let n=e.charCodeAt(t+1);return d(n)?n-56320+(r-55296<<10)+65536:r}function d(e){return e>=56320&&e<57344}function f(e){return e>=55296&&e<56320}function m(e){return e<65536?1:2}class p{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=S(this,e,t);let n=[];return this.decompose(0,e,n,2),r.length&&r.decompose(0,r.length,n,3),this.decompose(t,this.length,n,1),x.from(n,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;[e,t]=S(this,e,t);let r=[];return this.decompose(e,t,r,0),x.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),n=new y(this),i=new y(e);for(let s=t,o=t;;){if(n.next(s),i.next(s),s=0,n.lineBreak!=i.lineBreak||n.done!=i.done||n.value!=i.value)return!1;if(o+=n.value.length,n.done||o>=r)return!0}}iter(){return new y(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)}iterRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new b(this,e,t)}iterLines(e,t){let r;if(null==e)r=this.iter();else{null==t&&(t=this.lines+1);let n=this.line(e).from;r=this.iterRange(n,Math.max(n,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new w(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(0==e.length)throw new RangeError("A document must have at least one line");return 1!=e.length||e[0]?e.length<=32?new g(e):x.from(g.split(e,[])):p.empty}}class g extends p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){let t=-1;for(let r of e)t+=r.length+1;return t}(e);super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,n){for(let i=0;;i++){let s=this.text[i],o=n+s.length;if((t?r:o)>=e)return new k(n,o,r,s);n=o+1,r++}}decompose(e,t,r,n){let i=e<=0&&t>=this.length?this:new g(v(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&n){let e=r.pop(),t=O(i.text,e.text.slice(),0,i.length);if(t.length<=32)r.push(new g(t,e.length+i.length));else{let e=t.length>>1;r.push(new g(t.slice(0,e)),new g(t.slice(e)))}}else r.push(i)}replace(e,t,r){if(!(r instanceof g))return super.replace(e,t,r);[e,t]=S(this,e,t);let n=O(this.text,O(r.text,v(this.text,0,e)),t),i=this.length+r.length-(t-e);return n.length<=32?new g(n,i):x.from(g.split(n,[]),i)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[e,t]=S(this,e,t);let n="";for(let i=0,s=0;i<=t&&s<this.text.length;s++){let o=this.text[s],a=i+o.length;i>e&&s&&(n+=r),e<a&&t>i&&(n+=o.slice(Math.max(0,e-i),t-i)),i=a+1}return n}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],n=-1;for(let i of e)r.push(i),n+=i.length+1,32==r.length&&(t.push(new g(r,n)),r=[],n=-1);return n>-1&&t.push(new g(r,n)),t}}class x extends p{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,n){for(let i=0;;i++){let s=this.children[i],o=n+s.length,a=r+s.lines-1;if((t?a:o)>=e)return s.lineInner(e,t,r,n);n=o+1,r=a+1}}decompose(e,t,r,n){for(let i=0,s=0;s<=t&&i<this.children.length;i++){let o=this.children[i],a=s+o.length;if(e<=a&&t>=s){let i=n&((s<=e?1:0)|(a>=t?2:0));s>=e&&a<=t&&!i?r.push(o):o.decompose(e-s,t-s,r,i)}s=a+1}}replace(e,t,r){if([e,t]=S(this,e,t),r.lines<this.lines)for(let n=0,i=0;n<this.children.length;n++){let s=this.children[n],o=i+s.length;if(e>=i&&t<=o){let a=s.replace(e-i,t-i,r),l=this.lines-s.lines+a.lines;if(a.lines<l>>4&&a.lines>l>>6){let i=this.children.slice();return i[n]=a,new x(i,this.length-(t-e)+r.length)}return super.replace(i,o,a)}i=o+1}return super.replace(e,t,r)}sliceString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";[e,t]=S(this,e,t);let n="";for(let i=0,s=0;i<this.children.length&&s<=t;i++){let o=this.children[i],a=s+o.length;s>e&&i&&(n+=r),e<a&&t>s&&(n+=o.sliceString(e-s,t-s,r)),s=a+1}return n}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof x))return 0;let r=0,[n,i,s,o]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;n+=t,i+=t){if(n==s||i==o)return r;let a=this.children[n],l=e.children[i];if(a!=l)return r+a.scanIdentical(l,t);r+=a.length+1}}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((e,t)=>e+t.length+1,-1),r=0;for(let d of e)r+=d.lines;if(r<32){let r=[];for(let t of e)t.flatten(r);return new g(r,t)}let n=Math.max(32,r>>5),i=n<<1,s=n>>1,o=[],a=0,l=-1,c=[];function h(e){let t;if(e.lines>i&&e instanceof x)for(let r of e.children)h(r);else e.lines>s&&(a>s||!a)?(u(),o.push(e)):e instanceof g&&a&&(t=c[c.length-1])instanceof g&&e.lines+t.lines<=32?(a+=e.lines,l+=e.length+1,c[c.length-1]=new g(t.text.concat(e.text),t.length+1+e.length)):(a+e.lines>n&&u(),a+=e.lines,l+=e.length+1,c.push(e))}function u(){0!=a&&(o.push(1==c.length?c[0]:x.from(c,l)),l=-1,a=c.length=0)}for(let d of e)h(d);return u(),1==o.length?o[0]:new x(o,t)}}function O(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9;for(let i=0,s=0,o=!0;s<e.length&&i<=n;s++){let a=e[s],l=i+a.length;l>=r&&(l>n&&(a=a.slice(0,n-i)),i<r&&(a=a.slice(r-i)),o?(t[t.length-1]+=a,o=!1):t.push(a)),i=l+1}return t}function v(e,t,r){return O(e,[""],t,r)}p.empty=new g([""],0);class y{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof g?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,n=this.nodes[r],i=this.offsets[r],s=i>>1,o=n instanceof g?n.text.length:n.children.length;if(s==(t>0?o:0)){if(0==r)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[r]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(n instanceof g){let i=n.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,i.length>Math.max(0,e))return this.value=0==e?i:t>0?i.slice(e):i.slice(0,i.length-e),this;e-=i.length}else{let i=n.children[s+(t<0?-1:0)];e>i.length?(e-=i.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(i),this.offsets.push(t>0?1:(i instanceof g?i.text.length:i.children.length)<<1))}}}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class b{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new y(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:n}=this.cursor.next(e);return this.pos+=(n.length+e)*t,this.value=n.length<=r?n:t<0?n.slice(n.length-r):n.slice(0,r),this.done=!this.value,this}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&""!=this.value}}class w{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{done:t,lineBreak:r,value:n}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=n,this.afterBreak=!1),this}get lineBreak(){return!1}}"undefined"!=typeof Symbol&&(p.prototype[Symbol.iterator]=function(){return this.iter()},y.prototype[Symbol.iterator]=b.prototype[Symbol.iterator]=w.prototype[Symbol.iterator]=function(){return this});class k{constructor(e,t,r,n){this.from=e,this.to=t,this.number=r,this.text=n}get length(){return this.to-this.from}}function S(e,t,r){return[t=Math.max(0,Math.min(e.length,t)),Math.max(t,Math.min(e.length,r))]}function N(e,t){return l(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2],!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}function j(e,t){let r=e.charCodeAt(t);if(!((n=r)>=55296&&n<56320)||t+1==e.length)return r;var n;let i=e.charCodeAt(t+1);return function(e){return e>=56320&&e<57344}(i)?i-56320+(r-55296<<10)+65536:r}function _(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function A(e){return e<65536?1:2}const P=/\r\n?|\n/;var E=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(E||(E={}));class Q{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,n=0;t<this.sections.length;){let i=this.sections[t++],s=this.sections[t++];s<0?(e(r,n,i),n+=i):n+=s,r+=i}}iterChangedRanges(e){R(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];n<0?e.push(r,n):e.push(n,r)}return new Q(e)}composeDesc(e){return this.empty?e:e.empty?this:D(this,e)}mapDesc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:$(this,e,t)}mapPos(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E.Simple,n=0,i=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],a=this.sections[s++],l=n+o;if(a<0){if(l>e)return i+(e-n);i+=o}else{if(r!=E.Simple&&l>=e&&(r==E.TrackDel&&n<e&&l>e||r==E.TrackBefore&&n<e||r==E.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!o)return e==n||t<0?i:i+a;i+=a}n=l}if(e>n)throw new RangeError(`Position ${e} is out of range for changeset of length ${n}`);return i}touchesRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;for(let r=0,n=0;r<this.sections.length&&n<=t;){let i=n+this.sections[r++];if(this.sections[r++]>=0&&n<=t&&i>=e)return!(n<e&&i>t)||"cover";n=i}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],n=this.sections[t++];e+=(e?" ":"")+r+(n>=0?":"+n:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(e=>"number"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Q(e)}static create(e){return new Q(e)}}class C extends Q{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return R(this,(t,r,n,i,s)=>e=e.replace(n,n+(r-t),s),!1),e}mapDesc(e){return $(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1],!0)}invert(e){let t=this.sections.slice(),r=[];for(let n=0,i=0;n<t.length;n+=2){let s=t[n],o=t[n+1];if(o>=0){t[n]=o,t[n+1]=s;let a=n>>1;for(;r.length<a;)r.push(p.empty);r.push(s?e.slice(i,i+s):p.empty)}i+=s}return new C(t,r)}compose(e){return this.empty?e:e.empty?this:D(this,e,!0)}map(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:$(this,e,t,!0)}iterChanges(e){R(this,e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}get desc(){return Q.create(this.sections)}filter(e){let t=[],r=[],n=[],i=new L(this);e:for(let s=0,o=0;;){let a=s==e.length?1e9:e[s++];for(;o<a||o==a&&0==i.len;){if(i.done)break e;let e=Math.min(i.len,a-o);M(n,e,-1);let s=-1==i.ins?-1:0==i.off?i.ins:0;M(t,e,s),s>0&&T(r,t,i.text),i.forward(e),o+=e}let l=e[s++];for(;o<l;){if(i.done)break e;let e=Math.min(i.len,l-o);M(t,e,-1),M(n,e,-1==i.ins?-1:0==i.off?i.ins:0),i.forward(e),o+=e}}return{changes:new C(t,r),filtered:Q.create(n)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],n=this.sections[t+1];n<0?e.push(r):0==n?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let n=[],i=[],s=0,o=null;function a(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&!n.length)return;s<t&&M(n,t-s,-1);let e=new C(n,i);o=o?o.compose(e.map(o)):e,n=[],i=[],s=0}return function e(l){if(Array.isArray(l))for(let t of l)e(t);else if(l instanceof C){if(l.length!=t)throw new RangeError(`Mismatched change set length (got ${l.length}, expected ${t})`);a(),o=o?o.compose(l.map(o)):l}else{let{from:e,to:o=e,insert:c}=l;if(e>o||e<0||o>t)throw new RangeError(`Invalid change range ${e} to ${o} (in doc of length ${t})`);let h=c?"string"==typeof c?p.of(c.split(r||P)):c:p.empty,u=h.length;if(e==o&&0==u)return;e<s&&a(),e>s&&M(n,e-s,-1),M(n,o-e,u),T(i,n,h),s=o}}(e),a(!o),o}static empty(e){return new C(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let n=0;n<e.length;n++){let i=e[n];if("number"==typeof i)t.push(i,-1);else{if(!Array.isArray(i)||"number"!=typeof i[0]||i.some((e,t)=>t&&"string"!=typeof e))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==i.length)t.push(i[0],0);else{for(;r.length<n;)r.push(p.empty);r[n]=p.of(i.slice(1)),t.push(i[0],r[n].length)}}}return new C(t,r)}static createSet(e,t){return new C(e,t)}}function M(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(0==t&&r<=0)return;let i=e.length-2;i>=0&&r<=0&&r==e[i+1]?e[i]+=t:i>=0&&0==t&&0==e[i]?e[i+1]+=r:n?(e[i]+=t,e[i+1]+=r):e.push(t,r)}function T(e,t,r){if(0==r.length)return;let n=t.length-2>>1;if(n<e.length)e[e.length-1]=e[e.length-1].append(r);else{for(;e.length<n;)e.push(p.empty);e.push(r)}}function R(e,t,r){let n=e.inserted;for(let i=0,s=0,o=0;o<e.sections.length;){let a=e.sections[o++],l=e.sections[o++];if(l<0)i+=a,s+=a;else{let c=i,h=s,u=p.empty;for(;c+=a,h+=l,l&&n&&(u=u.append(n[o-2>>1])),!(r||o==e.sections.length||e.sections[o+1]<0);)a=e.sections[o++],l=e.sections[o++];t(i,c,s,h,u),i=c,s=h}}}function $(e,t,r){let n=[],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3]?[]:null,s=new L(e),o=new L(t);for(let a=-1;;){if(s.done&&o.len||o.done&&s.len)throw new Error("Mismatched change set lengths");if(-1==s.ins&&-1==o.ins){let e=Math.min(s.len,o.len);M(n,e,-1),s.forward(e),o.forward(e)}else if(o.ins>=0&&(s.ins<0||a==s.i||0==s.off&&(o.len<s.len||o.len==s.len&&!r))){let e=o.len;for(M(n,o.ins,-1);e;){let t=Math.min(s.len,e);s.ins>=0&&a<s.i&&s.len<=t&&(M(n,0,s.ins),i&&T(i,n,s.text),a=s.i),s.forward(t),e-=t}o.next()}else{if(!(s.ins>=0)){if(s.done&&o.done)return i?C.createSet(n,i):Q.create(n);throw new Error("Mismatched change set lengths")}{let e=0,t=s.len;for(;t;)if(-1==o.ins){let r=Math.min(t,o.len);e+=r,t-=r,o.forward(r)}else{if(!(0==o.ins&&o.len<t))break;t-=o.len,o.next()}M(n,e,a<s.i?s.ins:0),i&&a<s.i&&T(i,n,s.text),a=s.i,s.forward(s.len-t)}}}}function D(e,t){let r=[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?[]:null,i=new L(e),s=new L(t);for(let o=!1;;){if(i.done&&s.done)return n?C.createSet(r,n):Q.create(r);if(0==i.ins)M(r,i.len,0,o),i.next();else if(0!=s.len||s.done){if(i.done||s.done)throw new Error("Mismatched change set lengths");{let e=Math.min(i.len2,s.len),t=r.length;if(-1==i.ins){let t=-1==s.ins?-1:s.off?0:s.ins;M(r,e,t,o),n&&t&&T(n,r,s.text)}else-1==s.ins?(M(r,i.off?0:i.len,e,o),n&&T(n,r,i.textBit(e))):(M(r,i.off?0:i.len,s.off?0:s.ins,o),n&&!s.off&&T(n,r,s.text));o=(i.ins>e||s.ins>=0&&s.len>e)&&(o||r.length>t),i.forward2(e),s.forward(e)}}else M(r,0,s.ins,o),n&&T(n,r,s.text),s.next()}}class L{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return-2==this.ins}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?p.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?p.empty:t[r].slice(this.off,null==e?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class I{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return 7==e?null:e}get goalColumn(){let e=this.flags>>6;return 16777215==e?void 0:e}map(e){let t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?t=r=e.mapPos(this.from,n):(t=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),t==this.from&&r==this.to?this:new I(t,r,this.flags)}extend(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return Z.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Z.range(this.anchor,r)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return Z.range(e.anchor,e.head)}static create(e,t,r){return new I(e,t,r)}}class Z{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return e.empty?this:Z.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return 1==this.ranges.length?this:new Z([this.main],0)}addRange(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Z.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[t]=e,Z.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||"number"!=typeof e.main||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Z(e.ranges.map(e=>I.fromJSON(e)),e.main)}static single(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return new Z([Z.range(e,t)],0)}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==e.length)throw new RangeError("A selection needs at least one range");for(let r=0,n=0;n<e.length;n++){let i=e[n];if(i.empty?i.from<=r:i.from<r)return Z.normalized(e.slice(),t);r=i.to}return new Z(e,t)}static cursor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return I.create(e,e,(0==t?0:t<0?8:16)|(null==r?7:Math.min(6,r))|(null!==n&&void 0!==n?n:16777215)<<6)}static range(e,t,r,n){let i=(null!==r&&void 0!==r?r:16777215)<<6|(null==n?7:Math.min(6,n));return t<e?I.create(t,e,48|i):I.create(e,t,(t>e?8:0)|i)}static normalized(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e[t];e.sort((e,t)=>e.from-t.from),t=e.indexOf(r);for(let n=1;n<e.length;n++){let r=e[n],i=e[n-1];if(r.empty?r.from<=i.to:r.from<i.to){let s=i.from,o=Math.max(r.to,i.to);n<=t&&t--,e.splice(--n,2,r.anchor>r.head?Z.range(o,s):Z.range(s,o))}}return new Z(e,t)}}function B(e,t){for(let r of e.ranges)if(r.to>t)throw new RangeError("Selection points outside of document")}let z=0;class q{constructor(e,t,r,n,i){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=n,this.id=z++,this.default=e([]),this.extensions="function"==typeof i?i(this):i}get reader(){return this}static define(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new q(e.combine||(e=>e),e.compareInput||((e,t)=>e===t),e.compare||(e.combine?(e,t)=>e===t:U),!!e.static,e.enables)}of(e){return new X([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new X(e,this,2,t)}from(e,t){return t||(t=e=>e),this.compute([e],r=>t(r.field(e)))}}function U(e,t){return e==t||e.length==t.length&&e.every((e,r)=>e===t[r])}class X{constructor(e,t,r,n){this.dependencies=e,this.facet=t,this.type=r,this.value=n,this.id=z++}dynamicSlot(e){var t;let r=this.value,n=this.facet.compareInput,i=this.id,s=e[i]>>1,o=2==this.type,a=!1,l=!1,c=[];for(let h of this.dependencies)"doc"==h?a=!0:"selection"==h?l=!0:0==(1&(null!==(t=e[h.id])&&void 0!==t?t:1))&&c.push(e[h.id]);return{create:e=>(e.values[s]=r(e),1),update(e,t){if(a&&t.docChanged||l&&(t.docChanged||t.selection)||V(e,c)){let t=r(e);if(o?!F(t,e.values[s],n):!n(t,e.values[s]))return e.values[s]=t,1}return 0},reconfigure:(e,t)=>{let a,l=t.config.address[i];if(null!=l){let i=le(t,l);if(this.dependencies.every(r=>r instanceof q?t.facet(r)===e.facet(r):!(r instanceof G)||t.field(r,!1)==e.field(r,!1))||(o?F(a=r(e),i,n):n(a=r(e),i)))return e.values[s]=i,0}else a=r(e);return e.values[s]=a,1}}}}function F(e,t,r){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!r(e[n],t[n]))return!1;return!0}function V(e,t){let r=!1;for(let n of t)1&ae(e,n)&&(r=!0);return r}function Y(e,t,r){let n=r.map(t=>e[t.id]),i=r.map(e=>e.type),s=n.filter(e=>!(1&e)),o=e[t.id]>>1;function a(e){let r=[];for(let t=0;t<n.length;t++){let s=le(e,n[t]);if(2==i[t])for(let e of s)r.push(e);else r.push(s)}return t.combine(r)}return{create(e){for(let t of n)ae(e,t);return e.values[o]=a(e),1},update(e,r){if(!V(e,s))return 0;let n=a(e);return t.compare(n,e.values[o])?0:(e.values[o]=n,1)},reconfigure(e,i){let s=V(e,n),l=i.config.facets[t.id],c=i.facet(t);if(l&&!s&&U(r,l))return e.values[o]=c,0;let h=a(e);return t.compare(h,c)?(e.values[o]=c,0):(e.values[o]=h,1)}}}const W=q.define({static:!0});class G{constructor(e,t,r,n,i){this.id=e,this.createF=t,this.updateF=r,this.compareF=n,this.spec=i,this.provides=void 0}static define(e){let t=new G(z++,e.create,e.update,e.compare||((e,t)=>e===t),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(W).find(e=>e.field==this);return((null===t||void 0===t?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:e=>(e.values[t]=this.create(e),1),update:(e,r)=>{let n=e.values[t],i=this.updateF(n,r);return this.compareF(n,i)?0:(e.values[t]=i,1)},reconfigure:(e,r)=>{let n,i=e.facet(W),s=r.facet(W);return(n=i.find(e=>e.field==this))&&n!=s.find(e=>e.field==this)?(e.values[t]=n.create(e),1):null!=r.config.address[this.id]?(e.values[t]=r.field(this),0):(e.values[t]=this.create(e),1)}}}init(e){return[this,W.of({field:this,create:e})]}get extension(){return this}}const H=4,K=3,J=2,ee=1;function te(e){return t=>new ne(t,e)}const re={highest:te(0),high:te(ee),default:te(J),low:te(K),lowest:te(H)};class ne{constructor(e,t){this.inner=e,this.prec=t}}class ie{of(e){return new se(this,e)}reconfigure(e){return ie.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class se{constructor(e,t){this.compartment=e,this.inner=t}}class oe{constructor(e,t,r,n,i,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=n,this.staticValues=i,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let n=[],i=Object.create(null),s=new Map;for(let u of function(e,t,r){let n=[[],[],[],[],[]],i=new Map;function s(e,o){let a=i.get(e);if(null!=a){if(a<=o)return;let t=n[a].indexOf(e);t>-1&&n[a].splice(t,1),e instanceof se&&r.delete(e.compartment)}if(i.set(e,o),Array.isArray(e))for(let t of e)s(t,o);else if(e instanceof se){if(r.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");let n=t.get(e.compartment)||e.inner;r.set(e.compartment,n),s(n,o)}else if(e instanceof ne)s(e.inner,e.prec);else if(e instanceof G)n[o].push(e),e.provides&&s(e.provides,o);else if(e instanceof X)n[o].push(e),e.facet.extensions&&s(e.facet.extensions,J);else{let t=e.extension;if(!t)throw new Error(`Unrecognized extension value in extension set (${e}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(t,o)}}return s(e,J),n.reduce((e,t)=>e.concat(t))}(e,t,s))u instanceof G?n.push(u):(i[u.facet.id]||(i[u.facet.id]=[])).push(u);let o=Object.create(null),a=[],l=[];for(let u of n)o[u.id]=l.length<<1,l.push(e=>u.slot(e));let c=null===r||void 0===r?void 0:r.config.facets;for(let u in i){let e=i[u],t=e[0].facet,n=c&&c[u]||[];if(e.every(e=>0==e.type))if(o[t.id]=a.length<<1|1,U(n,e))a.push(r.facet(t));else{let n=t.combine(e.map(e=>e.value));a.push(r&&t.compare(n,r.facet(t))?r.facet(t):n)}else{for(let t of e)0==t.type?(o[t.id]=a.length<<1|1,a.push(t.value)):(o[t.id]=l.length<<1,l.push(e=>t.dynamicSlot(e)));o[t.id]=l.length<<1,l.push(r=>Y(r,t,e))}}let h=l.map(e=>e(o));return new oe(e,s,h,o,a,i)}}function ae(e,t){if(1&t)return 2;let r=t>>1,n=e.status[r];if(4==n)throw new Error("Cyclic dependency between fields and/or facets");if(2&n)return n;e.status[r]=4;let i=e.computeSlot(e,e.config.dynamicSlots[r]);return e.status[r]=2|i}function le(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}const ce=q.define(),he=q.define({combine:e=>e.some(e=>e),static:!0}),ue=q.define({combine:e=>e.length?e[0]:void 0,static:!0}),de=q.define(),fe=q.define(),me=q.define(),pe=q.define({combine:e=>!!e.length&&e[0]});class ge{constructor(e,t){this.type=e,this.value=t}static define(){return new xe}}class xe{of(e){return new ge(this,e)}}class Oe{constructor(e){this.map=e}of(e){return new ve(this,e)}}class ve{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return void 0===t?void 0:t==this.value?this:new ve(this.type,t)}is(e){return this.type==e}static define(){return new Oe((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).map||(e=>e))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let n of e){let e=n.map(t);e&&r.push(e)}return r}}ve.reconfigure=ve.define(),ve.appendConfig=ve.define();class ye{constructor(e,t,r,n,i,s){this.startState=e,this.changes=t,this.selection=r,this.effects=n,this.annotations=i,this.scrollIntoView=s,this._doc=null,this._state=null,r&&B(r,t.newLength),i.some(e=>e.type==ye.time)||(this.annotations=i.concat(ye.time.of(Date.now())))}static create(e,t,r,n,i,s){return new ye(e,t,r,n,i,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ye.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&"."==t[e.length]))}}function be(e,t){let r=[];for(let n=0,i=0;;){let s,o;if(n<e.length&&(i==t.length||t[i]>=e[n]))s=e[n++],o=e[n++];else{if(!(i<t.length))return r;s=t[i++],o=t[i++]}!r.length||r[r.length-1]<s?r.push(s,o):r[r.length-1]<o&&(r[r.length-1]=o)}}function we(e,t,r){var n;let i,s,o;return r?(i=t.changes,s=C.empty(t.changes.length),o=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),s=e.changes.mapDesc(t.changes,!0),o=e.changes.compose(i)),{changes:o,selection:t.selection?t.selection.map(s):null===(n=e.selection)||void 0===n?void 0:n.map(i),effects:ve.mapEffects(e.effects,i).concat(ve.mapEffects(t.effects,s)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function ke(e,t,r){let n=t.selection,i=je(t.annotations);return t.userEvent&&(i=i.concat(ye.userEvent.of(t.userEvent))),{changes:t.changes instanceof C?t.changes:C.of(t.changes||[],r,e.facet(ue)),selection:n&&(n instanceof Z?n:Z.single(n.anchor,n.head)),effects:je(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function Se(e,t,r){let n=ke(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(r=!1);for(let s=1;s<t.length;s++){!1===t[s].filter&&(r=!1);let i=!!t[s].sequential;n=we(n,ke(e,t[s],i?n.changes.newLength:e.doc.length),i)}let i=ye.create(e,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return function(e){let t=e.startState,r=t.facet(me),n=e;for(let i=r.length-1;i>=0;i--){let s=r[i](e);s&&Object.keys(s).length&&(n=we(n,ke(t,s,e.changes.newLength),!0))}return n==e?e:ye.create(t,e.changes,e.selection,n.effects,n.annotations,n.scrollIntoView)}(r?function(e){let t=e.startState,r=!0;for(let i of t.facet(de)){let t=i(e);if(!1===t){r=!1;break}Array.isArray(t)&&(r=!0===r?t:be(r,t))}if(!0!==r){let n,i;if(!1===r)i=e.changes.invertedDesc,n=C.empty(t.doc.length);else{let t=e.changes.filter(r);n=t.changes,i=t.filtered.mapDesc(t.changes).invertedDesc}e=ye.create(t,n,e.selection&&e.selection.map(i),ve.mapEffects(e.effects,i),e.annotations,e.scrollIntoView)}let n=t.facet(fe);for(let i=n.length-1;i>=0;i--){let r=n[i](e);e=r instanceof ye?r:Array.isArray(r)&&1==r.length&&r[0]instanceof ye?r[0]:Se(t,je(r),!1)}return e}(i):i)}ye.time=ge.define(),ye.userEvent=ge.define(),ye.addToHistory=ge.define(),ye.remote=ge.define();const Ne=[];function je(e){return null==e?Ne:Array.isArray(e)?e:[e]}var _e=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(_e||(_e={}));const Ae=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Pe;try{Pe=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(He){}function Ee(e){return t=>{if(!/\S/.test(t))return _e.Space;if(function(e){if(Pe)return Pe.test(e);for(let t=0;t<e.length;t++){let r=e[t];if(/\w/.test(r)||r>"\x80"&&(r.toUpperCase()!=r.toLowerCase()||Ae.test(r)))return!0}return!1}(t))return _e.Word;for(let r=0;r<e.length;r++)if(t.indexOf(e[r])>-1)return _e.Word;return _e.Other}}class Qe{constructor(e,t,r,n,i,s){this.config=e,this.doc=t,this.selection=r,this.values=n,this.status=e.statusTemplate.slice(),this.computeSlot=i,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)ae(this,o<<1);this.computeSlot=null}field(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.config.address[e.id];if(null!=r)return ae(this,r),le(this,r);if(t)throw new RangeError("Field is not present in this state")}update(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Se(this,t,!0)}applyTransaction(e){let t,r=this.config,{base:n,compartments:i}=r;for(let o of e.effects)o.is(ie.reconfigure)?(r&&(i=new Map,r.compartments.forEach((e,t)=>i.set(t,e)),r=null),i.set(o.value.compartment,o.value.extension)):o.is(ve.reconfigure)?(r=null,n=o.value):o.is(ve.appendConfig)&&(r=null,n=je(n).concat(o.value));if(r)t=e.startState.values.slice();else{r=oe.resolve(n,i,this),t=new Qe(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(e,t)=>t.reconfigure(e,this),null).values}let s=e.startState.facet(he)?e.newSelection:e.newSelection.asSingle();new Qe(r,e.newDoc,s,t,(t,r)=>r.update(t,e),e)}replaceSelection(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Z.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),n=this.changes(r.changes),i=[r.range],s=je(r.effects);for(let o=1;o<t.ranges.length;o++){let r=e(t.ranges[o]),a=this.changes(r.changes),l=a.map(n);for(let e=0;e<o;e++)i[e]=i[e].map(l);let c=n.mapDesc(a,!0);i.push(r.range.map(c)),n=n.compose(l),s=ve.mapEffects(s,l).concat(ve.mapEffects(je(r.effects),c))}return{changes:n,selection:Z.create(i,t.mainIndex),effects:s}}changes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e instanceof C?e:C.of(e,this.doc.length,this.facet(Qe.lineSeparator))}toText(e){return p.of(e.split(this.facet(Qe.lineSeparator)||P))}sliceDoc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return null==t?e.default:(ae(this,t),le(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let n=e[r];n instanceof G&&null!=this.config.address[n.id]&&(t[r]=n.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!e||"string"!=typeof e.doc)throw new RangeError("Invalid JSON representation for EditorState");let n=[];if(r)for(let i in r)if(Object.prototype.hasOwnProperty.call(e,i)){let t=r[i],s=e[i];n.push(t.init(e=>t.spec.fromJSON(s,e)))}return Qe.create({doc:e.doc,selection:Z.fromJSON(e.selection),extensions:t.extensions?n.concat([t.extensions]):n})}static create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=oe.resolve(e.extensions||[],new Map),r=e.doc instanceof p?e.doc:p.of((e.doc||"").split(t.staticFacet(Qe.lineSeparator)||P)),n=e.selection?e.selection instanceof Z?e.selection:Z.single(e.selection.anchor,e.selection.head):Z.single(0);return B(n,r.length),t.staticFacet(he)||(n=n.asSingle()),new Qe(t,r,n,t.dynamicSlots.map(()=>null),(e,t)=>t.create(e),null)}get tabSize(){return this.facet(Qe.tabSize)}get lineBreak(){return this.facet(Qe.lineSeparator)||"\n"}get readOnly(){return this.facet(pe)}phrase(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(let i of this.facet(Qe.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return r.length&&(e=e.replace(/\$(\$|\d*)/g,(e,t)=>{if("$"==t)return"$";let n=+(t||1);return!n||n>r.length?e:r[n-1]})),e}languageDataAt(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=[];for(let i of this.facet(ce))for(let s of i(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&n.push(s[e]);return n}charCategorizer(e){return Ee(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:n}=this.doc.lineAt(e),i=this.charCategorizer(e),s=e-r,o=e-r;for(;s>0;){let e=N(t,s,!1);if(i(t.slice(e,s))!=_e.Word)break;s=e}for(;o<n;){let e=N(t,o);if(i(t.slice(o,e))!=_e.Word)break;o=e}return s==o?null:Z.range(s+r,o+r)}}function Ce(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};for(let i of e)for(let e of Object.keys(i)){let t=i[e],s=n[e];if(void 0===s)n[e]=t;else if(s===t||void 0===t);else{if(!Object.hasOwnProperty.call(r,e))throw new Error("Config merge conflict for field "+e);n[e]=r[e](s,t)}}for(let i in t)void 0===n[i]&&(n[i]=t[i]);return n}Qe.allowMultipleSelections=he,Qe.tabSize=q.define({combine:e=>e.length?e[0]:4}),Qe.lineSeparator=ue,Qe.readOnly=pe,Qe.phrases=q.define({compare(e,t){let r=Object.keys(e),n=Object.keys(t);return r.length==n.length&&r.every(r=>e[r]==t[r])}}),Qe.languageData=ce,Qe.changeFilter=de,Qe.transactionFilter=fe,Qe.transactionExtender=me,ie.reconfigure=ve.define();class Me{eq(e){return this==e}range(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Te.create(e,t,this)}}Me.prototype.startSide=Me.prototype.endSide=0,Me.prototype.point=!1,Me.prototype.mapMode=E.TrackDel;class Te{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new Te(e,t,r)}}function Re(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class $e{constructor(e,t,r,n){this.from=e,this.to=t,this.value=r,this.maxPoint=n}get length(){return this.to[this.to.length-1]}findIndex(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=r?this.to:this.from;for(let s=n,o=i.length;;){if(s==o)return s;let n=s+o>>1,a=i[n]-e||(r?this.value[n].endSide:this.value[n].startSide)-t;if(n==s)return a>=0?s:o;a>=0?o=n:s=n+1}}between(e,t,r,n){for(let i=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,i);i<s;i++)if(!1===n(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}map(e,t){let r=[],n=[],i=[],s=-1,o=-1;for(let a=0;a<this.value.length;a++){let l,c,h=this.value[a],u=this.from[a]+e,d=this.to[a]+e;if(u==d){let e=t.mapPos(u,h.startSide,h.mapMode);if(null==e)continue;if(l=c=e,h.startSide!=h.endSide&&(c=t.mapPos(u,h.endSide),c<l))continue}else if(l=t.mapPos(u,h.startSide),c=t.mapPos(d,h.endSide),l>c||l==c&&h.startSide>0&&h.endSide<=0)continue;(c-l||h.endSide-h.startSide)<0||(s<0&&(s=l),h.point&&(o=Math.max(o,c-l)),r.push(h),n.push(l-s),i.push(c-s))}return{mapped:r.length?new $e(n,i,r,o):null,pos:s}}}class De{constructor(e,t,r,n){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=n}static create(e,t,r,n){return new De(e,t,r,n)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:n=0,filterTo:i=this.length}=e,s=e.filter;if(0==t.length&&!s)return this;if(r&&(t=t.slice().sort(Re)),this.isEmpty)return t.length?De.of(t):this;let o=new Ze(this,null,-1).goto(0),a=0,l=[],c=new Le;for(;o.value||a<t.length;)if(a<t.length&&(o.from-t[a].from||o.startSide-t[a].value.startSide)>=0){let e=t[a++];c.addInner(e.from,e.to,e.value)||l.push(e)}else 1==o.rangeIndex&&o.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(o.chunkIndex)<t[a].from)&&(!s||n>this.chunkEnd(o.chunkIndex)||i<this.chunkPos[o.chunkIndex])&&c.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||n>o.to||i<o.from||s(o.from,o.to,o.value))&&(c.addInner(o.from,o.to,o.value)||l.push(Te.create(o.from,o.to,o.value))),o.next());return c.finishInner(this.nextLayer.isEmpty&&!l.length?De.empty:this.nextLayer.update({add:l,filter:s,filterFrom:n,filterTo:i}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],n=-1;for(let s=0;s<this.chunk.length;s++){let i=this.chunkPos[s],o=this.chunk[s],a=e.touchesRange(i,i+o.length);if(!1===a)n=Math.max(n,o.maxPoint),t.push(o),r.push(e.mapPos(i));else if(!0===a){let{mapped:s,pos:a}=o.map(i,e);s&&(n=Math.max(n,s.maxPoint),t.push(s),r.push(a))}}let i=this.nextLayer.map(e);return 0==t.length?i:new De(r,t,i||De.empty,n)}between(e,t,r){if(!this.isEmpty){for(let n=0;n<this.chunk.length;n++){let i=this.chunkPos[n],s=this.chunk[n];if(t>=i&&e<=i+s.length&&!1===s.between(i,e-i,t-i,r))return}this.nextLayer.between(e,t,r)}}iter(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Be.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Be.from(e).goto(t)}static compare(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=e.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),o=t.filter(e=>e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i),a=Ie(s,o,r),l=new qe(s,a,i),c=new qe(o,a,i);r.iterGaps((e,t,r)=>Ue(l,e,c,t,r,n)),r.empty&&0==r.length&&Ue(l,0,c,0,0,n)}static eq(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;null==n&&(n=999999999);let i=e.filter(e=>!e.isEmpty&&t.indexOf(e)<0),s=t.filter(t=>!t.isEmpty&&e.indexOf(t)<0);if(i.length!=s.length)return!1;if(!i.length)return!0;let o=Ie(i,s),a=new qe(i,o,0).goto(r),l=new qe(s,o,0).goto(r);for(;;){if(a.to!=l.to||!Xe(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>n)return!0;a.next(),l.next()}}static spans(e,t,r,n){let i=new qe(e,null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1).goto(t),s=t,o=i.openStart;for(;;){let e=Math.min(i.to,r);if(i.point){let r=i.activeForPoint(i.to),a=i.pointFrom<t?r.length+1:i.point.startSide<0?r.length:Math.min(r.length,o);n.point(s,e,i.point,r,a,i.pointRank),o=Math.min(i.openEnd(e),r.length)}else e>s&&(n.span(s,e,i.active,o),o=i.openEnd(e));if(i.to>r)return o+(i.point&&i.to>r?1:0);s=i.to,i.next()}}static of(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new Le;for(let n of e instanceof Te?[e]:t?function(e){if(e.length>1)for(let t=e[0],r=1;r<e.length;r++){let n=e[r];if(Re(t,n)>0)return e.slice().sort(Re);t=n}return e}(e):e)r.add(n.from,n.to,n.value);return r.finish()}static join(e){if(!e.length)return De.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let n=e[r];n!=De.empty;n=n.nextLayer)t=new De(n.chunkPos,n.chunk,t,Math.max(n.maxPoint,t.maxPoint));return t}}De.empty=new De([],[],null,-1),De.empty.nextLayer=De.empty;class Le{finishChunk(e){this.chunks.push(new $e(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Le)).add(e,t,r)}addInner(e,t,r){let n=e-this.lastTo||r.startSide-this.last.endSide;if(n<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(n<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(De.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;let t=De.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ie(e,t,r){let n=new Map;for(let s of e)for(let e=0;e<s.chunk.length;e++)s.chunk[e].maxPoint<=0&&n.set(s.chunk[e],s.chunkPos[e]);let i=new Set;for(let s of t)for(let e=0;e<s.chunk.length;e++){let t=n.get(s.chunk[e]);null==t||(r?r.mapPos(t):t)!=s.chunkPos[e]||(null===r||void 0===r?void 0:r.touchesRange(t,t+s.chunk[e].length))||i.add(s.chunk[e])}return i}class Ze{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.layer=e,this.skip=t,this.minPoint=r,this.rank=n}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let t=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(t)||this.layer.chunkEnd(this.chunkIndex)<e||t.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let n=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<n)&&this.setRangeIndex(n)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Be{constructor(e){this.heap=e}static from(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,n=[];for(let i=0;i<e.length;i++)for(let s=e[i];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&n.push(new Ze(s,t,r,i));return 1==n.length?n[0]:new Be(n)}get startSide(){return this.value?this.value.startSide:0}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)ze(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)ze(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ze(this.heap,0)}}}function ze(e,t){for(let r=e[t];;){let n=1+(t<<1);if(n>=e.length)break;let i=e[n];if(n+1<e.length&&i.compare(e[n+1])>=0&&(i=e[n+1],n++),r.compare(i)<0)break;e[n]=r,e[t]=i,t=n}}class qe{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Be.from(e,t,r)}goto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Fe(this.active,e),Fe(this.activeTo,e),Fe(this.activeRank,e),this.minActive=Ye(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:n,rank:i}=this.cursor;for(;t<this.activeRank.length&&(i-this.activeRank[t]||n-this.activeTo[t])>0;)t++;Ve(this.active,t,r),Ve(this.activeTo,t,n),Ve(this.activeRank,t,i),e&&Ve(e,t,this.cursor.from),this.minActive=Ye(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let n=this.minActive;if(n>-1&&(this.activeTo[n]-this.cursor.from||this.active[n].endSide-this.cursor.startSide)<0){if(this.activeTo[n]>e){this.to=this.activeTo[n],this.endSide=this.active[n].endSide;break}this.removeActive(n),r&&Fe(r,n)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let e=this.cursor.value;if(e.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=e,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=e.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let t=r.length-1;t>=0&&r[t]<e;t--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function Ue(e,t,r,n,i,s){e.goto(t),r.goto(n);let o=n+i,a=n,l=n-t;for(;;){let t=e.to+l-r.to,n=t||e.endSide-r.endSide,i=n<0?e.to+l:r.to,c=Math.min(i,o);if(e.point||r.point?e.point&&r.point&&(e.point==r.point||e.point.eq(r.point))&&Xe(e.activeForPoint(e.to),r.activeForPoint(r.to))||s.comparePoint(a,c,e.point,r.point):c>a&&!Xe(e.active,r.active)&&s.compareRange(a,c,e.active,r.active),i>o)break;(t||e.openEnd!=r.openEnd)&&s.boundChange&&s.boundChange(i),a=i,n<=0&&e.next(),n>=0&&r.next()}}function Xe(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!=t[r]&&!e[r].eq(t[r]))return!1;return!0}function Fe(e,t){for(let r=t,n=e.length-1;r<n;r++)e[r]=e[r+1];e.pop()}function Ve(e,t,r){for(let n=e.length-1;n>=t;n--)e[n+1]=e[n];e[t]=r}function Ye(e,t){let r=-1,n=1e9;for(let i=0;i<t.length;i++)(t[i]-n||e[i].endSide-e[r].endSide)<0&&(r=i,n=t[i]);return r}function We(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=0;for(let i=0;i<r&&i<e.length;)9==e.charCodeAt(i)?(n+=t-n%t,i++):(n++,i=N(e,i));return n}function Ge(e,t,r,n){for(let i=0,s=0;;){if(s>=t)return i;if(i==e.length)break;s+=9==e.charCodeAt(i)?r-s%r:1,i=N(e,i)}return!0===n?-1:e.length}},523:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function x(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}function O(){}function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||m}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},O.prototype=x.prototype;var y=v.prototype=new O;y.constructor=v,p(y,x.prototype),y.isPureReactComponent=!0;var b=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function S(e,t,n,i,s,o){return n=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:o}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var j=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function P(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,h=!1;if(null===e)h=!0;else switch(a){case"bigint":case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case r:case n:h=!0;break;case d:return P((h=e._init)(e._payload),t,i,s,o)}}if(h)return o=o(e),h=""===s?"."+_(e,0):s,b(o)?(i="",null!=h&&(i=h.replace(j,"$&/")+"/"),P(o,t,i,"",function(e){return e})):null!=o&&(N(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+h,o=S(l.type,c,void 0,0,0,l.props)),t.push(o)),1;h=0;var u,m=""===s?".":s+":";if(b(e))for(var p=0;p<e.length;p++)h+=P(s=e[p],t,i,a=m+_(s,p),o);else if("function"===typeof(p=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=p.call(e),p=0;!(s=e.next()).done;)h+=P(s=s.value,t,i,a=m+_(s,p++),o);else if("object"===a){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return h}function E(e,t,r){if(null==e)return e;var n=[],i=0;return P(e,n,"","",function(e){return t.call(r,e,i++)}),n}function Q(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var C="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.forwardRef=function(e){return{$$typeof:c,render:e}},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useEffect=function(e,t,r){var n=w.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useImperativeHandle=function(e,t,r){return w.H.useImperativeHandle(e,t,r)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)}},554:(e,t,r)=>{"use strict";e.exports=r(523)},560:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element");function n(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in n={},t)"key"!==s&&(n[s]=t[s]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}Symbol.for("react.fragment"),t.jsx=n},567:(e,t,r)=>{"use strict";r.d(t,{bM:()=>S});var n=r(107),i=r(80),s=r(794);const o="#e5c07b",a="#e06c75",l="#56b6c2",c="#ffffff",h="#abb2bf",u="#7d8799",d="#61afef",f="#98c379",m="#d19a66",p="#c678dd",g="#21252b",x="#2c313a",O="#282c34",v="#353a42",y="#3E4451",b="#528bff",w=n.Lz.theme({"&":{color:h,backgroundColor:O},".cm-content":{caretColor:b},".cm-cursor, .cm-dropCursor":{borderLeftColor:b},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:y},".cm-panels":{backgroundColor:g,color:h},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:O,color:u,border:"none"},".cm-activeLineGutter":{backgroundColor:x},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:v},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:v,borderBottomColor:v},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:x,color:h}}},{dark:!0}),k=i.cr.define([{tag:s._A.keyword,color:p},{tag:[s._A.name,s._A.deleted,s._A.character,s._A.propertyName,s._A.macroName],color:a},{tag:[s._A.function(s._A.variableName),s._A.labelName],color:d},{tag:[s._A.color,s._A.constant(s._A.name),s._A.standard(s._A.name)],color:m},{tag:[s._A.definition(s._A.name),s._A.separator],color:h},{tag:[s._A.typeName,s._A.className,s._A.number,s._A.changed,s._A.annotation,s._A.modifier,s._A.self,s._A.namespace],color:o},{tag:[s._A.operator,s._A.operatorKeyword,s._A.url,s._A.escape,s._A.regexp,s._A.link,s._A.special(s._A.string)],color:l},{tag:[s._A.meta,s._A.comment],color:u},{tag:s._A.strong,fontWeight:"bold"},{tag:s._A.emphasis,fontStyle:"italic"},{tag:s._A.strikethrough,textDecoration:"line-through"},{tag:s._A.link,color:u,textDecoration:"underline"},{tag:s._A.heading,fontWeight:"bold",color:a},{tag:[s._A.atom,s._A.bool,s._A.special(s._A.variableName)],color:m},{tag:[s._A.processingInstruction,s._A.string,s._A.inserted],color:f},{tag:s._A.invalid,color:c}]),S=[w,(0,i.y9)(k)]},596:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},599:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},612:(e,t,r)=>{"use strict";var n=r(328),i=r(273);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),e.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},634:(e,t,r)=>{"use strict";e.exports=r(560)},652:(e,t,r)=>{"use strict";var n=r(328),i=r(876),s=r(599),o=n.rotr64_hi,a=n.rotr64_lo,l=n.shr64_hi,c=n.shr64_lo,h=n.sum64,u=n.sum64_hi,d=n.sum64_lo,f=n.sum64_4_hi,m=n.sum64_4_lo,p=n.sum64_5_hi,g=n.sum64_5_lo,x=i.BlockHash,O=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=O,this.W=new Array(160)}function y(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function b(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function w(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function k(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function S(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function N(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function j(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function _(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=o(e,t,1)^o(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,19)^o(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}function Q(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(v,x),e.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=E(r[n-4],r[n-3]),s=Q(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],l=A(r[n-30],r[n-29]),c=P(r[n-30],r[n-29]),h=r[n-32],u=r[n-31];r[n]=f(i,s,o,a,l,c,h,u),r[n+1]=m(i,s,o,a,l,c,h,u)}},v.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],f=this.h[6],m=this.h[7],x=this.h[8],O=this.h[9],v=this.h[10],A=this.h[11],P=this.h[12],E=this.h[13],Q=this.h[14],C=this.h[15];s(this.k.length===r.length);for(var M=0;M<r.length;M+=2){var T=Q,R=C,$=j(x,O),D=_(x,O),L=y(x,O,v,A,P),I=b(x,O,v,A,P,E),Z=this.k[M],B=this.k[M+1],z=r[M],q=r[M+1],U=p(T,R,$,D,L,I,Z,B,z,q),X=g(T,R,$,D,L,I,Z,B,z,q);T=S(n,i),R=N(n,i),$=w(n,i,o,a,l),D=k(n,i,o,a,l,c);var F=u(T,R,$,D),V=d(T,R,$,D);Q=P,C=E,P=v,E=A,v=x,A=O,x=u(f,m,U,X),O=d(m,m,U,X),f=l,m=c,l=o,c=a,o=n,a=i,n=u(U,X,F,V),i=d(U,X,F,V)}h(this.h,0,n,i),h(this.h,2,o,a),h(this.h,4,l,c),h(this.h,6,f,m),h(this.h,8,x,O),h(this.h,10,v,A),h(this.h,12,P,E),h(this.h,14,Q,C)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},653:(e,t,r)=>{"use strict";r.d(t,{Q2:()=>fe});var n=r(728);class i{constructor(e,t,r,n,i,s,o,a,l){let c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10?arguments[10]:void 0;this.p=e,this.stack=t,this.state=r,this.reducePos=n,this.pos=i,this.score=s,this.buffer=o,this.bufferBase=a,this.curContext=l,this.lookAhead=c,this.parent=h}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.parser.context;return new i(e,[],t,r,r,0,[],0,n?new s(n,n.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,n=65535&e,{parser:i}=this.p,s=this.reducePos<this.pos-25;s&&this.setLookAhead(this.pos);let o=i.dynamicPrecedence(n);if(o&&(this.score+=o),0==r)return this.pushState(i.getGoto(this.state,n,!0),this.reducePos),n<i.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,s?8:4,!0),void this.reduceContext(n,this.reducePos);let a=this.stack.length-3*(r-1)-(262144&e?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(null===(t=this.p.parser.nodeSet.types[n])||void 0===t?void 0:t.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let h=a?this.stack[a-1]:0,u=this.bufferBase+this.buffer.length-h;if(n<i.minRepeatTerm||131072&e){let e=i.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,l,e,u+4,!0)}if(262144&e)this.state=this.stack[a];else{let e=this.stack[a-3];this.state=i.getGoto(e,n,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(n,l)}storeNode(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let e=this,n=this.buffer.length;if(0==n&&e.parent&&(n=e.bufferBase-e.parent.bufferBase,e=e.parent),n>0&&0==e.buffer[n-4]&&e.buffer[n-1]>-1){if(t==r)return;if(e.buffer[n-2]>=t)return void(e.buffer[n-2]=r)}}if(i&&this.pos!=r){let i=this.buffer.length;if(i>0&&0!=this.buffer[i-4]){let e=!1;for(let t=i;t>0&&this.buffer[t-2]>r;t-=4)if(this.buffer[t-1]>=0){e=!0;break}if(e)for(;i>0&&this.buffer[i-2]>r;)this.buffer[i]=this.buffer[i-4],this.buffer[i+1]=this.buffer[i-3],this.buffer[i+2]=this.buffer[i-2],this.buffer[i+3]=this.buffer[i-1],i-=4,n>4&&(n-=4)}this.buffer[i]=e,this.buffer[i+1]=t,this.buffer[i+2]=r,this.buffer[i+3]=n}else this.buffer.push(e,t,r,n)}shift(e,t,r,n){if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){let i=e,{parser:s}=this.p;(n>this.pos||t<=s.maxNode)&&(this.pos=n,s.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(t,r),t<=s.maxNode&&this.buffer.push(t,r,n,4)}else this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4)}apply(e,t,r,n){65536&e?this.reduce(e):this.shift(e,t,r,n)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let n=this.pos;this.reducePos=this.pos=n+e.length,this.pushState(t,n),this.buffer.push(r,n,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),n=e.bufferBase+t;for(;e&&n==e.bufferBase;)e=e.parent;return new i(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,n,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new o(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==r)return!1;if(0==(65536&r))return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let r=[];for(let n,i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(let e=0;r.length<8&&e<t.length;e+=2){let n=t[e+1];r.some((e,t)=>1&t&&e==n)||r.push(t[e],n)}t=r}let r=[];for(let n=0;n<t.length&&r.length<4;n+=2){let e=t[n+1];if(e==this.state)continue;let i=this.split();i.pushState(e,this.pos),i.storeNode(0,i.pos,i.pos,4,!0),i.shiftContext(t[n],this.pos),i.reducePos=this.pos,i.score-=200,r.push(i)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if(0==(65536&t))return!1;if(!e.validAction(this.state,t)){let r=t>>19,n=65535&t,i=this.stack.length-3*r;if(i<0||e.getGoto(this.stack[i],n,!1)<0){let e=this.findForcedReduction();if(null==e)return!1;t=e}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(n,i)=>{if(!t.includes(n))return t.push(n),e.allActions(n,t=>{if(393216&t);else if(65536&t){let r=(t>>19)-i;if(r>1){let n=65535&t,i=this.stack.length-3*r;if(i>=0&&e.getGoto(this.stack[i],n,!1)>=0)return r<<19|65536|n}}else{let e=r(t,i+1);if(null!=e)return e}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(3!=this.stack.length)return!1;let{parser:e}=this.p;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new s(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class s{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class o{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=65535&e,r=e>>19;0==r?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(r-1);let n=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=n}}class a{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,0==this.index&&this.maybeNext()}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.bufferBase+e.buffer.length;return new a(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}fork(){return new a(this.stack,this.pos,this.index)}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;let r=null;for(let n=0,i=0;n<e.length;){let s=0;for(;;){let t=e.charCodeAt(n++),r=!1;if(126==t){s=65535;break}t>=92&&t--,t>=34&&t--;let i=t-32;if(i>=46&&(i-=46,r=!0),s+=i,r)break;s*=46}r?r[i++]=s:r=new t(s)}return r}class c{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const h=new c;class u{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=h,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,n=this.rangeIndex,i=this.pos+e;for(;i<r.from;){if(!n)return null;let e=this.ranges[--n];i-=r.from-e.to,r=e}for(;t<0?i>r.to:i>=r.to;){if(n==this.ranges.length-1)return null;let e=this.ranges[++n];i+=e.from-r.to,r=e}return i}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t,r,n=this.chunkOff+e;if(n>=0&&n<this.chunk.length)t=this.pos+e,r=this.chunk.charCodeAt(n);else{let n=this.resolveOffset(e,1);if(null==n)return-1;if(t=n,t>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(t-this.chunk2Pos);else{let e=this.rangeIndex,n=this.range;for(;n.to<=t;)n=this.ranges[++e];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>n.to&&(this.chunk2=this.chunk2.slice(0,n.to-t)),r=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),r}acceptToken(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t?this.resolveOffset(t,-1):this.pos;if(null==r||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=h,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let n of this.ranges){if(n.from>=t)break;n.to>e&&(r+=this.input.read(Math.max(n.from,e),Math.min(n.to,t)))}return r}}class d{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;p(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}d.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class f{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data="string"==typeof e?l(e):e}token(e,t){let r=e.pos,n=0;for(;;){let r=e.next<0,i=e.resolveOffset(1,1);if(p(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(null==this.elseToken)return;if(r||n++,null==i)break;e.reset(i,e.token)}n&&(e.reset(r,e.token),e.acceptToken(this.elseToken,n))}}f.prototype.contextual=d.prototype.fallback=d.prototype.extend=!1;class m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function p(e,t,r,n,i,s){let o=0,a=1<<n,{dialect:l}=r.p.parser;e:for(;0!=(a&e[o]);){let r=e[o+1];for(let u=o+3;u<r;u+=2)if((e[u+1]&a)>0){let r=e[u];if(l.allows(r)&&(-1==t.token.value||t.token.value==r||x(r,t.token.value,i,s))){t.acceptToken(r);break}}let n=t.next,c=0,h=e[o+2];if(!(t.next<0&&h>c&&65535==e[r+3*h-3])){for(;c<h;){let i=c+h>>1,s=r+i+(i<<1),a=e[s],l=e[s+1]||65536;if(n<a)h=i;else{if(!(n>=l)){o=e[s+2],t.advance();continue e}c=i+1}}break}o=e[r+3*h-1]}}function g(e,t,r){for(let n,i=t;65535!=(n=e[i]);i++)if(n==r)return i-t;return-1}function x(e,t,r,n){let i=g(r,n,t);return i<0||g(r,n,e)<i}const O="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG);let v=null;function y(e,t,r){let i=e.cursor(n.Qj.IncludeAnonymous);for(i.moveTo(t);;)if(!(r<0?i.childBefore(t):i.childAfter(t)))for(;;){if((r<0?i.to<t:i.from>t)&&!i.type.isError)return r<0?Math.max(0,Math.min(i.to-1,t-25)):Math.min(e.length,Math.max(i.from+1,t+25));if(r<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return r<0?0:e.length}}class b{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?y(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?y(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof n.PH){if(o==e){if(o<this.safeFrom)return null;let e=o+s.length;if(e<=this.safeTo){let t=s.prop(n.uY.lookAhead);if(!t||e+t<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class w{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(e=>new c)}getActions(e){let t=0,r=null,{parser:n}=e.p,{tokenizers:i}=n,s=n.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,a=0;for(let l=0;l<i.length;l++){if(0==(1<<l&s))continue;let n=i[l],c=this.tokens[l];if((!r||n.fallback)&&((n.contextual||c.start!=e.pos||c.mask!=s||c.context!=o)&&(this.updateCachedToken(c,n,e),c.mask=s,c.context=o),c.lookAhead>c.end+25&&(a=Math.max(c.lookAhead,a)),0!=c.value)){let i=t;if(c.extended>-1&&(t=this.addActions(e,c.extended,c.end,t)),t=this.addActions(e,c.value,c.end,t),!n.extend&&(r=c,t>i))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),r||e.pos!=this.stream.end||(r=new c,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new c,{pos:r,p:n}=e;return t.start=r,t.end=Math.min(r+1,n.stream.end),t.value=r==n.stream.end?n.parser.eofTerm:0,t}updateCachedToken(e,t,r){let n=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(n,e),r),e.value>-1){let{parser:t}=r.p;for(let n=0;n<t.specialized.length;n++)if(t.specialized[n]==e.value){let i=t.specializers[n](this.stream.read(e.start,e.end),r);if(i>=0&&r.p.parser.dialect.allows(i>>1)){0==(1&i)?e.value=i>>1:e.extended=i>>1;break}}}else e.value=0,e.end=this.stream.clipPos(n+1)}putAction(e,t,r,n){for(let i=0;i<n;i+=3)if(this.actions[i]==e)return n;return this.actions[n++]=e,this.actions[n++]=t,this.actions[n++]=r,n}addActions(e,t,r,n){let{state:i}=e,{parser:s}=e.p,{data:o}=s;for(let a=0;a<2;a++)for(let e=s.stateSlot(i,a?2:1);;e+=3){if(65535==o[e]){if(1!=o[e+1]){0==n&&2==o[e+1]&&(n=this.putAction(A(o,e+2),t,r,n));break}e=A(o,e+2)}o[e]==t&&(n=this.putAction(A(o,e+1),t,r,n))}return n}}class k{constructor(e,t,r,n){this.parser=e,this.input=t,this.ranges=n,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new u(t,n),this.tokens=new w(e,this.stream),this.topTerm=e.top[1];let{from:s}=n[0];this.stacks=[i.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>4*e.bufferLength?new b(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e,t,r=this.stacks,n=this.minStackPos,i=this.stacks=[];if(this.bigReductionCount>300&&1==r.length){let[e]=r;for(;e.forceReduce()&&e.stack.length&&e.stack[e.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<r.length;s++){let o=r[s];for(;;){if(this.tokens.mainToken=null,o.pos>n)i.push(o);else{if(this.advanceStack(o,i,r))continue;{e||(e=[],t=[]),e.push(o);let r=this.tokens.getMainToken(o);t.push(r.value,r.end)}}break}}if(!i.length){let t=e&&function(e){let t=null;for(let r of e){let e=r.p.stoppedAt;(r.pos==r.p.stream.end||null!=e&&r.pos>e)&&r.p.parser.stateFlag(r.state,2)&&(!t||t.score<r.score)&&(t=r)}return t}(e);if(t)return O&&console.log("Finish with "+this.stackID(t)),this.stackToTree(t);if(this.parser.strict)throw O&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&e){let r=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(r)return O&&console.log("Force-finish "+this.stackID(r)),this.stackToTree(r.forceAll())}if(this.recovering){let e=1==this.recovering?1:3*this.recovering;if(i.length>e)for(i.sort((e,t)=>t.score-e.score);i.length>e;)i.pop();i.some(e=>e.reducePos>n)&&this.recovering--}else if(i.length>1){e:for(let e=0;e<i.length-1;e++){let t=i[e];for(let r=e+1;r<i.length;r++){let n=i[r];if(t.sameState(n)||t.buffer.length>500&&n.buffer.length>500){if(!((t.score-n.score||t.buffer.length-n.buffer.length)>0)){i.splice(e--,1);continue e}i.splice(r--,1)}}}i.length>12&&i.splice(12,i.length-12)}this.minStackPos=i[0].pos;for(let s=1;s<i.length;s++)i[s].pos<this.minStackPos&&(this.minStackPos=i[s].pos);return null}stopAt(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=O?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let t=e.curContext&&e.curContext.tracker.strict,r=t?e.curContext.hash:0;for(let a=this.fragments.nodeAt(i);a;){let i=this.parser.nodeSet.types[a.type.id]==a.type?s.getGoto(e.state,a.type.id):-1;if(i>-1&&a.length&&(!t||(a.prop(n.uY.contextHash)||0)==r))return e.useNode(a,i),O&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(a.type.id)})`),!0;if(!(a instanceof n.PH)||0==a.children.length||a.positions[0]>0)break;let l=a.children[0];if(!(l instanceof n.PH&&0==a.positions[0]))break;a=l}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),O&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(65535&a)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let n=0;n<l.length;){let a=l[n++],c=l[n++],h=l[n++],u=n==l.length||!r,d=u?e:e.split(),f=this.tokens.mainToken;if(d.apply(a,c,f?f.start:d.pos,h),O&&console.log(o+this.stackID(d)+` (via ${0==(65536&a)?"shift":`reduce of ${s.getName(65535&a)}`} for ${s.getName(c)} @ ${i}${d==e?"":", split"})`),u)return!0;d.pos>i?t.push(d):r.push(d)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return S(e,t),!0}}runRecovery(e,t,r){let n=null,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=t[s<<1],l=t[1+(s<<1)],c=O?this.stackID(o)+" -> ":"";if(o.deadEnd){if(i)continue;if(i=!0,o.restart(),O&&console.log(c+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))continue}let h=o.split(),u=c;for(let e=0;h.forceReduce()&&e<10;e++){if(O&&console.log(u+this.stackID(h)+" (via force-reduce)"),this.advanceFully(h,r))break;O&&(u=this.stackID(h)+" -> ")}for(let e of o.recoverByInsert(a))O&&console.log(c+this.stackID(e)+" (via recover-insert)"),this.advanceFully(e,r);this.stream.end>o.pos?(l==o.pos&&(l++,a=0),o.recoverByDelete(a,l),O&&console.log(c+this.stackID(o)+` (via recover-delete ${this.parser.getName(a)})`),S(o,r)):(!n||n.score<o.score)&&(n=o)}return n}stackToTree(e){return e.close(),n.PH.build({buffer:a.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(v||(v=new WeakMap)).get(e);return t||v.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function S(e,t){for(let r=0;r<t.length;r++){let n=t[r];if(n.pos==e.pos&&n.sameState(e))return void(t[r].score<e.score&&(t[r]=e))}t.push(e)}class N{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||0==this.disabled[e]}}const j=e=>e;class _ extends n.iX{constructor(e){if(super(),this.wrappers=[],14!=e.version)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let n=0;n<e.repeatNodeCount;n++)t.push("");let r=Object.keys(e.topRules).map(t=>e.topRules[t][1]),i=[];for(let n=0;n<t.length;n++)i.push([]);function s(e,t,r){i[e].push([t,t.deserialize(String(r))])}if(e.nodeProps)for(let a of e.nodeProps){let e=a[0];"string"==typeof e&&(e=n.uY[e]);for(let t=1;t<a.length;){let r=a[t++];if(r>=0)s(r,e,a[t++]);else{let n=a[t+-r];for(let i=-r;i>0;i--)s(a[t++],e,n);t++}}}this.nodeSet=new n.fI(t.map((t,s)=>n.Z6.define({name:s>=this.minRepeatTerm?void 0:t,id:s,props:i[s],top:r.indexOf(s)>-1,error:0==s,skipped:e.skippedNodes&&e.skippedNodes.indexOf(s)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=n.cF;let o=l(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let n=0;n<this.specializerSpecs.length;n++)this.specialized[n]=this.specializerSpecs[n].term;this.specializers=this.specializerSpecs.map(P),this.states=l(e.states,Uint32Array),this.data=l(e.stateData),this.goto=l(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(e=>"number"==typeof e?new d(o,e):e),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let n=new k(this,e,t,r);for(let i of this.wrappers)n=i(n,e,t,r);return n}getGoto(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.goto;if(t>=n[0])return-1;for(let i=n[t+1];;){let t=n[i++],s=1&t,o=n[i++];if(s&&r)return o;for(let r=i+(t>>1);i<r;i++)if(n[i]==e)return o;if(s)return-1}}hasAction(e,t){let r=this.data;for(let n=0;n<2;n++)for(let i,s=this.stateSlot(e,n?2:1);;s+=3){if(65535==(i=r[s])){if(1!=r[s+1]){if(2==r[s+1])return A(r,s+2);break}i=r[s=A(r,s+2)]}if(i==t||0==i)return A(r,s+1)}return 0}stateSlot(e,t){return this.states[6*e+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,e=>e==t||null)}allActions(e,t){let r=this.stateSlot(e,4),n=r?t(r):void 0;for(let i=this.stateSlot(e,1);null==n;i+=3){if(65535==this.data[i]){if(1!=this.data[i+1])break;i=A(this.data,i+2)}n=t(A(this.data,i+1))}return n}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=A(this.data,r+2)}if(0==(1&this.data[r+2])){let e=this.data[r+1];t.some((t,r)=>1&r&&t==e)||t.push(this.data[r],e)}}return t}configure(e){let t=Object.assign(Object.create(_.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(t=>{let r=e.tokenizers.find(e=>e.from==t);return r?r.to:t})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,n)=>{let i=e.specializers.find(e=>e.from==r.external);if(!i)return r;let s=Object.assign(Object.assign({},r),{external:i.to});return t.specializers[n]=P(s),s})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),null!=e.bufferLength&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return null==t?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let i of e.split(" ")){let e=t.indexOf(i);e>=0&&(r[e]=!0)}let n=null;for(let i=0;i<t.length;i++)if(!r[i])for(let e,r=this.dialects[t[i]];65535!=(e=this.data[r++]);)(n||(n=new Uint8Array(this.maxTerm+1)))[e]=1;return new N(e,r,n)}static deserialize(e){return new _(e)}}function A(e,t){return e[t]|e[t+1]<<16}function P(e){if(e.external){let t=e.extend?1:0;return(r,n)=>e.external(r,n)<<1|t}return e.get}var E=r(794);const Q=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],C=new class{constructor(e){this.start=e.start,this.shift=e.shift||j,this.reduce=e.reduce||j,this.reuse=e.reuse||j,this.hash=e.hash||(()=>0),this.strict=!1!==e.strict}}({start:!1,shift:(e,t)=>5==t||6==t||319==t?e:320==t,strict:!1}),M=new m((e,t)=>{let{next:r}=e;(125==r||-1==r||t.context)&&e.acceptToken(317)},{contextual:!0,fallback:!0}),T=new m((e,t)=>{let r,{next:n}=e;Q.indexOf(n)>-1||(47!=n||47!=(r=e.peek(1))&&42!=r)&&(125==n||59==n||-1==n||t.context||e.acceptToken(315))},{contextual:!0}),R=new m((e,t)=>{91!=e.next||t.context||e.acceptToken(316)},{contextual:!0}),$=new m((e,t)=>{let{next:r}=e;if(43==r||45==r){if(e.advance(),r==e.next){e.advance();let r=!t.context&&t.canShift(1);e.acceptToken(r?1:2)}}else 63==r&&46==e.peek(1)&&(e.advance(),e.advance(),(e.next<48||e.next>57)&&e.acceptToken(3))},{contextual:!0});function D(e,t){return e>=65&&e<=90||e>=97&&e<=122||95==e||e>=192||!t&&e>=48&&e<=57}const L=new m((e,t)=>{if(60!=e.next||!t.dialectEnabled(0))return;if(e.advance(),47==e.next)return;let r=0;for(;Q.indexOf(e.next)>-1;)e.advance(),r++;if(D(e.next,!0)){for(e.advance(),r++;D(e.next,!1);)e.advance(),r++;for(;Q.indexOf(e.next)>-1;)e.advance(),r++;if(44==e.next)return;for(let t=0;;t++){if(7==t){if(!D(e.next,!0))return;break}if(e.next!="extends".charCodeAt(t))break;e.advance(),r++}}e.acceptToken(4,-r)}),I=(0,E.pn)({"get set async static":E._A.modifier,"for while do if else switch try catch finally return throw break continue default case":E._A.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":E._A.operatorKeyword,"let var const using function class extends":E._A.definitionKeyword,"import export from":E._A.moduleKeyword,"with debugger new":E._A.keyword,TemplateString:E._A.special(E._A.string),super:E._A.atom,BooleanLiteral:E._A.bool,this:E._A.self,null:E._A.null,Star:E._A.modifier,VariableName:E._A.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":E._A.function(E._A.variableName),VariableDefinition:E._A.definition(E._A.variableName),Label:E._A.labelName,PropertyName:E._A.propertyName,PrivatePropertyName:E._A.special(E._A.propertyName),"CallExpression/MemberExpression/PropertyName":E._A.function(E._A.propertyName),"FunctionDeclaration/VariableDefinition":E._A.function(E._A.definition(E._A.variableName)),"ClassDeclaration/VariableDefinition":E._A.definition(E._A.className),"NewExpression/VariableName":E._A.className,PropertyDefinition:E._A.definition(E._A.propertyName),PrivatePropertyDefinition:E._A.definition(E._A.special(E._A.propertyName)),UpdateOp:E._A.updateOperator,"LineComment Hashbang":E._A.lineComment,BlockComment:E._A.blockComment,Number:E._A.number,String:E._A.string,Escape:E._A.escape,ArithOp:E._A.arithmeticOperator,LogicOp:E._A.logicOperator,BitOp:E._A.bitwiseOperator,CompareOp:E._A.compareOperator,RegExp:E._A.regexp,Equals:E._A.definitionOperator,Arrow:E._A.function(E._A.punctuation),": Spread":E._A.punctuation,"( )":E._A.paren,"[ ]":E._A.squareBracket,"{ }":E._A.brace,"InterpolationStart InterpolationEnd":E._A.special(E._A.brace),".":E._A.derefOperator,", ;":E._A.separator,"@":E._A.meta,TypeName:E._A.typeName,TypeDefinition:E._A.definition(E._A.typeName),"type enum interface implements namespace module declare":E._A.definitionKeyword,"abstract global Privacy readonly override":E._A.modifier,"is keyof unique infer asserts":E._A.operatorKeyword,JSXAttributeValue:E._A.attributeValue,JSXText:E._A.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":E._A.angleBracket,"JSXIdentifier JSXNameSpacedName":E._A.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":E._A.attributeName,"JSXBuiltin/JSXIdentifier":E._A.standard(E._A.tagName)}),Z={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},B={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},z={__proto__:null,"<":193},q=_.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"\u26a0 ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:C,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[I],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[T,R,$,L,2,3,4,5,6,7,8,9,10,11,12,13,14,M,new f("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new f("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:e=>Z[e]||-1},{term:342,get:e=>B[e]||-1},{term:95,get:e=>z[e]||-1}],tokenPrec:15124});var U=r(80),X=r(498),F=r(107),V=r(666);const Y=[(0,V.Gw)("function ${name}(${params}) {\n\t${}\n}",{label:"function",detail:"definition",type:"keyword"}),(0,V.Gw)("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n\t${}\n}",{label:"for",detail:"loop",type:"keyword"}),(0,V.Gw)("for (let ${name} of ${collection}) {\n\t${}\n}",{label:"for",detail:"of loop",type:"keyword"}),(0,V.Gw)("do {\n\t${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),(0,V.Gw)("while (${}) {\n\t${}\n}",{label:"while",detail:"loop",type:"keyword"}),(0,V.Gw)("try {\n\t${}\n} catch (${error}) {\n\t${}\n}",{label:"try",detail:"/ catch block",type:"keyword"}),(0,V.Gw)("if (${}) {\n\t${}\n}",{label:"if",detail:"block",type:"keyword"}),(0,V.Gw)("if (${}) {\n\t${}\n} else {\n\t${}\n}",{label:"if",detail:"/ else block",type:"keyword"}),(0,V.Gw)("class ${name} {\n\tconstructor(${params}) {\n\t\t${}\n\t}\n}",{label:"class",detail:"definition",type:"keyword"}),(0,V.Gw)('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),(0,V.Gw)('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],W=Y.concat([(0,V.Gw)("interface ${name} {\n\t${}\n}",{label:"interface",detail:"definition",type:"keyword"}),(0,V.Gw)("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),(0,V.Gw)("enum ${name} {\n\t${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),G=new n.RY,H=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function K(e){return(t,r)=>{let n=t.node.getChild("VariableDefinition");return n&&r(n,e),!0}}const J=["FunctionDeclaration"],ee={FunctionDeclaration:K("function"),ClassDeclaration:K("class"),ClassExpression:()=>!0,EnumDeclaration:K("constant"),TypeAliasDeclaration:K("type"),NamespaceDeclaration:K("namespace"),VariableDefinition(e,t){e.matchContext(J)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function te(e,t){let r=G.get(t);if(r)return r;let i=[],s=!0;function o(t,r){let n=e.sliceString(t.from,t.to);i.push({label:n,type:r})}return t.cursor(n.Qj.IncludeAnonymous).iterate(t=>{if(s)s=!1;else if(t.name){let e=ee[t.name];if(e&&e(t,o)||H.has(t.name))return!1}else if(t.to-t.from>8192){for(let r of te(e,t.node))i.push(r);return!1}}),G.set(t,i),i}const re=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,ne=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function ie(e){let t=(0,U.mv)(e.state).resolveInner(e.pos,-1);if(ne.indexOf(t.name)>-1)return null;let r="VariableName"==t.name||t.to-t.from<20&&re.test(e.state.sliceDoc(t.from,t.to));if(!r&&!e.explicit)return null;let n=[];for(let i=t;i;i=i.parent)H.has(i.name)&&(n=n.concat(te(e.state.doc,i)));return{options:n,from:r?t.from:e.pos,validFor:re}}const se=U.bj.define({name:"javascript",parser:q.configure({props:[U.Oh.add({IfStatement:(0,U.mz)({except:/^\s*({|else\b)/}),TryStatement:(0,U.mz)({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:U._Y,SwitchBody:e=>{let t=e.textAfter,r=/^\s*\}/.test(t),n=/^\s*(case|default)\b/.test(t);return e.baseIndent+(r?0:n?1:2)*e.unit},Block:(0,U.Ay)({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":(0,U.mz)({except:/^\s*{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag":e=>e.column(e.node.from)+e.unit}),U.b_.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":U.yd,BlockComment:e=>({from:e.from+2,to:e.to-2})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),oe={test:e=>/^JSX/.test(e.name),facet:(0,U.p9)({commentTokens:{block:{open:"{/*",close:"*/}"}}})},ae=se.configure({dialect:"ts"},"typescript"),le=se.configure({dialect:"jsx",props:[U.Q0.add(e=>e.isTop?[oe]:void 0)]}),ce=se.configure({dialect:"jsx ts",props:[U.Q0.add(e=>e.isTop?[oe]:void 0)]},"typescript");let he=e=>({label:e,type:"keyword"});const ue="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(he),de=ue.concat(["declare","implements","private","protected","public"].map(he));function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.jsx?e.typescript?ce:le:e.typescript?ae:se,r=e.typescript?W.concat(de):Y.concat(ue);return new U.Yy(t,[se.data.of({autocomplete:(0,V.Ar)(ne,(0,V.et)(r))}),se.data.of({autocomplete:ie}),e.jsx?ge:[]])}function me(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length;for(let n=null===t||void 0===t?void 0:t.firstChild;n;n=n.nextSibling)if("JSXIdentifier"==n.name||"JSXBuiltin"==n.name||"JSXNamespacedName"==n.name||"JSXMemberExpression"==n.name)return e.sliceString(n.from,Math.min(n.to,r));return""}const pe="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),ge=F.Lz.inputHandler.of((e,t,r,n,i)=>{if((pe?e.composing:e.compositionStarted)||e.state.readOnly||t!=r||">"!=n&&"/"!=n||!se.isActiveAt(e.state,t,-1))return!1;let s=i(),{state:o}=s,a=o.changeByRange(e=>{var t;let r,{head:i}=e,s=(0,U.mv)(o).resolveInner(i-1,-1);if("JSXStartTag"==s.name&&(s=s.parent),o.doc.sliceString(i-1,i)!=n||"JSXAttributeValue"==s.name&&s.to>i);else{if(">"==n&&"JSXFragmentTag"==s.name)return{range:e,changes:{from:i,insert:"</>"}};if("/"==n&&"JSXStartCloseTag"==s.name){let e=s.parent,n=e.parent;if(n&&e.from==i-2&&((r=me(o.doc,n.firstChild,i))||"JSXFragmentTag"==(null===(t=n.firstChild)||void 0===t?void 0:t.name))){let e=`${r}>`;return{range:X.OF.cursor(i+e.length,-1),changes:{from:i,insert:e}}}}else if(">"==n){let t=function(e){for(;;){if("JSXOpenTag"==e.name||"JSXSelfClosingTag"==e.name||"JSXFragmentTag"==e.name)return e;if("JSXEscape"==e.name||!e.parent)return null;e=e.parent}}(s);if(t&&"JSXOpenTag"==t.name&&!/^\/?>|^<\//.test(o.doc.sliceString(i,i+2))&&(r=me(o.doc,t,i)))return{range:e,changes:{from:i,insert:`</${r}>`}}}}return{range:e}});return!a.changes.empty&&(e.dispatch([s,o.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)})},654:(e,t,r)=>{"use strict";var n=r(950),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,h=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(h=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:i,type:e,key:c,ref:h,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},666:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>c,Bc:()=>be,Gw:()=>ce,OO:()=>Ee,et:()=>l,wm:()=>pe,yU:()=>Pe});var n=r(498),i=r(107),s=r(80);class o{constructor(e,t,r,n){this.state=e,this.pos=t,this.explicit=r,this.view=n,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=(0,s.mv)(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),n=t.text.slice(r-t.from,this.pos-t.from),i=n.search(d(e,!1));return i<0?null:{from:r+i,to:this.pos,text:n.slice(i)}}get aborted(){return null==this.abortListeners}addEventListener(e,t,r){"abort"==e&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function a(e){let t=Object.keys(e).join(""),r=/\w/.test(t);return r&&(t=t.replace(/\w/g,"")),`[${r?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function l(e){let t=e.map(e=>"string"==typeof e?{label:e}:e),[r,n]=t.every(e=>/^\w+$/.test(e.label))?[/\w*$/,/\w+$/]:function(e){let t=Object.create(null),r=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let e=1;e<i.length;e++)r[i[e]]=!0}let n=a(t)+a(r)+"*$";return[new RegExp("^"+n),new RegExp(n)]}(t);return e=>{let i=e.matchBefore(n);return i||e.explicit?{from:i?i.from:e.pos,options:t,validFor:r}:null}}function c(e,t){return r=>{for(let t=(0,s.mv)(r.state).resolveInner(r.pos,-1);t;t=t.parent){if(e.indexOf(t.name)>-1)return null;if(t.type.isTop)break}return t(r)}}class h{constructor(e,t,r,n){this.completion=e,this.source=t,this.match=r,this.score=n}}function u(e){return e.selection.main.from}function d(e,t){var r;let{source:n}=e,i=t&&"^"!=n[0],s="$"!=n[n.length-1];return i||s?new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,null!==(r=e.flags)&&void 0!==r?r:e.ignoreCase?"i":""):e}const f=n.YH.define();const m=new WeakMap;function p(e){if(!Array.isArray(e))return e;let t=m.get(e);return t||m.set(e,t=l(e)),t}const g=n.Pe.define(),x=n.Pe.define();class O{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=(0,n.vS)(e,t),i=(0,n.Fh)(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push((0,n.vS)(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(0==this.pattern.length)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(1==t.length){let i=(0,n.vS)(e,0),s=(0,n.Fh)(i),o=s==e.length?0:-100;if(i==t[0]);else{if(i!=r[0])return null;o+=-200}return this.ret(o,[0,s])}let a=e.indexOf(this.pattern);if(0==a)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=t.length,c=0;if(a<0){for(let s=0,o=Math.min(e.length,200);s<o&&c<l;){let o=(0,n.vS)(e,s);o!=t[c]&&o!=r[c]||(i[c++]=s),s+=(0,n.Fh)(o)}if(c<l)return null}let h=0,u=0,d=!1,f=0,m=-1,p=-1,g=/[a-z]/.test(e),x=!0;for(let O=0,v=Math.min(e.length,200),y=0;O<v&&u<l;){let i=(0,n.vS)(e,O);a<0&&(h<l&&i==t[h]&&(s[h++]=O),f<l&&(i==t[f]||i==r[f]?(0==f&&(m=O),p=O+1,f++):f=0));let c,v=i<255?i>=48&&i<=57||i>=97&&i<=122?2:i>=65&&i<=90?1:0:(c=(0,n.MK)(i))!=c.toLowerCase()?1:c!=c.toUpperCase()?2:0;(!O||1==v&&g||0==y&&0!=v)&&(t[u]==i||r[u]==i&&(d=!0)?o[u++]=O:o.length&&(x=!1)),y=v,O+=(0,n.Fh)(i)}return u==l&&0==o[0]&&x?this.result((d?-200:0)-100,o,e):f==l&&0==m?this.ret(-200-e.length+(p==e.length?0:-100),[0,p]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[m,p]):u==l?this.result((d?-200:0)-100-700+(x?0:-1100),o,e):2==t.length?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let e=o+(this.astral?(0,n.Fh)((0,n.vS)(r,o)):1);s&&i[s-1]==o?i[s-1]=e:(i[s++]=o,i[s++]=e)}return this.ret(e-r.length,i)}}class v{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return null==r?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const y=n.sj.define({combine:e=>(0,n.QR)(e,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:w,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>b(e(r),t(r)),optionClass:(e,t)=>r=>b(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function b(e,t){return e?t?e+" "+t:e:t}function w(e,t,r,n,s,o){let a,l,c=e.textDirection==i.OP.RTL,h=c,u=!1,d="top",f=t.left-s.left,m=s.right-t.right,p=n.right-n.left,g=n.bottom-n.top;if(h&&f<Math.min(p,m)?h=!1:!h&&m<Math.min(p,f)&&(h=!0),p<=(h?f:m))a=Math.max(s.top,Math.min(r.top,s.bottom-g))-t.top,l=Math.min(400,h?f:m);else{u=!0,l=Math.min(400,(c?t.right:s.right-t.left)-30);let e=s.bottom-t.bottom;e>=g||e>t.top?a=r.bottom-t.top:(d="bottom",a=t.bottom-r.top)}return{style:`${d}: ${a/((t.bottom-t.top)/o.offsetHeight)}px; max-width: ${l/((t.right-t.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(u?c?"left-narrow":"right-narrow":h?"left":"right")}}function k(e,t,r){if(e<=r)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let e=Math.floor(t/r);return{from:e*r,to:(e+1)*r}}let n=Math.floor((e-t)/r);return{from:e-(n+1)*r,to:e-n*r}}class S{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:e=>this.placeInfo(e),key:this},this.space=null,this.currentClass="";let n=e.state.field(t),{options:i,selected:s}=n.open,o=e.state.facet(y);this.optionContent=function(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(e){let t=document.createElement("div");return t.classList.add("cm-completionIcon"),e.type&&t.classList.add(...e.type.split(/\s+/g).map(e=>"cm-completionIcon-"+e)),t.setAttribute("aria-hidden","true"),t},position:20}),t.push({render(e,t,r,n){let i=document.createElement("span");i.className="cm-completionLabel";let s=e.displayLabel||e.label,o=0;for(let a=0;a<n.length;){let e=n[a++],t=n[a++];e>o&&i.appendChild(document.createTextNode(s.slice(o,e)));let r=i.appendChild(document.createElement("span"));r.appendChild(document.createTextNode(s.slice(e,t))),r.className="cm-completionMatchedText",o=t}return o<s.length&&i.appendChild(document.createTextNode(s.slice(o))),i},position:50},{render(e){if(!e.detail)return null;let t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((e,t)=>e.position-t.position).map(e=>e.render)}(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=k(i.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",r=>{let{options:n}=e.state.field(t).open;for(let t,i=r.target;i&&i!=this.dom;i=i.parentNode)if("LI"==i.nodeName&&(t=/-(\d+)$/.exec(i.id))&&+t[1]<n.length)return this.applyCompletion(e,n[+t[1]]),void r.preventDefault()}),this.dom.addEventListener("focusout",t=>{let r=e.state.field(this.stateField,!1);r&&r.tooltip&&e.state.facet(y).closeOnBlur&&t.relatedTarget!=e.contentDOM&&e.dispatch({effects:x.of(null)})}),this.showOptions(i,n.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),n=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=n){let{options:i,selected:s,disabled:o}=r.open;n.open&&n.open.options==i||(this.range=k(i.length,s,e.state.facet(y).maxRenderedOptions),this.showOptions(i,r.id)),this.updateSel(),o!=(null===(t=n.open)||void 0===t?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let e of this.currentClass.split(" "))e&&this.dom.classList.remove(e);for(let e of t.split(" "))e&&this.dom.classList.add(e);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=k(t.options.length,t.selected,this.view.state.facet(y).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:n}=r;if(!n)return;let s="string"===typeof n?document.createTextNode(n):n(r);if(!s)return;"then"in s?s.then(t=>{t&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(t,r)}).catch(e=>(0,i.c_)(this.view.state,e,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",null!=e.nodeType)r.appendChild(e),this.infoDestroy=null;else{let{dom:t,destroy:n}=e;r.appendChild(t),this.infoDestroy=n||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,n=this.range.from;r;r=r.nextSibling,n++)"LI"==r.nodeName&&r.id?n==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):n--;return t&&function(e,t){let r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),i=r.height/e.offsetHeight;n.top<r.top?e.scrollTop-=(r.top-n.top)/i:n.bottom>r.bottom&&(e.scrollTop+=(n.bottom-r.bottom)/i)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),n=e.getBoundingClientRect(),i=this.space;if(!i){let e=this.dom.ownerDocument.documentElement;i={left:0,top:0,right:e.clientWidth,bottom:e.clientHeight}}return n.top>Math.min(i.bottom,t.bottom)-10||n.bottom<Math.max(i.top,t.top)+10?null:this.view.state.facet(y).positionInfo(this.view,t,n,r,i,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const n=document.createElement("ul");n.id=t,n.setAttribute("role","listbox"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-label",this.view.state.phrase("Completions")),n.addEventListener("mousedown",e=>{e.target==n&&e.preventDefault()});let i=null;for(let s=r.from;s<r.to;s++){let{completion:o,match:a}=e[s],{section:l}=o;if(l){let e="string"==typeof l?l:l.name;if(e!=i&&(s>r.from||0==r.from))if(i=e,"string"!=typeof l&&l.header)n.appendChild(l.header(l));else{n.appendChild(document.createElement("completion-section")).textContent=e}}const c=n.appendChild(document.createElement("li"));c.id=t+"-"+s,c.setAttribute("role","option");let h=this.optionClass(o);h&&(c.className=h);for(let e of this.optionContent){let t=e(o,this.view.state,this.view,a);t&&c.appendChild(t)}}return r.from&&n.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&n.classList.add("cm-completionListIncompleteBottom"),n}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function N(e,t){return r=>new S(r,e,t)}function j(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}class _{constructor(e,t,r,n,i,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=n,this.selected=i,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new _(this.options,Q(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,n,i,s){if(n&&!s&&e.some(e=>e.isPending))return n.setDisabled();let o=function(e,t){let r=[],n=null,i=e=>{r.push(e);let{section:t}=e.completion;if(t){n||(n=[]);let e="string"==typeof t?t:t.name;n.some(t=>t.name==e)||n.push("string"==typeof t?{name:e}:t)}},s=t.facet(y);for(let c of e)if(c.hasResult()){let e=c.result.getMatch;if(!1===c.result.filter)for(let t of c.result.options)i(new h(t,c.source,e?e(t):[],1e9-r.length));else{let r,n=t.sliceDoc(c.from,c.to),o=s.filterStrict?new v(n):new O(n);for(let t of c.result.options)if(r=o.match(t.label)){let n=t.displayLabel?e?e(t,r.matched):[]:r.matched;i(new h(t,c.source,n,r.score+(t.boost||0)))}}}if(n){let e=Object.create(null),t=0,i=(e,t)=>{var r,n;return(null!==(r=e.rank)&&void 0!==r?r:1e9)-(null!==(n=t.rank)&&void 0!==n?n:1e9)||(e.name<t.name?-1:1)};for(let r of n.sort(i))t-=1e5,e[r.name]=t;for(let n of r){let{section:t}=n.completion;t&&(n.score+=e["string"==typeof t?t:t.name])}}let o=[],a=null,l=s.compareCompletions;for(let c of r.sort((e,t)=>t.score-e.score||l(e.completion,t.completion))){let e=c.completion;!a||a.label!=e.label||a.detail!=e.detail||null!=a.type&&null!=e.type&&a.type!=e.type||a.apply!=e.apply||a.boost!=e.boost?o.push(c):j(c.completion)>j(a)&&(o[o.length-1]=c),a=c.completion}return o}(e,t);if(!o.length)return n&&e.some(e=>e.isPending)?n.setDisabled():null;let a=t.facet(y).selectOnOpen?0:-1;if(n&&n.selected!=a&&-1!=n.selected){let e=n.options[n.selected].completion;for(let t=0;t<o.length;t++)if(o[t].completion==e){a=t;break}}return new _(o,Q(r,a),{pos:e.reduce((e,t)=>t.hasResult()?Math.min(e,t.from):e,1e8),create:Z,above:i.aboveCursor},n?n.timestamp:Date.now(),a,!1)}map(e){return new _(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new _(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class A{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new A(C,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(y),n=(r.override||t.languageDataAt("autocomplete",u(t)).map(p)).map(t=>(this.active.find(e=>e.source==t)||new T(t,this.active.some(e=>0!=e.state)?1:0)).update(e,r));n.length==this.active.length&&n.every((e,t)=>e==this.active[t])&&(n=this.active);let i=this.open,s=e.effects.some(e=>e.is($));i&&e.docChanged&&(i=i.map(e.changes)),e.selection||n.some(t=>t.hasResult()&&e.changes.touchesRange(t.from,t.to))||!function(e,t){if(e==t)return!0;for(let r=0,n=0;;){for(;r<e.length&&!e[r].hasResult();)r++;for(;n<t.length&&!t[n].hasResult();)n++;let i=r==e.length,s=n==t.length;if(i||s)return i==s;if(e[r++].result!=t[n++].result)return!1}}(n,this.active)||s?i=_.build(n,t,this.id,i,r,s):i&&i.disabled&&!n.some(e=>e.isPending)&&(i=null),!i&&n.every(e=>!e.isPending)&&n.some(e=>e.hasResult())&&(n=n.map(e=>e.hasResult()?new T(e.source,0):e));for(let o of e.effects)o.is(D)&&(i=i&&i.setSelected(o.value,this.id));return n==this.active&&i==this.open?this:new A(n,this.id,i)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?P:E}}const P={"aria-autocomplete":"list"},E={};function Q(e,t){let r={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(r["aria-activedescendant"]=e+"-"+t),r}const C=[];function M(e,t){if(e.isUserEvent("input.complete")){let r=e.annotation(f);if(r&&t.activateOnCompletion(r))return 12}let r=e.isUserEvent("input.type");return r&&t.activateOnTyping?5:r?1:e.isUserEvent("delete.backward")?2:e.selection?8:e.docChanged?16:0}class T{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return 1==this.state}update(e,t){let r=M(e,t),n=this;(8&r||16&r&&this.touches(e))&&(n=new T(n.source,0)),4&r&&0==n.state&&(n=new T(this.source,1)),n=n.updateFor(e,r);for(let i of e.effects)if(i.is(g))n=new T(n.source,1,i.value);else if(i.is(x))n=new T(n.source,0);else if(i.is($))for(let e of i.value)e.source==n.source&&(n=e);return n}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(u(e.state))}}class R extends T{constructor(e,t,r,n,i,s){super(e,3,t),this.limit=r,this.result=n,this.from=i,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(3&t))return this.map(e.changes);let n=this.result;n.map&&!e.changes.empty&&(n=n.map(n,e.changes));let i=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=u(e.state);if(a>s||!n||2&t&&(u(e.startState)==this.from||a<this.limit))return new T(this.source,4&t?1:0);let l=e.changes.mapPos(this.limit);return function(e,t,r,n){if(!e)return!1;let i=t.sliceDoc(r,n);return"function"==typeof e?e(i,r,n,t):d(e,!0).test(i)}(n.validFor,e.state,i,s)?new R(this.source,this.explicit,l,n,i,s):n.update&&(n=n.update(n,i,s,new o(e.state,a,!1)))?new R(this.source,this.explicit,l,n,n.from,null!==(r=n.to)&&void 0!==r?r:u(e.state)):new T(this.source,1,this.explicit)}map(e){if(e.empty)return this;return(this.result.map?this.result.map(this.result,e):this.result)?new R(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new T(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}const $=n.Pe.define({map:(e,t)=>e.map(e=>e.map(t))}),D=n.Pe.define(),L=n.sU.define({create:()=>A.start(),update:(e,t)=>e.update(t),provide:e=>[i.DK.from(e,e=>e.tooltip),i.Lz.contentAttributes.from(e,e=>e.attrs)]});function I(e,t){const r=t.completion.apply||t.completion.label;let i=e.state.field(L).active.find(e=>e.source==t.source);return i instanceof R&&("string"==typeof r?e.dispatch(Object.assign(Object.assign({},function(e,t,r,i){let{main:s}=e.selection,o=r-s.from,a=i-s.from;return Object.assign(Object.assign({},e.changeByRange(l=>{if(l!=s&&r!=i&&e.sliceDoc(l.from+o,l.from+a)!=e.sliceDoc(r,i))return{range:l};let c=e.toText(t);return{changes:{from:l.from+o,to:i==s.from?l.to:l.from+a,insert:c},range:n.OF.cursor(l.from+o+c.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(e.state,r,i.from,i.to)),{annotations:f.of(t.completion)})):r(e,t.completion,i.from,i.to),!0)}const Z=N(L,I);function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return r=>{let n=r.state.field(L,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<r.state.facet(y).interactionDelay)return!1;let s,o=1;"page"==t&&(s=(0,i.Eg)(r,n.open.tooltip))&&(o=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:a}=n.open.options,l=n.open.selected>-1?n.open.selected+o*(e?1:-1):e?0:a-1;return l<0?l="page"==t?0:a-1:l>=a&&(l="page"==t?a-1:0),r.dispatch({effects:D.of(l)}),!0}}const z=e=>!!e.state.field(L,!1)&&(e.dispatch({effects:g.of(!0)}),!0);class q{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const U=i.Z9.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(L).active)t.isPending&&this.startQuery(t)}update(e){let t=e.state.field(L),r=e.state.facet(y);if(!e.selectionSet&&!e.docChanged&&e.startState.field(L)==t)return;let n=e.transactions.some(e=>{let t=M(e,r);return 8&t||(e.selection||e.docChanged)&&!(3&t)});for(let a=0;a<this.running.length;a++){let t=this.running[a];if(n||t.context.abortOnDocChange&&e.docChanged||t.updates.length+e.transactions.length>50&&Date.now()-t.time>1e3){for(let e of t.context.abortListeners)try{e()}catch(o){(0,i.c_)(this.view.state,o)}t.context.abortListeners=null,this.running.splice(a--,1)}else t.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(e=>e.effects.some(e=>e.is(g)))&&(this.pendingStart=!0);let s=this.pendingStart?50:r.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(e=>e.isPending&&!this.running.some(t=>t.active.source==e.source))?setTimeout(()=>this.startUpdate(),s):-1,0!=this.composing)for(let i of e.transactions)i.isUserEvent("input.type")?this.composing=2:2==this.composing&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(L);for(let r of t.active)r.isPending&&!this.running.some(e=>e.active.source==r.source)&&this.startQuery(r);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(y).updateSyncTime))}startQuery(e){let{state:t}=this.view,r=u(t),n=new o(t,r,e.explicit,this.view),s=new q(e,n);this.running.push(s),Promise.resolve(e.source(n)).then(e=>{s.context.aborted||(s.done=e||null,this.scheduleAccept())},e=>{this.view.dispatch({effects:x.of(null)}),(0,i.c_)(this.view.state,e)})}scheduleAccept(){this.running.every(e=>void 0!==e.done)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(y).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],r=this.view.state.facet(y),n=this.view.state.field(L);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(void 0===s.done)continue;if(this.running.splice(i--,1),s.done){let n=u(s.updates.length?s.updates[0].startState:this.view.state),i=Math.min(n,s.done.from+(s.active.explicit?0:1)),o=new R(s.active.source,s.active.explicit,i,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:n);for(let e of s.updates)o=o.update(e,r);if(o.hasResult()){t.push(o);continue}}let o=n.active.find(e=>e.source==s.active.source);if(o&&o.isPending)if(null==s.done){let e=new T(s.active.source,0);for(let t of s.updates)e=e.update(t,r);e.isPending||t.push(e)}else this.startQuery(o)}(t.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:$.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(L,!1);if(t&&t.tooltip&&this.view.state.facet(y).closeOnBlur){let r=t.open&&(0,i.Eg)(this.view,t.open.tooltip);r&&r.dom.contains(e.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:x.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){3==this.composing&&setTimeout(()=>this.view.dispatch({effects:g.of(!1)}),20),this.composing=0}}}),X="object"==typeof navigator&&/Win/.test(navigator.platform),F=n.Nb.highest(i.Lz.domEventHandlers({keydown(e,t){let r=t.state.field(L,!1);if(!r||!r.open||r.open.disabled||r.open.selected<0||e.key.length>1||e.ctrlKey&&(!X||!e.altKey)||e.metaKey)return!1;let n=r.open.options[r.open.selected],i=r.active.find(e=>e.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(e.key)>-1&&I(t,n),!1}})),V=i.Lz.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class Y{constructor(e,t,r,n){this.field=e,this.line=t,this.from=r,this.to=n}}class W{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,n.iR.TrackDel),r=e.mapPos(this.to,1,n.iR.TrackDel);return null==t||null==r?null:new W(this.field,t,r)}}class G{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],n=[t],i=e.doc.lineAt(t),o=/^\s*/.exec(i.text)[0];for(let l of this.lines){if(r.length){let r=o,i=/^\t*/.exec(l)[0].length;for(let t=0;t<i;t++)r+=e.facet(s.Xt);n.push(t+r.length-i),l=r+l.slice(i)}r.push(l),t+=l.length+1}let a=this.fieldPositions.map(e=>new W(e.field,n[e.line]+e.from,n[e.line]+e.to));return{text:r,ranges:a}}static parse(e){let t,r=[],n=[],i=[];for(let s of e.split(/\r\n?|\n/)){for(;t=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let e=t[1]?+t[1]:null,o=t[2]||t[3]||"",a=-1,l=o.replace(/\\[{}]/g,e=>e[1]);for(let t=0;t<r.length;t++)(null!=e?r[t].seq==e:l&&r[t].name==l)&&(a=t);if(a<0){let t=0;for(;t<r.length&&(null==e||null!=r[t].seq&&r[t].seq<e);)t++;r.splice(t,0,{seq:e,name:l}),a=t;for(let e of i)e.field>=a&&e.field++}i.push(new Y(a,n.length,t.index,t.index+l.length)),s=s.slice(0,t.index)+o+s.slice(t.index+t[0].length)}s=s.replace(/\\([{}])/g,(e,t,r)=>{for(let s of i)s.line==n.length&&s.from>r&&(s.from--,s.to--);return t}),n.push(s)}return new G(n,i)}}let H=i.NZ.widget({widget:new class extends i.xO{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),K=i.NZ.mark({class:"cm-snippetField"});class J{constructor(e,t){this.ranges=e,this.active=t,this.deco=i.NZ.set(e.map(e=>(e.from==e.to?H:K).range(e.from,e.to)))}map(e){let t=[];for(let r of this.ranges){let n=r.map(e);if(!n)return null;t.push(n)}return new J(t,this.active)}selectionInsideField(e){return e.ranges.every(e=>this.ranges.some(t=>t.field==this.active&&t.from<=e.from&&t.to>=e.to))}}const ee=n.Pe.define({map:(e,t)=>e&&e.map(t)}),te=n.Pe.define(),re=n.sU.define({create:()=>null,update(e,t){for(let r of t.effects){if(r.is(ee))return r.value;if(r.is(te)&&e)return new J(e.ranges,r.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>i.Lz.decorations.from(e,e=>e?e.deco:i.NZ.none)});function ne(e,t){return n.OF.create(e.filter(e=>e.field==t).map(e=>n.OF.range(e.from,e.to)))}function ie(e){let t=G.parse(e);return(e,r,i,s)=>{let{text:o,ranges:a}=t.instantiate(e.state,i),{main:l}=e.state.selection,c={changes:{from:i,to:s==l.from?l.to:s,insert:n.EY.of(o)},scrollIntoView:!0,annotations:r?[f.of(r),n.ZX.userEvent.of("input.complete")]:void 0};if(a.length&&(c.selection=ne(a,0)),a.some(e=>e.field>0)){let t=new J(a,0),r=c.effects=[ee.of(t)];void 0===e.state.field(re,!1)&&r.push(n.Pe.appendConfig.of([re,le,he,V]))}e.dispatch(e.state.update(c))}}function se(e){return t=>{let{state:r,dispatch:n}=t,i=r.field(re,!1);if(!i||e<0&&0==i.active)return!1;let s=i.active+e,o=e>0&&!i.ranges.some(t=>t.field==s+e);return n(r.update({selection:ne(i.ranges,s),effects:ee.of(o?null:new J(i.ranges,s)),scrollIntoView:!0})),!0}}const oe=[{key:"Tab",run:se(1),shift:se(-1)},{key:"Escape",run:e=>{let{state:t,dispatch:r}=e;return!!t.field(re,!1)&&(r(t.update({effects:ee.of(null)})),!0)}}],ae=n.sj.define({combine:e=>e.length?e[0]:oe}),le=n.Nb.highest(i.w4.compute([ae],e=>e.facet(ae)));function ce(e,t){return Object.assign(Object.assign({},t),{apply:ie(e)})}const he=i.Lz.domEventHandlers({mousedown(e,t){let r,n=t.state.field(re,!1);if(!n||null==(r=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;let i=n.ranges.find(e=>e.from<=r&&e.to>=r);return!(!i||i.field==n.active)&&(t.dispatch({selection:ne(n.ranges,i.field),effects:ee.of(n.ranges.some(e=>e.field>i.field)?new J(n.ranges,i.field):null),scrollIntoView:!0}),!0)}});const ue={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},de=n.Pe.define({map(e,t){let r=t.mapPos(e,-1,n.iR.TrackAfter);return null==r?void 0:r}}),fe=new class extends n.FB{};fe.startSide=1,fe.endSide=-1;const me=n.sU.define({create:()=>n.om.empty,update(e,t){if(e=e.map(t.changes),t.selection){let r=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:e=>e>=r.from&&e<=r.to})}for(let r of t.effects)r.is(de)&&(e=e.update({add:[fe.range(r.value,r.value+1)]}));return e}});function pe(){return[ye,me]}const ge="()[]{}<>\xab\xbb\xbb\xab\uff3b\uff3d\uff5b\uff5d";function xe(e){for(let t=0;t<16;t+=2)if(ge.charCodeAt(t)==e)return ge.charAt(t+1);return(0,n.MK)(e<128?e:e+1)}function Oe(e,t){return e.languageDataAt("closeBrackets",t)[0]||ue}const ve="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),ye=i.Lz.inputHandler.of((e,t,r,i)=>{if((ve?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let s=e.state.selection.main;if(i.length>2||2==i.length&&1==(0,n.Fh)((0,n.vS)(i,0))||t!=s.from||r!=s.to)return!1;let o=function(e,t){let r=Oe(e,e.selection.main.head),i=r.brackets||ue.brackets;for(let s of i){let o=xe((0,n.vS)(s,0));if(t==s)return o==s?je(e,s,i.indexOf(s+s+s)>-1,r):Se(e,s,o,r.before||ue.before);if(t==o&&we(e,e.selection.main.from))return Ne(e,s,o)}return null}(e.state,i);return!!o&&(e.dispatch(o),!0)}),be=[{key:"Backspace",run:e=>{let{state:t,dispatch:r}=e;if(t.readOnly)return!1;let i=Oe(t,t.selection.main.head).brackets||ue.brackets,s=null,o=t.changeByRange(e=>{if(e.empty){let r=function(e,t){let r=e.sliceString(t-2,t);return(0,n.Fh)((0,n.vS)(r,0))==r.length?r:r.slice(1)}(t.doc,e.head);for(let s of i)if(s==r&&ke(t.doc,e.head)==xe((0,n.vS)(s,0)))return{changes:{from:e.head-s.length,to:e.head+s.length},range:n.OF.cursor(e.head-s.length)}}return{range:s=e}});return s||r(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!s}}];function we(e,t){let r=!1;return e.field(me).between(0,e.doc.length,e=>{e==t&&(r=!0)}),r}function ke(e,t){let r=e.sliceString(t,t+2);return r.slice(0,(0,n.Fh)((0,n.vS)(r,0)))}function Se(e,t,r,i){let s=null,o=e.changeByRange(o=>{if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:r,from:o.to}],effects:de.of(o.to+t.length),range:n.OF.range(o.anchor+t.length,o.head+t.length)};let a=ke(e.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:t+r,from:o.head},effects:de.of(o.head+t.length),range:n.OF.cursor(o.head+t.length)}:{range:s=o}});return s?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Ne(e,t,r){let i=null,s=e.changeByRange(t=>t.empty&&ke(e.doc,t.head)==r?{changes:{from:t.head,to:t.head+r.length,insert:r},range:n.OF.cursor(t.head+r.length)}:i={range:t});return i?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function je(e,t,r,i){let o=i.stringPrefixes||ue.stringPrefixes,a=null,l=e.changeByRange(i=>{if(!i.empty)return{changes:[{insert:t,from:i.from},{insert:t,from:i.to}],effects:de.of(i.to+t.length),range:n.OF.range(i.anchor+t.length,i.head+t.length)};let l,c=i.head,h=ke(e.doc,c);if(h==t){if(_e(e,c))return{changes:{insert:t+t,from:c},effects:de.of(c+t.length),range:n.OF.cursor(c+t.length)};if(we(e,c)){let i=r&&e.sliceDoc(c,c+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:c,to:c+i.length,insert:i},range:n.OF.cursor(c+i.length)}}}else{if(r&&e.sliceDoc(c-2*t.length,c)==t+t&&(l=Ae(e,c-2*t.length,o))>-1&&_e(e,l))return{changes:{insert:t+t+t+t,from:c},effects:de.of(c+t.length),range:n.OF.cursor(c+t.length)};if(e.charCategorizer(c)(h)!=n.Je.Word&&Ae(e,c,o)>-1&&!function(e,t,r,n){let i=(0,s.mv)(e).resolveInner(t,-1),o=n.reduce((e,t)=>Math.max(e,t.length),0);for(let s=0;s<5;s++){let s=e.sliceDoc(i.from,Math.min(i.to,i.from+r.length+o)),a=s.indexOf(r);if(!a||a>-1&&n.indexOf(s.slice(0,a))>-1){let t=i.firstChild;for(;t&&t.from==i.from&&t.to-t.from>r.length+a;){if(e.sliceDoc(t.to-r.length,t.to)==r)return!1;t=t.firstChild}return!0}let l=i.to==t&&i.parent;if(!l)break;i=l}return!1}(e,c,t,o))return{changes:{insert:t+t,from:c},effects:de.of(c+t.length),range:n.OF.cursor(c+t.length)}}return{range:a=i}});return a?null:e.update(l,{scrollIntoView:!0,userEvent:"input.type"})}function _e(e,t){let r=(0,s.mv)(e).resolveInner(t+1);return r.parent&&r.from==t}function Ae(e,t,r){let i=e.charCategorizer(t);if(i(e.sliceDoc(t-1,t))!=n.Je.Word)return t;for(let s of r){let r=t-s.length;if(e.sliceDoc(r,t)==s&&i(e.sliceDoc(r-1,r))!=n.Je.Word)return r}return-1}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[F,L,y.of(e),U,Qe,V]}const Ee=[{key:"Ctrl-Space",run:z},{mac:"Alt-`",run:z},{key:"Escape",run:e=>{let t=e.state.field(L,!1);return!(!t||!t.active.some(e=>0!=e.state))&&(e.dispatch({effects:x.of(null)}),!0)}},{key:"ArrowDown",run:B(!0)},{key:"ArrowUp",run:B(!1)},{key:"PageDown",run:B(!0,"page")},{key:"PageUp",run:B(!1,"page")},{key:"Enter",run:e=>{let t=e.state.field(L,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(y).interactionDelay)&&I(e,t.open.options[t.open.selected])}}],Qe=n.Nb.highest(i.w4.computeN([y],e=>e.facet(y).defaultKeymap?[Ee]:[]))},674:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",s="object"===typeof window,o=s?window:{};o.JS_SHA3_NO_WINDOW&&(s=!1);var a=!s&&"object"===typeof self;!o.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?o=r.g:a&&(o=self);var l=!o.JS_SHA3_NO_COMMON_JS&&e.exports,c=r.amdO,h=!o.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,u="0123456789abcdef".split(""),d=[4,1024,262144,67108864],f=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],p=[224,256,384,512],g=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],O={128:168,256:136};!o.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!h||!o.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var v=function(e,t,r){return function(n){return new T(e,t,e).update(n)[r]()}},y=function(e,t,r){return function(n,i){return new T(e,t,i).update(n)[r]()}},b=function(e,t,r){return function(t,n,i,s){return j["cshake"+e].update(t,n,i,s)[r]()}},w=function(e,t,r){return function(t,n,i,s){return j["kmac"+e].update(t,n,i,s)[r]()}},k=function(e,t,r,n){for(var i=0;i<x.length;++i){var s=x[i];e[s]=t(r,n,s)}return e},S=function(e,t){var r=v(e,t,"hex");return r.create=function(){return new T(e,t,e)},r.update=function(e){return r.create().update(e)},k(r,v,e,t)},N=[{name:"keccak",padding:[1,256,65536,16777216],bits:p,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:p,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:g,createMethod:function(e,t){var r=y(e,t,"hex");return r.create=function(r){return new T(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},k(r,y,e,t)}},{name:"cshake",padding:d,bits:g,createMethod:function(e,t){var r=O[e],n=b(e,0,"hex");return n.create=function(n,i,s){return i||s?new T(e,t,n).bytepad([i,s],r):j["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},k(n,b,e,t)}},{name:"kmac",padding:d,bits:g,createMethod:function(e,t){var r=O[e],n=w(e,0,"hex");return n.create=function(n,i,s){return new R(e,t,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},k(n,w,e,t)}}],j={},_=[],A=0;A<N.length;++A)for(var P=N[A],E=P.bits,Q=0;Q<E.length;++Q){var C=P.name+"_"+E[Q];if(_.push(C),j[C]=P.createMethod(E[Q],P.padding),"sha3"!==P.name){var M=P.name+E[Q];_.push(M),j[M]=j[C]}}function T(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function R(e,t,r){T.call(this,e,t,r)}T.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,s,o=this.blocks,a=this.byteCount,l=e.length,c=this.blockCount,u=0,d=this.s;u<l;){if(this.reset)for(this.reset=!1,o[0]=this.block,n=1;n<c+1;++n)o[n]=0;if(t)for(n=this.start;u<l&&n<a;++u)o[n>>2]|=e[u]<<f[3&n++];else for(n=this.start;u<l&&n<a;++u)(s=e.charCodeAt(u))<128?o[n>>2]|=s<<f[3&n++]:s<2048?(o[n>>2]|=(192|s>>6)<<f[3&n++],o[n>>2]|=(128|63&s)<<f[3&n++]):s<55296||s>=57344?(o[n>>2]|=(224|s>>12)<<f[3&n++],o[n>>2]|=(128|s>>6&63)<<f[3&n++],o[n>>2]|=(128|63&s)<<f[3&n++]):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++u)),o[n>>2]|=(240|s>>18)<<f[3&n++],o[n>>2]|=(128|s>>12&63)<<f[3&n++],o[n>>2]|=(128|s>>6&63)<<f[3&n++],o[n>>2]|=(128|63&s)<<f[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=o[c],n=0;n<c;++n)d[n]^=o[n];$(d),this.reset=!0}else this.start=n}return this},T.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},T.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(h&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!h||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0,s=e.length;if(t)n=s;else for(var o=0;o<e.length;++o){var a=e.charCodeAt(o);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++o)),n+=4)}return n+=this.encode(8*n),this.update(e),n},T.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,s=[];return s.length=i,this.update(s),this},T.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];$(n)}},T.prototype.toString=T.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a="";o<n;){for(s=0;s<t&&o<n;++s,++o)e=r[s],a+=u[e>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15];o%t===0&&($(r),s=0)}return i&&(e=r[s],a+=u[e>>4&15]+u[15&e],i>1&&(a+=u[e>>12&15]+u[e>>8&15]),i>2&&(a+=u[e>>20&15]+u[e>>16&15])),a},T.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var l=new Uint32Array(e);o<n;){for(s=0;s<t&&o<n;++s,++o)l[o]=r[s];o%t===0&&$(r)}return i&&(l[s]=r[s],e=e.slice(0,a)),e},T.prototype.buffer=T.prototype.arrayBuffer,T.prototype.digest=T.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,l=[];a<i;){for(o=0;o<r&&a<i;++o,++a)e=a<<2,t=n[o],l[e]=255&t,l[e+1]=t>>8&255,l[e+2]=t>>16&255,l[e+3]=t>>24&255;a%r===0&&$(n)}return s&&(e=a<<2,t=n[o],l[e]=255&t,s>1&&(l[e+1]=t>>8&255),s>2&&(l[e+2]=t>>16&255)),l},R.prototype=new T,R.prototype.finalize=function(){return this.encode(this.outputBits,!0),T.prototype.finalize.call(this)};var $=function(e){var t,r,n,i,s,o,a,l,c,h,u,d,f,p,g,x,O,v,y,b,w,k,S,N,j,_,A,P,E,Q,C,M,T,R,$,D,L,I,Z,B,z,q,U,X,F,V,Y,W,G,H,K,J,ee,te,re,ne,ie,se,oe,ae,le,ce,he;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],s=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],l=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],h=e[6]^e[16]^e[26]^e[36]^e[46],u=e[7]^e[17]^e[27]^e[37]^e[47],t=(d=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|a>>>31),r=(f=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(l<<1|c>>>31),r=s^(c<<1|l>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(h<<1|u>>>31),r=a^(u<<1|h>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=l^(d<<1|f>>>31),r=c^(f<<1|d>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=h^(i<<1|s>>>31),r=u^(s<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,p=e[0],g=e[1],V=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,P=e[20]<<3|e[21]>>>29,E=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,le=e[30]<<9|e[31]>>>23,q=e[40]<<18|e[41]>>>14,U=e[41]<<18|e[40]>>>14,R=e[2]<<1|e[3]>>>31,$=e[3]<<1|e[2]>>>31,x=e[13]<<12|e[12]>>>20,O=e[12]<<12|e[13]>>>20,W=e[22]<<10|e[23]>>>22,G=e[23]<<10|e[22]>>>22,Q=e[33]<<13|e[32]>>>19,C=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,D=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,v=e[25]<<11|e[24]>>>21,y=e[24]<<11|e[25]>>>21,H=e[34]<<15|e[35]>>>17,K=e[35]<<15|e[34]>>>17,M=e[45]<<29|e[44]>>>3,T=e[44]<<29|e[45]>>>3,N=e[6]<<28|e[7]>>>4,j=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,I=e[26]<<25|e[27]>>>7,Z=e[27]<<25|e[26]>>>7,b=e[36]<<21|e[37]>>>11,w=e[37]<<21|e[36]>>>11,J=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,X=e[8]<<27|e[9]>>>5,F=e[9]<<27|e[8]>>>5,_=e[18]<<20|e[19]>>>12,A=e[19]<<20|e[18]>>>12,se=e[29]<<7|e[28]>>>25,oe=e[28]<<7|e[29]>>>25,B=e[38]<<8|e[39]>>>24,z=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=p^~x&v,e[1]=g^~O&y,e[10]=N^~_&P,e[11]=j^~A&E,e[20]=R^~D&I,e[21]=$^~L&Z,e[30]=X^~V&W,e[31]=F^~Y&G,e[40]=te^~ne&se,e[41]=re^~ie&oe,e[2]=x^~v&b,e[3]=O^~y&w,e[12]=_^~P&Q,e[13]=A^~E&C,e[22]=D^~I&B,e[23]=L^~Z&z,e[32]=V^~W&H,e[33]=Y^~G&K,e[42]=ne^~se&ae,e[43]=ie^~oe&le,e[4]=v^~b&k,e[5]=y^~w&S,e[14]=P^~Q&M,e[15]=E^~C&T,e[24]=I^~B&q,e[25]=Z^~z&U,e[34]=W^~H&J,e[35]=G^~K&ee,e[44]=se^~ae&ce,e[45]=oe^~le&he,e[6]=b^~k&p,e[7]=w^~S&g,e[16]=Q^~M&N,e[17]=C^~T&j,e[26]=B^~q&R,e[27]=z^~U&$,e[36]=H^~J&X,e[37]=K^~ee&F,e[46]=ae^~ce&te,e[47]=le^~he&re,e[8]=k^~p&x,e[9]=S^~g&O,e[18]=M^~N&_,e[19]=T^~j&A,e[28]=q^~R&D,e[29]=U^~$&L,e[38]=J^~X&V,e[39]=ee^~F&Y,e[48]=ce^~te&ne,e[49]=he^~re&ie,e[0]^=m[n],e[1]^=m[n+1]};if(l)e.exports=j;else{for(A=0;A<_.length;++A)o[_[A]]=j[_[A]];c&&(void 0===(n=function(){return j}.call(t,r,t,e))||(e.exports=n))}}()},728:(e,t,r)=>{"use strict";r.d(t,{PH:()=>m,Qj:()=>f,RY:()=>C,Z6:()=>c,cF:()=>n,fI:()=>h,iX:()=>T,rr:()=>M,uY:()=>o});const n=1024;let i=0;class s{constructor(e,t){this.from=e,this.to=t}}class o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.id=i++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=c.match(e)),t=>{let r=e(t);return void 0===r?null:[this,r]}}}o.closedBy=new o({deserialize:e=>e.split(" ")}),o.openedBy=new o({deserialize:e=>e.split(" ")}),o.group=new o({deserialize:e=>e.split(" ")}),o.isolate=new o({deserialize:e=>{if(e&&"rtl"!=e&&"ltr"!=e&&"auto"!=e)throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}}),o.contextHash=new o({perNode:!0}),o.lookAhead=new o({perNode:!0}),o.mounted=new o({perNode:!0});class a{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[o.mounted.id]}}const l=Object.create(null);class c{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.name=e,this.props=t,this.id=r,this.flags=n}static define(e){let t=e.props&&e.props.length?Object.create(null):l,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(null==e.name?8:0),n=new c(e.name||"",t,e.id,r);if(e.props)for(let i of e.props)if(Array.isArray(i)||(i=i(n)),i){if(i[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[i[0].id]=i[1]}return n}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if("string"==typeof e){if(this.name==e)return!0;let t=this.prop(o.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let n of r.split(" "))t[n]=e[r];return e=>{for(let r=e.prop(o.group),n=-1;n<(r?r.length:0);n++){let i=t[n<0?e.name:r[n]];if(i)return i}}}}c.none=new c("",Object.create(null),0,8);class h{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(){let e=[];for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(let i of this.types){let t=null;for(let e of r){let r=e(i);r&&(t||(t=Object.assign({},i.props)),t[r[0].id]=r[1])}e.push(t?new c(i.name,t,i.id,i.flags):i)}return new h(e)}}const u=new WeakMap,d=new WeakMap;var f;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(f||(f={}));class m{constructor(e,t,r,n,i){if(this.type=e,this.children=t,this.positions=r,this.length=n,this.props=null,i&&i.length){this.props=Object.create(null);for(let[e,t]of i)this.props["number"==typeof e?e:e.id]=t}}toString(){let e=a.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let e=r.toString();e&&(t&&(t+=","),t+=e)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new _(this.topNode,e)}cursorAt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=u.get(this)||this.topNode,n=new _(r);return n.moveTo(e,t),u.set(this,n._tree),n}get topNode(){return new y(this,0,0,null)}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=O(u.get(this)||this.topNode,e,t,!1);return u.set(this,r),r}resolveInner(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=O(d.get(this)||this.topNode,e,t,!0);return d.set(this,r),r}resolveStack(e){return function(e,t,r){let n=e.resolveInner(t,r),i=null;for(let s=n instanceof y?n:n.context.parent;s;s=s.parent)if(s.index<0){let e=s.parent;(i||(i=[n])).push(e.resolve(t,r)),s=e}else{let e=a.get(s.tree);if(e&&e.overlay&&e.overlay[0].from<=t&&e.overlay[e.overlay.length-1].to>=t){let o=new y(e.tree,e.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(O(o,t,r,!1))}}return i?N(i):n}(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}iterate(e){let{enter:t,leave:r,from:n=0,to:i=this.length}=e,s=e.mode||0,o=(s&f.IncludeAnonymous)>0;for(let a=this.cursor(s|f.IncludeAnonymous);;){let e=!1;if(a.from<=i&&a.to>=n&&(!o&&a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;e=!0}for(;e&&r&&(o||!a.type.isAnonymous)&&r(a),!a.nextSibling();){if(!a.parent())return;e=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:Q(c.none,this.children,this.positions,0,this.children.length,0,this.length,(e,t,r)=>new m(this.type,e,t,r,this.propValues),e.makeTree||((e,t,r)=>new m(c.none,e,t,r)))}static build(e){return function(e){var t;let{buffer:r,nodeSet:i,maxBufferLength:s=n,reused:a=[],minRepeatType:l=i.types.length}=e,c=Array.isArray(r)?new p(r,r.length):r,h=i.types,u=0,d=0;function f(e,t,r,n,o,m){let{id:p,start:k,end:S,size:N}=c,j=d,_=u;for(;N<0;){if(c.next(),-1==N){let t=a[p];return r.push(t),void n.push(k-e)}if(-3==N)return void(u=p);if(-4==N)return void(d=p);throw new RangeError(`Unrecognized record size: ${N}`)}let A,P,E=h[p],C=k-e;if(S-k<=s&&(P=b(c.pos-t,o))){let t=new Uint16Array(P.size-P.skip),r=c.pos-P.size,n=t.length;for(;c.pos>r;)n=w(P.start,t,n);A=new g(t,S-P.start,i),C=P.start-e}else{let e=c.pos-N;c.next();let t=[],r=[],n=p>=l?p:-1,i=0,o=S;for(;c.pos>e;)n>=0&&c.id==n&&c.size>=0?(c.end<=o-s&&(v(t,r,k,i,c.end,o,n,j,_),i=t.length,o=c.end),c.next()):m>2500?x(k,e,t,r):f(k,e,t,r,n,m+1);if(n>=0&&i>0&&i<t.length&&v(t,r,k,i,k,o,n,j,_),t.reverse(),r.reverse(),n>-1&&i>0){let e=O(E,_);A=Q(E,t,r,0,t.length,0,S-k,e,e)}else A=y(E,t,r,S-k,j-S,_)}r.push(A),n.push(C)}function x(e,t,r,n){let o=[],a=0,l=-1;for(;c.pos>t;){let{id:e,start:t,end:r,size:n}=c;if(n>4)c.next();else{if(l>-1&&t<l)break;l<0&&(l=r-s),o.push(e,t,r),a++,c.next()}}if(a){let t=new Uint16Array(4*a),s=o[o.length-2];for(let e=o.length-3,r=0;e>=0;e-=3)t[r++]=o[e],t[r++]=o[e+1]-s,t[r++]=o[e+2]-s,t[r++]=r;r.push(new g(t,o[2]-s,i)),n.push(s-e)}}function O(e,t){return(r,n,i)=>{let s,a,l=0,c=r.length-1;if(c>=0&&(s=r[c])instanceof m){if(!c&&s.type==e&&s.length==i)return s;(a=s.prop(o.lookAhead))&&(l=n[c]+s.length+a)}return y(e,r,n,i,l,t)}}function v(e,t,r,n,s,o,a,l,c){let h=[],u=[];for(;e.length>n;)h.push(e.pop()),u.push(t.pop()+r-s);e.push(y(i.types[a],h,u,o-s,l-o,c)),t.push(s-r)}function y(e,t,r,n,i,s,a){if(s){let e=[o.contextHash,s];a=a?[e].concat(a):[e]}if(i>25){let e=[o.lookAhead,i];a=a?[e].concat(a):[e]}return new m(e,t,r,n,a)}function b(e,t){let r=c.fork(),n=0,i=0,o=0,a=r.end-s,h={size:0,start:0,skip:0};e:for(let s=r.pos-e;r.pos>s;){let e=r.size;if(r.id==t&&e>=0){h.size=n,h.start=i,h.skip=o,o+=4,n+=4,r.next();continue}let c=r.pos-e;if(e<0||c<s||r.start<a)break;let u=r.id>=l?4:0,d=r.start;for(r.next();r.pos>c;){if(r.size<0){if(-3!=r.size)break e;u+=4}else r.id>=l&&(u+=4);r.next()}i=d,n+=e,o+=u}return(t<0||n==e)&&(h.size=n,h.start=i,h.skip=o),h.size>4?h:void 0}function w(e,t,r){let{id:n,start:i,end:s,size:o}=c;if(c.next(),o>=0&&n<l){let a=r;if(o>4){let n=c.pos-(o-4);for(;c.pos>n;)r=w(e,t,r)}t[--r]=a,t[--r]=s-e,t[--r]=i-e,t[--r]=n}else-3==o?u=n:-4==o&&(d=n);return r}let k=[],S=[];for(;c.pos>0;)f(e.start||0,e.bufferStart||0,k,S,-1,0);let N=null!==(t=e.length)&&void 0!==t?t:k.length?S[0]+k[0].length:0;return new m(h[e.topID],k.reverse(),S.reverse(),N)}(e)}}m.empty=new m(c.none,[],[],0);class p{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new p(this.buffer,this.index)}}class g{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return c.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],n=this.set.types[t],i=n.name;if(/\W/.test(i)&&!n.isError&&(i=JSON.stringify(i)),r==(e+=4))return i;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return i+"("+s.join(",")+")"}findChild(e,t,r,n,i){let{buffer:s}=this,o=-1;for(let a=e;a!=t&&!(x(i,n,s[a+1],s[a+2])&&(o=a,r>0));a=s[a+3]);return o}slice(e,t,r){let n=this.buffer,i=new Uint16Array(t-e),s=0;for(let o=e,a=0;o<t;){i[a++]=n[o++],i[a++]=n[o++]-r;let t=i[a++]=n[o++]-r;i[a++]=n[o++]-e,s=Math.max(s,t)}return new g(i,s,this.set)}}function x(e,t,r,n){switch(e){case-2:return r<t;case-1:return n>=t&&r<t;case 0:return r<t&&n>t;case 1:return r<=t&&n>t;case 2:return n>t;case 4:return!0}}function O(e,t,r,n){for(var i;e.from==e.to||(r<1?e.from>=t:e.from>t)||(r>-1?e.to<=t:e.to<t);){let t=!n&&e instanceof y&&e.index<0?null:e.parent;if(!t)return e;e=t}let s=n?0:f.IgnoreOverlays;if(n)for(let o=e,a=o.parent;a;o=a,a=o.parent)o instanceof y&&o.index<0&&(null===(i=a.enter(t,r,s))||void 0===i?void 0:i.from)!=o.from&&(e=a);for(;;){let n=e.enter(t,r,s);if(!n)return e;e=n}}class v{cursor(){return new _(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)}getChild(e){let t=b(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);return t.length?t[0]:null}getChildren(e){return b(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}resolve(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!1)}resolveInner(e){return O(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,!0)}matchContext(e){return w(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let e=t.lastChild;if(!e||e.to!=t.to)break;e.type.isError&&e.from==e.to?(r=t,t=e.prevSibling):t=e}return r}get node(){return this}get next(){return this.parent}}class y extends v{constructor(e,t,r,n){super(),this._tree=e,this.from=t,this.index=r,this._parent=n}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;for(let s=this;;){for(let{children:o,positions:l}=s._tree,c=t>0?o.length:-1;e!=c;e+=t){let c=o[e],h=l[e]+s.from;if(x(n,r,h,h+c.length))if(c instanceof g){if(i&f.ExcludeBuffers)continue;let o=c.findChild(0,c.buffer.length,t,r-h,n);if(o>-1)return new S(new k(s,c,e,h),null,o)}else if(i&f.IncludeAnonymous||!c.type.isAnonymous||A(c)){let o;if(!(i&f.IgnoreMounts)&&(o=a.get(c))&&!o.overlay)return new y(o.tree,h,e,s);let l=new y(c,h,e,s);return i&f.IncludeAnonymous||!l.type.isAnonymous?l:l.nextChild(t<0?c.children.length-1:0,t,r,n)}}if(i&f.IncludeAnonymous||!s.type.isAnonymous)return null;if(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,s=s._parent,!s)return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(n&f.IgnoreOverlays)&&(r=a.get(this._tree))&&r.overlay){let n=e-this.from;for(let{from:e,to:i}of r.overlay)if((t>0?e<=n:e<n)&&(t<0?i>=n:i>n))return new y(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function b(e,t,r,n){let i=e.cursor(),s=[];if(!i.firstChild())return s;if(null!=r)for(let o=!1;!o;)if(o=i.type.is(r),!i.nextSibling())return s;for(;;){if(null!=n&&i.type.is(n))return s;if(i.type.is(t)&&s.push(i.node),!i.nextSibling())return null==n?s:[]}}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;for(let n=e;r>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(t[r]&&t[r]!=n.name)return!1;r--}}return!0}class k{constructor(e,t,r,n){this.parent=e,this.buffer=t,this.index=r,this.start=n}}class S extends v{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:n}=this.context,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.context.start,r);return i<0?null:new S(this.context,this,i)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t){if((arguments.length>2&&void 0!==arguments[2]?arguments[2]:0)&f.ExcludeBuffers)return null;let{buffer:r}=this.context,n=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return n<0?null:new S(this.context,this,n)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new S(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new S(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,n=this.index+4,i=r.buffer[this.index+3];if(i>n){let s=r.buffer[this.index+1];e.push(r.slice(n,i,s)),t.push(0)}return new m(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function N(e){if(!e.length)return null;let t=0,r=e[0];for(let s=1;s<e.length;s++){let n=e[s];(n.from>r.from||n.to<r.to)&&(r=n,t=s)}let n=r instanceof y&&r.index<0?null:r.parent,i=e.slice();return n?i[t]=n:i.splice(t,1),new j(i,r)}class j{constructor(e,t){this.heads=e,this.node=t}get next(){return N(this.heads)}}class _{get name(){return this.type.name}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof y)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let t=e._parent;t;t=t._parent)this.stack.unshift(t.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:n}=this.buffer;return this.type=t||n.set.types[n.buffer[e]],this.from=r+n.buffer[e+1],this.to=r+n.buffer[e+2],!0}yield(e){return!!e&&(e instanceof y?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:n}=this.buffer,i=n.findChild(this.index+4,n.buffer[this.index+3],e,t-this.buffer.start,r);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(r&f.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&f.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&f.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let e=r<0?0:this.stack[r]+4;if(this.index!=e)return this.yieldBuf(t.findChild(e,this.index,-1,0,4))}else{let e=t.buffer[this.index+3];if(e<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(e)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:n}=this;if(n){if(e>0){if(this.index<n.buffer.buffer.length)return!1}else for(let e=0;e<this.index;e++)if(n.buffer.buffer[e+3]<this.index)return!1;({index:t,parent:r}=n)}else({index:t,_parent:r}=this._tree);for(;r;({index:t,_parent:r}=r))if(t>-1)for(let n=t+e,i=e<0?-1:r._tree.children.length;n!=i;n+=e){let e=r._tree.children[n];if(this.mode&f.IncludeAnonymous||e instanceof g||!e.type.isAnonymous||A(e))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}prev(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}moveTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let n=this.index,i=this.stack.length;i>=0;){for(let s=e;s;s=s._parent)if(s.index==n){if(n==this.index)return s;t=s,r=i+1;break e}n=this.stack[--i]}for(let n=r;n<this.stack.length;n++)t=new S(this.buffer,t,this.stack[n]);return this.bufferNode=new S(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let n=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){r++;continue}this.type.isAnonymous||(n=!0)}for(;;){if(n&&t&&t(this),n=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,n=!0}}}matchContext(e){if(!this.buffer)return w(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let n=e.length-1,i=this.stack.length-1;n>=0;i--){if(i<0)return w(this._tree,e,n);let s=r[t.buffer[this.stack[i]]];if(!s.isAnonymous){if(e[n]&&e[n]!=s.name)return!1;n--}}return!0}}function A(e){return e.children.some(e=>e instanceof g||!e.type.isAnonymous||A(e))}const P=new WeakMap;function E(e,t){if(!e.isAnonymous||t instanceof g||t.type!=e)return 1;let r=P.get(t);if(null==r){r=1;for(let n of t.children){if(n.type!=e||!(n instanceof m)){r=1;break}r+=E(e,n)}P.set(t,r)}return r}function Q(e,t,r,n,i,s,o,a,l){let c=0;for(let f=n;f<i;f++)c+=E(e,t[f]);let h=Math.ceil(1.5*c/8),u=[],d=[];return function t(r,n,i,o,a){for(let c=i;c<o;){let i=c,f=n[c],m=E(e,r[c]);for(c++;c<o;c++){let t=E(e,r[c]);if(m+t>=h)break;m+=t}if(c==i+1){if(m>h){let e=r[i];t(e.children,e.positions,0,e.children.length,n[i]+a);continue}u.push(r[i])}else{let t=n[c-1]+r[c-1].length-f;u.push(Q(e,r,n,i,c,f,t,null,l))}d.push(f+a-s)}}(t,r,n,i,0),(a||l)(u,d,o)}class C{constructor(){this.map=new WeakMap}setBuffer(e,t,r){let n=this.map.get(e);n||this.map.set(e,n=new Map),n.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof S?this.setBuffer(e.context.buffer,e.index,t):e instanceof y&&this.map.set(e.tree,t)}get(e){return e instanceof S?this.getBuffer(e.context.buffer,e.index):e instanceof y?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class M{constructor(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.from=e,this.to=t,this.tree=r,this.offset=n,this.open=(i?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[new M(0,e.length,e,0,!1,r)];for(let i of t)i.to>e.length&&n.push(i);return n}static applyChanges(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!t.length)return e;let n=[],i=1,s=e.length?e[0]:null;for(let o=0,a=0,l=0;;o++){let c=o<t.length?t[o]:null,h=c?c.fromA:1e9;if(h-a>=r)for(;s&&s.from<h;){let t=s;if(a>=t.from||h<=t.to||l){let e=Math.max(t.from,a)-l,r=Math.min(t.to,h)-l;t=e>=r?null:new M(e,r,t.tree,t.offset+l,o>0,!!c)}if(t&&n.push(t),s.to>h)break;s=i<e.length?e[i++]:null}if(!c)break;a=c.toA,l=c.toA-c.toB}return n}}class T{startParse(e,t,r){return"string"==typeof e&&(e=new R(e)),r=r?r.length?r.map(e=>new s(e.from,e.to)):[new s(0,0)]:[new s(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let n=this.startParse(e,t,r);for(;;){let e=n.advance();if(e)return e}}}class R{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new o({perNode:!0})},761:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<s(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var a=2*(n+1)-1,l=e[a],c=a+1,h=e[c];if(0>s(l,r))c<i&&0>s(h,l)?(e[n]=h,e[c]=r,n=c):(e[n]=l,e[a]=r,n=a);else{if(!(c<i&&0>s(h,r)))break e;e[n]=h,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],u=1,d=null,f=3,m=!1,p=!1,g=!1,x="function"===typeof setTimeout?setTimeout:null,O="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=n(h);null!==t;){if(null===t.callback)i(h);else{if(!(t.startTime<=e))break;i(h),t.sortIndex=t.expirationTime,r(c,t)}t=n(h)}}function b(e){if(g=!1,y(e),!p)if(null!==n(c))p=!0,M(w);else{var t=n(h);null!==t&&T(b,t.startTime-e)}}function w(e,r){p=!1,g&&(g=!1,O(j),j=-1),m=!0;var s=f;try{for(y(r),d=n(c);null!==d&&(!(d.expirationTime>r)||e&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof a?d.callback=a:d===n(c)&&i(c),y(r)}else i(c);d=n(c)}if(null!==d)var l=!0;else{var u=n(h);null!==u&&T(b,u.startTime-r),l=!1}return l}finally{d=null,f=s,m=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,N=null,j=-1,_=5,A=-1;function P(){return!(t.unstable_now()-A<_)}function E(){if(null!==N){var e=t.unstable_now();A=e;var r=!0;try{r=N(!0,e)}finally{r?k():(S=!1,N=null)}}else S=!1}if("function"===typeof v)k=function(){v(E)};else if("undefined"!==typeof MessageChannel){var Q=new MessageChannel,C=Q.port2;Q.port1.onmessage=E,k=function(){C.postMessage(null)}}else k=function(){x(E,0)};function M(e){N=e,S||(S=!0,k())}function T(e,r){j=x(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||m||(p=!0,M(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,r(h,e),null===n(c)&&e===n(h)&&(g?(O(j),j=-1):g=!0,T(b,s-o))):(e.sortIndex=a,r(c,e),p||m||(p=!0,M(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},768:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(950),_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(335),_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(653),_codemirror_theme_one_dark__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(567),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(414);const ScenarioEditor=_ref=>{let{scenarioName:scenarioName,onSave:onSave,onCancel:onCancel}=_ref;const[scenarioContent,setScenarioContent]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),[activeTab,setActiveTab]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("flowchart"),[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!0),[saving,setSaving]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[errors,setErrors]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),[parsedScenario,setParsedScenario]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),loadScenario=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async()=>{try{setLoading(!0);const e=await fetch(`/api/scenarios/${scenarioName}`);if(e.ok){const t=await e.json();setScenarioContent(t.content||""),parseScenario(t.content||"")}else setErrors({load:"Failed to load scenario"})}catch(e){setErrors({load:e.message})}finally{setLoading(!1)}},[scenarioName]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{scenarioName&&loadScenario()},[scenarioName,loadScenario]);const parseScenario=content=>{try{const metadataMatch=content.match(/export\s+const\s+metadata\s*=\s*({[\s\S]*?});/),scenariosMatch=content.match(/export\s+const\s+scenarios\s*=\s*(\[[\s\S]*?\]);/);let metadata={},scenarios=[];metadataMatch&&(metadata=eval(`(${metadataMatch[1]})`)),scenariosMatch&&(scenarios=eval(`(${scenariosMatch[1]})`)),setParsedScenario({metadata:metadata,scenarios:scenarios})}catch(e){console.error("Error parsing scenario:",e),setParsedScenario(null)}},handleContentChange=e=>{setScenarioContent(e),parseScenario(e)},validateScenario=()=>{const e={};scenarioContent.trim()||(e.content="Scenario content is required");try{new Function(scenarioContent)}catch(t){e.content=`Syntax error: ${t.message}`}return setErrors(e),0===Object.keys(e).length},handleSave=async()=>{if(validateScenario())try{setSaving(!0);if(!(await fetch(`/api/scenarios/${scenarioName}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:scenarioContent})})).ok)throw new Error("Failed to save scenario");onSave&&onSave(scenarioName)}catch(e){setErrors({save:e.message})}finally{setSaving(!1)}},renderFlowchartView=()=>parsedScenario&&parsedScenario.scenarios?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-xl p-6 border border-blue-700/50",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center text-white",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-info-circle text-blue-400 mr-2"}),"Scenario Metadata"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-blue-300 text-sm font-medium",children:"Name:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-white",children:parsedScenario.metadata.name||"Unnamed"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-blue-300 text-sm font-medium",children:"Version:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-white",children:parsedScenario.metadata.version||"N/A"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"md:col-span-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-blue-300 text-sm font-medium",children:"Description:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-white",children:parsedScenario.metadata.description||"No description"})]}),parsedScenario.metadata.tags&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"md:col-span-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-blue-300 text-sm font-medium",children:"Tags:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:parsedScenario.metadata.tags.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-600/20 text-blue-300",children:e},t))})]})]})]}),parsedScenario.scenarios.map((e,t)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center text-white",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-play text-green-400 mr-2"}),e.name||`Scenario ${t+1}`]}),e.description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-gray-400 mb-4",children:e.description}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"space-y-3",children:e.steps&&e.steps.map((t,r)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-shrink-0 w-8 h-8 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-full flex items-center justify-center text-white text-sm font-bold",children:r+1}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-1 ml-4 p-4 bg-gray-900/50 border border-gray-700 rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h4",{className:"font-medium text-white mb-1",children:t.name||`Step ${r+1}`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-400",children:"Action:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml-1 px-2 py-1 bg-blue-600/20 text-blue-300 rounded text-xs",children:t.action})]}),t.contract&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-400",children:"Contract:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml-1 text-purple-300",children:t.contract})]}),t.function&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-400",children:"Function:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml-1 text-green-300",children:t.function})]})]}),t.expect&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"mt-2 text-xs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-gray-400",children:"Expected:"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"ml-1 text-yellow-300",children:JSON.stringify(t.expect)})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex-shrink-0 ml-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:`fas ${getStepIcon(t.action)} text-gray-400`})})]})})]}),r<e.steps.length-1&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex justify-start ml-4 py-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-px h-6 bg-gradient-to-b from-purple-500 to-indigo-600"})})]},r))})]},t))]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center py-16",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-code text-gray-500 text-4xl mb-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{className:"text-xl text-gray-400 mb-2",children:"Unable to Parse Scenario"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-gray-500",children:"Switch to the Code tab to edit the scenario"})]}),getStepIcon=e=>{switch(e){case"deploy":return"fa-rocket";case"call":return"fa-play";case"send":return"fa-paper-plane";case"wait":return"fa-clock";case"assert":return"fa-check";case"expect":return"fa-eye";default:return"fa-cog"}},tabs=[{id:"flowchart",label:"Flowchart View",icon:"fas fa-project-diagram"},{id:"code",label:"Code Editor",icon:"fas fa-code"}];return loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"text-center space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full animate-pulse"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full animate-ping opacity-20"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Loading Scenario"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("p",{className:"text-gray-400",children:["Fetching ",scenarioName,"..."]})]})]})}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-edit text-white text-xl"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Edit Scenario"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-gray-400",children:scenarioName})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:onCancel,disabled:saving,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("button",{onClick:handleSave,disabled:saving,className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:saving?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Saving..."]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-save"}),"Save Changes"]})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"flex space-x-1 p-1 bg-gray-900/50 rounded-lg",children:tabs.map(e=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:()=>setActiveTab(e.id),className:"flex-1 px-4 py-2 rounded-md font-medium transition-all flex items-center justify-center gap-2 "+(activeTab===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800/50"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:e.icon}),e.label]},e.id))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"space-y-6",children:["flowchart"===activeTab&&renderFlowchartView(),"code"===activeTab&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("h3",{className:"text-lg font-bold flex items-center text-white",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-code text-purple-400 mr-2"}),"Scenario Code"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"text-xs text-gray-400",children:"JavaScript/TypeScript"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_uiw_react_codemirror__WEBPACK_IMPORTED_MODULE_1__.Ay,{value:scenarioContent,onChange:handleContentChange,extensions:[(0,_codemirror_lang_javascript__WEBPACK_IMPORTED_MODULE_2__.Q2)()],theme:_codemirror_theme_one_dark__WEBPACK_IMPORTED_MODULE_3__.bM,style:{fontSize:"14px",minHeight:"500px"},basicSetup:{lineNumbers:!0,foldGutter:!0,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,highlightSelectionMatches:!1}})}),errors.content&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text-red-400 text-sm mt-2",children:errors.content})]})]}),(errors.load||errors.save)&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"p-4 bg-red-900/30 border border-red-700 rounded-lg",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"text-red-300",children:errors.load||errors.save})]})})]})},__WEBPACK_DEFAULT_EXPORT__=ScenarioEditor},790:()=>{},794:(e,t,r)=>{"use strict";r.d(t,{DM:()=>d,_A:()=>P,az:()=>u,pn:()=>l});var n=r(728);let i=0;class s{constructor(e,t,r,n){this.name=e,this.set=t,this.base=r,this.modified=n,this.id=i++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r="string"==typeof e?e:"?";if(e instanceof s&&(t=e),null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");let n=new s(r,[],null,[]);if(n.set.push(n),t)for(let i of t.set)n.set.push(i);return n}static defineModifier(e){let t=new a(e);return e=>e.modified.indexOf(t)>-1?e:a.get(e.base||e,e.modified.concat(t).sort((e,t)=>e.id-t.id))}}let o=0;class a{constructor(e){this.name=e,this.instances=[],this.id=o++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(r=>{return r.base==e&&(n=t,i=r.modified,n.length==i.length&&n.every((e,t)=>e==i[t]));var n,i});if(r)return r;let n=[],i=new s(e.name,n,e,t);for(let s of t)s.instances.push(i);let o=function(e){let t=[[]];for(let r=0;r<e.length;r++)for(let n=0,i=t.length;n<i;n++)t.push(t[n].concat(e[r]));return t.sort((e,t)=>t.length-e.length)}(t);for(let s of e.set)if(!s.modified.length)for(let e of o)n.push(a.get(s,e));return i}}function l(e){let t=Object.create(null);for(let r in e){let n=e[r];Array.isArray(n)||(n=[n]);for(let e of r.split(" "))if(e){let r=[],i=2,s=e;for(let t=0;;){if("..."==s&&t>0&&t+3==e.length){i=1;break}let n=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!n)throw new RangeError("Invalid path: "+e);if(r.push("*"==n[0]?"":'"'==n[0][0]?JSON.parse(n[0]):n[0]),t+=n[0].length,t==e.length)break;let o=e[t++];if(t==e.length&&"!"==o){i=0;break}if("/"!=o)throw new RangeError("Invalid path: "+e);s=e.slice(t)}let o=r.length-1,a=r[o];if(!a)throw new RangeError("Invalid path: "+e);let l=new h(n,i,o>0?r.slice(0,o):null);t[a]=l.sort(t[a])}}return c.add(t)}const c=new n.uY;class h{constructor(e,t,r,n){this.tags=e,this.mode=t,this.context=r,this.next=n}get opaque(){return 0==this.mode}get inherit(){return 1==this.mode}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function u(e,t){let r=Object.create(null);for(let s of e)if(Array.isArray(s.tag))for(let e of s.tag)r[e.id]=s.class;else r[s.tag.id]=s.class;let{scope:n,all:i=null}=t||{};return{style:e=>{let t=i;for(let n of e)for(let e of n.set){let n=r[e.id];if(n){t=t?t+" "+n:n;break}}return t},scope:n}}function d(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,s=new f(n,Array.isArray(t)?t:[t],r);s.highlightRange(e.cursor(),n,i,"",s.highlighters),s.flush(i)}h.empty=new h([],2,null);class f{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:a,to:l}=e;if(a>=r||l<=t)return;o.isTop&&(s=this.highlighters.filter(e=>!e.scope||e.scope(o)));let u=i,d=function(e){let t=e.type.prop(c);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||h.empty,f=function(e,t){let r=null;for(let n of e){let e=n.style(t);e&&(r=r?r+" "+e:e)}return r}(s,d.tags);if(f&&(u&&(u+=" "),u+=f,1==d.mode&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(t,a),u),d.opaque)return;let m=e.tree&&e.tree.prop(n.uY.mounted);if(m&&m.overlay){let n=e.node.enter(m.overlay[0].from+a,1),o=this.highlighters.filter(e=>!e.scope||e.scope(m.tree.type)),c=e.firstChild();for(let h=0,d=a;;h++){let f=h<m.overlay.length?m.overlay[h]:null,p=f?f.from+a:l,g=Math.max(t,d),x=Math.min(r,p);if(g<x&&c)for(;e.from<x&&(this.highlightRange(e,g,x,i,s),this.startSpan(Math.min(x,e.to),u),!(e.to>=p)&&e.nextSibling()););if(!f||p>r)break;d=f.to+a,d>t&&(this.highlightRange(n.cursor(),Math.max(t,f.from+a),Math.min(r,d),"",o),this.startSpan(Math.min(r,d),u))}c&&e.parent()}else if(e.firstChild()){m&&(i="");do{if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),u)}}while(e.nextSibling());e.parent()}}}const m=s.define,p=m(),g=m(),x=m(g),O=m(g),v=m(),y=m(v),b=m(v),w=m(),k=m(w),S=m(),N=m(),j=m(),_=m(j),A=m(),P={comment:p,lineComment:m(p),blockComment:m(p),docComment:m(p),name:g,variableName:m(g),typeName:x,tagName:m(x),propertyName:O,attributeName:m(O),className:m(g),labelName:m(g),namespace:m(g),macroName:m(g),literal:v,string:y,docString:m(y),character:m(y),attributeValue:m(y),number:b,integer:m(b),float:m(b),bool:m(v),regexp:m(v),escape:m(v),color:m(v),url:m(v),keyword:S,self:m(S),null:m(S),atom:m(S),unit:m(S),modifier:m(S),operatorKeyword:m(S),controlKeyword:m(S),definitionKeyword:m(S),moduleKeyword:m(S),operator:N,derefOperator:m(N),arithmeticOperator:m(N),logicOperator:m(N),bitwiseOperator:m(N),compareOperator:m(N),updateOperator:m(N),definitionOperator:m(N),typeOperator:m(N),controlOperator:m(N),punctuation:j,separator:m(j),bracket:_,angleBracket:m(_),squareBracket:m(_),paren:m(_),brace:m(_),content:w,heading:k,heading1:m(k),heading2:m(k),heading3:m(k),heading4:m(k),heading5:m(k),heading6:m(k),contentSeparator:m(w),list:m(w),quote:m(w),emphasis:m(w),strong:m(w),link:m(w),monospace:m(w),strikethrough:m(w),inserted:m(),deleted:m(),changed:m(),invalid:m(),meta:A,documentMeta:m(A),annotation:m(A),processingInstruction:m(A),definition:s.defineModifier("definition"),constant:s.defineModifier("constant"),function:s.defineModifier("function"),standard:s.defineModifier("standard"),local:s.defineModifier("local"),special:s.defineModifier("special")};for(let E in P){let e=P[E];e instanceof s&&(e.name=E)}u([{tag:P.link,class:"tok-link"},{tag:P.heading,class:"tok-heading"},{tag:P.emphasis,class:"tok-emphasis"},{tag:P.strong,class:"tok-strong"},{tag:P.keyword,class:"tok-keyword"},{tag:P.atom,class:"tok-atom"},{tag:P.bool,class:"tok-bool"},{tag:P.url,class:"tok-url"},{tag:P.labelName,class:"tok-labelName"},{tag:P.inserted,class:"tok-inserted"},{tag:P.deleted,class:"tok-deleted"},{tag:P.literal,class:"tok-literal"},{tag:P.string,class:"tok-string"},{tag:P.number,class:"tok-number"},{tag:[P.regexp,P.escape,P.special(P.string)],class:"tok-string2"},{tag:P.variableName,class:"tok-variableName"},{tag:P.local(P.variableName),class:"tok-variableName tok-local"},{tag:P.definition(P.variableName),class:"tok-variableName tok-definition"},{tag:P.special(P.variableName),class:"tok-variableName2"},{tag:P.definition(P.propertyName),class:"tok-propertyName tok-definition"},{tag:P.typeName,class:"tok-typeName"},{tag:P.namespace,class:"tok-namespace"},{tag:P.className,class:"tok-className"},{tag:P.macroName,class:"tok-macroName"},{tag:P.propertyName,class:"tok-propertyName"},{tag:P.operator,class:"tok-operator"},{tag:P.comment,class:"tok-comment"},{tag:P.meta,class:"tok-meta"},{tag:P.invalid,class:"tok-invalid"},{tag:P.punctuation,class:"tok-punctuation"}])},876:(e,t,r)=>{"use strict";var n=r(328),i=r(599);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=s,s.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},s.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},s.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},914:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function s(e,t,r){if(s.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var o;"object"===typeof e?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:r(790).Buffer}catch(A){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function l(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var s=0,o=0,a=Math.min(e.length,r),l=t;l<a;l++){var c=e.charCodeAt(l)-48;s*=i,o=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&o<i,"Invalid character"),s+=o}return s}function h(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(s.isBN=function(e){return e instanceof s||null!==e&&"object"===typeof e&&e.constructor.wordSize===s.wordSize&&Array.isArray(e.words)},s.max=function(e,t){return e.cmp(t)>0?e:t},s.min=function(e,t){return e.cmp(t)<0?e:t},s.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},s.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},s.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=e.length-1,s=0;i>=0;i-=3)o=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<e.length;i+=3)o=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},s.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=l(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=l(e,t,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},s.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var s=e.length-r,o=s%n,a=Math.min(s,s-o)+r,l=0,h=r;h<a;h+=n)l=c(e,h,h+n,t),this.imuln(i),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==o){var u=1;for(l=c(e,h,e.length,t),h=0;h<o;h++)u*=t;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},s.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},s.prototype._move=function(e){h(e,this)},s.prototype.clone=function(){var e=new s(null);return this.copy(e),e},s.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=u}catch(A){s.prototype.inspect=u}else s.prototype.inspect=u;function u(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),r=0!==s||o!==this.length-1?d[6-l.length]+l+r:l+r}for(0!==s&&(r=s.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=f[e],h=m[e];r="";var u=this.clone();for(u.negative=0;!u.isZero();){var p=u.modrn(h).toString(e);r=(u=u.idivn(h)).isZero()?p+r:d[c-p.length]+p+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(e,t){return this.toArrayLike(o,e,t)}),s.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],s=0|t.words[0],o=i*s,a=67108863&o,l=o/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var h=l>>>26,u=67108863&l,d=Math.min(c,t.length-1),f=Math.max(0,c-e.length+1);f<=d;f++){var m=c-f|0;h+=(o=(i=0|e.words[m])*(s=0|t.words[f])+u)/67108864|0,u=67108863&o}r.words[c]=0|u,l=0|h}return 0!==l?r.words[c]=0|l:r.length--,r._strip()}s.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0");var o=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,s);return this["_toArrayLike"+("le"===t?"LE":"BE")](o,i),o},s.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r++]=255&o,r<e.length&&(e[r++]=o>>8&255),r<e.length&&(e[r++]=o>>16&255),6===s?(r<e.length&&(e[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},s.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;e[r--]=255&o,r>=0&&(e[r--]=o>>8&255),r>=0&&(e[r--]=o>>16&255),6===s?(r>=0&&(e[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?s.prototype._countBits=function(e){return 32-Math.clz32(e)}:s.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},s.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},s.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},s.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},s.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},s.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},s.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},s.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},s.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},s.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},s.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},s.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},s.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},s.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},s.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},s.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},s.prototype.notn=function(e){return this.clone().inotn(e)},s.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},s.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,s=0;s<n.length;s++)t=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&t,i=t>>>26;for(;0!==i&&s<r.length;s++)t=(0|r.words[s])+i,this.words[s]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},s.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var s=0,o=0;o<n.length;o++)s=(t=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&t;for(;0!==s&&o<r.length;o++)s=(t=(0|r.words[o])+s)>>26,this.words[o]=67108863&t;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,r){var n,i,s,o=e.words,a=t.words,l=r.words,c=0,h=0|o[0],u=8191&h,d=h>>>13,f=0|o[1],m=8191&f,p=f>>>13,g=0|o[2],x=8191&g,O=g>>>13,v=0|o[3],y=8191&v,b=v>>>13,w=0|o[4],k=8191&w,S=w>>>13,N=0|o[5],j=8191&N,_=N>>>13,A=0|o[6],P=8191&A,E=A>>>13,Q=0|o[7],C=8191&Q,M=Q>>>13,T=0|o[8],R=8191&T,$=T>>>13,D=0|o[9],L=8191&D,I=D>>>13,Z=0|a[0],B=8191&Z,z=Z>>>13,q=0|a[1],U=8191&q,X=q>>>13,F=0|a[2],V=8191&F,Y=F>>>13,W=0|a[3],G=8191&W,H=W>>>13,K=0|a[4],J=8191&K,ee=K>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],se=8191&ie,oe=ie>>>13,ae=0|a[7],le=8191&ae,ce=ae>>>13,he=0|a[8],ue=8191&he,de=he>>>13,fe=0|a[9],me=8191&fe,pe=fe>>>13;r.negative=e.negative^t.negative,r.length=19;var ge=(c+(n=Math.imul(u,B))|0)+((8191&(i=(i=Math.imul(u,z))+Math.imul(d,B)|0))<<13)|0;c=((s=Math.imul(d,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(m,B),i=(i=Math.imul(m,z))+Math.imul(p,B)|0,s=Math.imul(p,z);var xe=(c+(n=n+Math.imul(u,U)|0)|0)+((8191&(i=(i=i+Math.imul(u,X)|0)+Math.imul(d,U)|0))<<13)|0;c=((s=s+Math.imul(d,X)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(x,B),i=(i=Math.imul(x,z))+Math.imul(O,B)|0,s=Math.imul(O,z),n=n+Math.imul(m,U)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(p,U)|0,s=s+Math.imul(p,X)|0;var Oe=(c+(n=n+Math.imul(u,V)|0)|0)+((8191&(i=(i=i+Math.imul(u,Y)|0)+Math.imul(d,V)|0))<<13)|0;c=((s=s+Math.imul(d,Y)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(y,B),i=(i=Math.imul(y,z))+Math.imul(b,B)|0,s=Math.imul(b,z),n=n+Math.imul(x,U)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(O,U)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(p,V)|0,s=s+Math.imul(p,Y)|0;var ve=(c+(n=n+Math.imul(u,G)|0)|0)+((8191&(i=(i=i+Math.imul(u,H)|0)+Math.imul(d,G)|0))<<13)|0;c=((s=s+Math.imul(d,H)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,B),i=(i=Math.imul(k,z))+Math.imul(S,B)|0,s=Math.imul(S,z),n=n+Math.imul(y,U)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,U)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,Y)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(p,G)|0,s=s+Math.imul(p,H)|0;var ye=(c+(n=n+Math.imul(u,J)|0)|0)+((8191&(i=(i=i+Math.imul(u,ee)|0)+Math.imul(d,J)|0))<<13)|0;c=((s=s+Math.imul(d,ee)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(j,B),i=(i=Math.imul(j,z))+Math.imul(_,B)|0,s=Math.imul(_,z),n=n+Math.imul(k,U)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(S,U)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,Y)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,Y)|0,n=n+Math.imul(x,G)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,H)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(p,J)|0,s=s+Math.imul(p,ee)|0;var be=(c+(n=n+Math.imul(u,re)|0)|0)+((8191&(i=(i=i+Math.imul(u,ne)|0)+Math.imul(d,re)|0))<<13)|0;c=((s=s+Math.imul(d,ne)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(P,B),i=(i=Math.imul(P,z))+Math.imul(E,B)|0,s=Math.imul(E,z),n=n+Math.imul(j,U)|0,i=(i=i+Math.imul(j,X)|0)+Math.imul(_,U)|0,s=s+Math.imul(_,X)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,Y)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,Y)|0,n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,H)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,H)|0,n=n+Math.imul(x,J)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(O,J)|0,s=s+Math.imul(O,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(p,re)|0,s=s+Math.imul(p,ne)|0;var we=(c+(n=n+Math.imul(u,se)|0)|0)+((8191&(i=(i=i+Math.imul(u,oe)|0)+Math.imul(d,se)|0))<<13)|0;c=((s=s+Math.imul(d,oe)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(C,B),i=(i=Math.imul(C,z))+Math.imul(M,B)|0,s=Math.imul(M,z),n=n+Math.imul(P,U)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(E,U)|0,s=s+Math.imul(E,X)|0,n=n+Math.imul(j,V)|0,i=(i=i+Math.imul(j,Y)|0)+Math.imul(_,V)|0,s=s+Math.imul(_,Y)|0,n=n+Math.imul(k,G)|0,i=(i=i+Math.imul(k,H)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,H)|0,n=n+Math.imul(y,J)|0,i=(i=i+Math.imul(y,ee)|0)+Math.imul(b,J)|0,s=s+Math.imul(b,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(O,re)|0,s=s+Math.imul(O,ne)|0,n=n+Math.imul(m,se)|0,i=(i=i+Math.imul(m,oe)|0)+Math.imul(p,se)|0,s=s+Math.imul(p,oe)|0;var ke=(c+(n=n+Math.imul(u,le)|0)|0)+((8191&(i=(i=i+Math.imul(u,ce)|0)+Math.imul(d,le)|0))<<13)|0;c=((s=s+Math.imul(d,ce)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(R,B),i=(i=Math.imul(R,z))+Math.imul($,B)|0,s=Math.imul($,z),n=n+Math.imul(C,U)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(M,U)|0,s=s+Math.imul(M,X)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(E,V)|0,s=s+Math.imul(E,Y)|0,n=n+Math.imul(j,G)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(_,G)|0,s=s+Math.imul(_,H)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(S,J)|0,s=s+Math.imul(S,ee)|0,n=n+Math.imul(y,re)|0,i=(i=i+Math.imul(y,ne)|0)+Math.imul(b,re)|0,s=s+Math.imul(b,ne)|0,n=n+Math.imul(x,se)|0,i=(i=i+Math.imul(x,oe)|0)+Math.imul(O,se)|0,s=s+Math.imul(O,oe)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(p,le)|0,s=s+Math.imul(p,ce)|0;var Se=(c+(n=n+Math.imul(u,ue)|0)|0)+((8191&(i=(i=i+Math.imul(u,de)|0)+Math.imul(d,ue)|0))<<13)|0;c=((s=s+Math.imul(d,de)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(L,B),i=(i=Math.imul(L,z))+Math.imul(I,B)|0,s=Math.imul(I,z),n=n+Math.imul(R,U)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul($,U)|0,s=s+Math.imul($,X)|0,n=n+Math.imul(C,V)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(M,V)|0,s=s+Math.imul(M,Y)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(E,G)|0,s=s+Math.imul(E,H)|0,n=n+Math.imul(j,J)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(_,J)|0,s=s+Math.imul(_,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(S,re)|0,s=s+Math.imul(S,ne)|0,n=n+Math.imul(y,se)|0,i=(i=i+Math.imul(y,oe)|0)+Math.imul(b,se)|0,s=s+Math.imul(b,oe)|0,n=n+Math.imul(x,le)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(O,le)|0,s=s+Math.imul(O,ce)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(p,ue)|0,s=s+Math.imul(p,de)|0;var Ne=(c+(n=n+Math.imul(u,me)|0)|0)+((8191&(i=(i=i+Math.imul(u,pe)|0)+Math.imul(d,me)|0))<<13)|0;c=((s=s+Math.imul(d,pe)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,n=Math.imul(L,U),i=(i=Math.imul(L,X))+Math.imul(I,U)|0,s=Math.imul(I,X),n=n+Math.imul(R,V)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul($,V)|0,s=s+Math.imul($,Y)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(M,G)|0,s=s+Math.imul(M,H)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(E,J)|0,s=s+Math.imul(E,ee)|0,n=n+Math.imul(j,re)|0,i=(i=i+Math.imul(j,ne)|0)+Math.imul(_,re)|0,s=s+Math.imul(_,ne)|0,n=n+Math.imul(k,se)|0,i=(i=i+Math.imul(k,oe)|0)+Math.imul(S,se)|0,s=s+Math.imul(S,oe)|0,n=n+Math.imul(y,le)|0,i=(i=i+Math.imul(y,ce)|0)+Math.imul(b,le)|0,s=s+Math.imul(b,ce)|0,n=n+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,de)|0)+Math.imul(O,ue)|0,s=s+Math.imul(O,de)|0;var je=(c+(n=n+Math.imul(m,me)|0)|0)+((8191&(i=(i=i+Math.imul(m,pe)|0)+Math.imul(p,me)|0))<<13)|0;c=((s=s+Math.imul(p,pe)|0)+(i>>>13)|0)+(je>>>26)|0,je&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,Y))+Math.imul(I,V)|0,s=Math.imul(I,Y),n=n+Math.imul(R,G)|0,i=(i=i+Math.imul(R,H)|0)+Math.imul($,G)|0,s=s+Math.imul($,H)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(M,J)|0,s=s+Math.imul(M,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(E,re)|0,s=s+Math.imul(E,ne)|0,n=n+Math.imul(j,se)|0,i=(i=i+Math.imul(j,oe)|0)+Math.imul(_,se)|0,s=s+Math.imul(_,oe)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(S,le)|0,s=s+Math.imul(S,ce)|0,n=n+Math.imul(y,ue)|0,i=(i=i+Math.imul(y,de)|0)+Math.imul(b,ue)|0,s=s+Math.imul(b,de)|0;var _e=(c+(n=n+Math.imul(x,me)|0)|0)+((8191&(i=(i=i+Math.imul(x,pe)|0)+Math.imul(O,me)|0))<<13)|0;c=((s=s+Math.imul(O,pe)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,H))+Math.imul(I,G)|0,s=Math.imul(I,H),n=n+Math.imul(R,J)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul($,J)|0,s=s+Math.imul($,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(M,re)|0,s=s+Math.imul(M,ne)|0,n=n+Math.imul(P,se)|0,i=(i=i+Math.imul(P,oe)|0)+Math.imul(E,se)|0,s=s+Math.imul(E,oe)|0,n=n+Math.imul(j,le)|0,i=(i=i+Math.imul(j,ce)|0)+Math.imul(_,le)|0,s=s+Math.imul(_,ce)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,de)|0)+Math.imul(S,ue)|0,s=s+Math.imul(S,de)|0;var Ae=(c+(n=n+Math.imul(y,me)|0)|0)+((8191&(i=(i=i+Math.imul(y,pe)|0)+Math.imul(b,me)|0))<<13)|0;c=((s=s+Math.imul(b,pe)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(L,J),i=(i=Math.imul(L,ee))+Math.imul(I,J)|0,s=Math.imul(I,ee),n=n+Math.imul(R,re)|0,i=(i=i+Math.imul(R,ne)|0)+Math.imul($,re)|0,s=s+Math.imul($,ne)|0,n=n+Math.imul(C,se)|0,i=(i=i+Math.imul(C,oe)|0)+Math.imul(M,se)|0,s=s+Math.imul(M,oe)|0,n=n+Math.imul(P,le)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(E,le)|0,s=s+Math.imul(E,ce)|0,n=n+Math.imul(j,ue)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(_,ue)|0,s=s+Math.imul(_,de)|0;var Pe=(c+(n=n+Math.imul(k,me)|0)|0)+((8191&(i=(i=i+Math.imul(k,pe)|0)+Math.imul(S,me)|0))<<13)|0;c=((s=s+Math.imul(S,pe)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(L,re),i=(i=Math.imul(L,ne))+Math.imul(I,re)|0,s=Math.imul(I,ne),n=n+Math.imul(R,se)|0,i=(i=i+Math.imul(R,oe)|0)+Math.imul($,se)|0,s=s+Math.imul($,oe)|0,n=n+Math.imul(C,le)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(M,le)|0,s=s+Math.imul(M,ce)|0,n=n+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(E,ue)|0,s=s+Math.imul(E,de)|0;var Ee=(c+(n=n+Math.imul(j,me)|0)|0)+((8191&(i=(i=i+Math.imul(j,pe)|0)+Math.imul(_,me)|0))<<13)|0;c=((s=s+Math.imul(_,pe)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(L,se),i=(i=Math.imul(L,oe))+Math.imul(I,se)|0,s=Math.imul(I,oe),n=n+Math.imul(R,le)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul($,le)|0,s=s+Math.imul($,ce)|0,n=n+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(M,ue)|0,s=s+Math.imul(M,de)|0;var Qe=(c+(n=n+Math.imul(P,me)|0)|0)+((8191&(i=(i=i+Math.imul(P,pe)|0)+Math.imul(E,me)|0))<<13)|0;c=((s=s+Math.imul(E,pe)|0)+(i>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,n=Math.imul(L,le),i=(i=Math.imul(L,ce))+Math.imul(I,le)|0,s=Math.imul(I,ce),n=n+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,de)|0)+Math.imul($,ue)|0,s=s+Math.imul($,de)|0;var Ce=(c+(n=n+Math.imul(C,me)|0)|0)+((8191&(i=(i=i+Math.imul(C,pe)|0)+Math.imul(M,me)|0))<<13)|0;c=((s=s+Math.imul(M,pe)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(L,ue),i=(i=Math.imul(L,de))+Math.imul(I,ue)|0,s=Math.imul(I,de);var Me=(c+(n=n+Math.imul(R,me)|0)|0)+((8191&(i=(i=i+Math.imul(R,pe)|0)+Math.imul($,me)|0))<<13)|0;c=((s=s+Math.imul($,pe)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Te=(c+(n=Math.imul(L,me))|0)+((8191&(i=(i=Math.imul(L,pe))+Math.imul(I,me)|0))<<13)|0;return c=((s=Math.imul(I,pe))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,l[0]=ge,l[1]=xe,l[2]=Oe,l[3]=ve,l[4]=ye,l[5]=be,l[6]=we,l[7]=ke,l[8]=Se,l[9]=Ne,l[10]=je,l[11]=_e,l[12]=Ae,l[13]=Pe,l[14]=Ee,l[15]=Qe,l[16]=Ce,l[17]=Me,l[18]=Te,0!==c&&(l[19]=c,r.length++),r};function x(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,l=Math.min(s,t.length-1),c=Math.max(0,s-e.length+1);c<=l;c++){var h=s-c,u=(0|e.words[h])*(0|t.words[c]),d=67108863&u;a=67108863&(d=d+a|0),i+=(o=(o=o+(u/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function O(e,t,r){return x(e,t,r)}function v(e,t){this.x=e,this.y=t}Math.imul||(g=p),s.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):r<63?p(this,e,t):r<1024?x(this,e,t):O(this,e,t)},v.prototype.makeRBT=function(e){for(var t=new Array(e),r=s.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},v.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},v.prototype.permute=function(e,t,r,n,i,s){for(var o=0;o<s;o++)n[o]=t[e[o]],i[o]=r[e[o]]},v.prototype.transform=function(e,t,r,n,i,s){this.permute(s,e,t,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,l=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),h=0;h<i;h+=a)for(var u=l,d=c,f=0;f<o;f++){var m=r[h+f],p=n[h+f],g=r[h+f+o],x=n[h+f+o],O=u*g-d*x;x=u*x+d*g,g=O,r[h+f]=m+g,n[h+f]=p+x,r[h+f+o]=m-g,n[h+f+o]=p-x,f!==a&&(O=l*u-c*d,d=l*d+c*u,u=O)}},v.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},v.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},v.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,r,i){for(var s=0,o=0;o<t;o++)s+=0|e[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*t;o<i;++o)r[o]=0;n(0===s),n(0===(-8192&s))},v.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},v.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),l=new Array(n),c=new Array(n),h=new Array(n),u=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,o,n),this.convert13b(t.words,t.length,c,n),this.transform(o,s,a,l,n,i),this.transform(c,s,h,u,n,i);for(var f=0;f<n;f++){var m=a[f]*h[f]-l[f]*u[f];l[f]=a[f]*u[f]+l[f]*h[f],a[f]=m}return this.conjugate(a,l,n),this.transform(a,l,d,s,n,i),this.conjugate(d,s,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},s.prototype.mul=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},s.prototype.mulf=function(e){var t=new s(null);return t.words=new Array(this.length+e.length),O(this,e,t)},s.prototype.imul=function(e){return this.clone().mulTo(e,this)},s.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var s=(0|this.words[i])*e,o=(67108863&s)+(67108863&r);r>>=26,r+=s/67108864|0,r+=o>>>26,this.words[i]=67108863&o}return 0!==r&&(this.words[i]=r,this.length++),this.length=0===e?1:this.length,t?this.ineg():this},s.prototype.muln=function(e){return this.clone().imuln(e)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new s(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(t=0;t<this.length;t++){var a=this.words[t]&s,l=(0|this.words[t])-a<<r;this.words[t]=l|o,o=a>>>26-r}o&&(this.words[t]=o,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},s.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},s.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var s=e%26,o=Math.min((e-s)/26,this.length),a=67108863^67108863>>>s<<s,l=r;if(i-=o,i=Math.max(0,i),l){for(var c=0;c<o;c++)l.words[c]=this.words[c];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,c=0;c<this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var h=0;for(c=this.length-1;c>=0&&(0!==h||c>=i);c--){var u=0|this.words[c];this.words[c]=h<<26-s|u>>>s,h=u&a}return l&&0!==h&&(l.words[l.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},s.prototype.shln=function(e){return this.clone().ishln(e)},s.prototype.ushln=function(e){return this.clone().iushln(e)},s.prototype.shrn=function(e){return this.clone().ishrn(e)},s.prototype.ushrn=function(e){return this.clone().iushrn(e)},s.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},s.prototype.maskn=function(e){return this.clone().imaskn(e)},s.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},s.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},s.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},s.prototype.addn=function(e){return this.clone().iaddn(e)},s.prototype.subn=function(e){return this.clone().isubn(e)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(e,t,r){var i,s,o=e.length+r;this._expand(o);var a=0;for(i=0;i<e.length;i++){s=(0|this.words[i+r])+a;var l=(0|e.words[i])*t;a=((s-=67108863&l)>>26)-(l/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this._strip()},s.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,l=n.length-i.length;if("mod"!==t){(a=new s(null)).length=l+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var h=n.clone()._ishlnsubmul(i,1,l);0===h.negative&&(n=h,a&&(a.words[l]=1));for(var u=l-1;u>=0;u--){var d=67108864*(0|n.words[i.length+u])+(0|n.words[i.length+u-1]);for(d=Math.min(d/o|0,67108863),n._ishlnsubmul(i,d,u);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(i,1,u),n.isZero()||(n.negative^=1);a&&(a.words[u]=d)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(e)),{div:i,mod:o}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(e)),{div:a.div,mod:o}):e.length>this.length||this.cmp(e)<0?{div:new s(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new s(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new s(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,o,a},s.prototype.div=function(e){return this.divmod(e,"div",!1).div},s.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},s.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},s.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},s.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,s=this.length-1;s>=0;s--)i=(r*i+(0|this.words[s]))%e;return t?-i:i},s.prototype.modn=function(e){return this.modrn(e)},s.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*r;this.words[i]=s/e|0,r=s%e}return this._strip(),t?this.ineg():this},s.prototype.divn=function(e){return this.clone().idivn(e)},s.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new s(1),o=new s(0),a=new s(0),l=new s(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var h=r.clone(),u=t.clone();!t.isZero();){for(var d=0,f=1;0===(t.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(h),o.isub(u)),i.iushrn(1),o.iushrn(1);for(var m=0,p=1;0===(r.words[0]&p)&&m<26;++m,p<<=1);if(m>0)for(r.iushrn(m);m-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(h),l.isub(u)),a.iushrn(1),l.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),o.isub(l)):(r.isub(t),a.isub(i),l.isub(o))}return{a:a,b:l,gcd:r.iushln(c)}},s.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,o=new s(1),a=new s(0),l=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,h=1;0===(t.words[0]&h)&&c<26;++c,h<<=1);if(c>0)for(t.iushrn(c);c-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var u=0,d=1;0===(r.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(r.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),o.isub(a)):(r.isub(t),a.isub(o))}return(i=0===t.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(e),i},s.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var s=t;t=r,r=s}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},s.prototype.invm=function(e){return this.egcd(e).a.umod(e)},s.prototype.isEven=function(){return 0===(1&this.words[0])},s.prototype.isOdd=function(){return 1===(1&this.words[0])},s.prototype.andln=function(e){return this.words[0]&e},s.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},s.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},s.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},s.prototype.gtn=function(e){return 1===this.cmpn(e)},s.prototype.gt=function(e){return 1===this.cmp(e)},s.prototype.gten=function(e){return this.cmpn(e)>=0},s.prototype.gte=function(e){return this.cmp(e)>=0},s.prototype.ltn=function(e){return-1===this.cmpn(e)},s.prototype.lt=function(e){return-1===this.cmp(e)},s.prototype.lten=function(e){return this.cmpn(e)<=0},s.prototype.lte=function(e){return this.cmp(e)<=0},s.prototype.eqn=function(e){return 0===this.cmpn(e)},s.prototype.eq=function(e){return 0===this.cmp(e)},s.red=function(e){return new j(e)},s.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(e){return this.red=e,this},s.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},s.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},s.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},s.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},s.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},s.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},s.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},s.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new s(t,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function k(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function N(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function j(e){if("string"===typeof e){var t=s._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function _(e){j.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new s(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var s=e.words[9];for(t.words[t.length++]=s&r,i=10;i<e.length;i++){var o=0|e.words[i];e.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,e.words[i-10]=s,0===s&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(k,b),i(S,b),i(N,b),N.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},s._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new k;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new N}return y[e]=t,t},j.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},j.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},j.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(h(e,e.umod(this.m)._forceRed(this)),e)},j.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},j.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},j.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},j.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},j.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},j.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},j.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},j.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},j.prototype.isqr=function(e){return this.imul(e,e.clone())},j.prototype.sqr=function(e){return this.mul(e,e)},j.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new s(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),l=a.redNeg(),c=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);0!==this.pow(h,c).cmp(l);)h.redIAdd(l);for(var u=this.pow(h,i),d=this.pow(e,i.addn(1).iushrn(1)),f=this.pow(e,i),m=o;0!==f.cmp(a);){for(var p=f,g=0;0!==p.cmp(a);g++)p=p.redSqr();n(g<m);var x=this.pow(u,new s(1).iushln(m-g-1));d=d.redMul(x),u=x.redSqr(),f=f.redMul(u),m=g}return d},j.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},j.prototype.pow=function(e,t){if(t.isZero())return new s(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],o=0,a=0,l=t.bitLength()%26;for(0===l&&(l=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],h=l-1;h>=0;h--){var u=c>>h&1;i!==r[0]&&(i=this.sqr(i)),0!==u||0!==o?(o<<=1,o|=u,(4===++a||0===n&&0===h)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}l=26}return i},j.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},j.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},s.mont=function(e){return new _(e)},i(_,j),_.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},_.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},_.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},_.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new s(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},_.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},950:(e,t,r)=>{"use strict";e.exports=r(49)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.amdO={},__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(950),t=__webpack_require__(352);let r=null,n=[],i="connecting";const s=e=>{(!r||r.readyState!==WebSocket.OPEN&&r.readyState!==WebSocket.CONNECTING)&&(console.log(`\ud83d\udd0c Connecting to WebSocket at ${e}...`),r=new WebSocket(e),i="connecting",r.onopen=()=>{console.log("\u2705 WebSocket connected successfully"),i="open",n.forEach(e=>e.setStatus(i))},r.onclose=t=>{console.log(`\ud83d\udd0c WebSocket closed. Code: ${t.code}, Reason: ${t.reason}`),i="closed",n.forEach(e=>e.setStatus(i)),n.length>0&&(console.log("\ud83d\udd04 Attempting to reconnect in 5 seconds..."),setTimeout(()=>s(e),5e3))},r.onerror=e=>{console.error("\u274c WebSocket error:",e),i="error",n.forEach(e=>e.setStatus(i))},r.onmessage=e=>{try{const t=JSON.parse(e.data);console.log("\ud83d\udce8 WebSocket message received:",t.type,t.data),n.forEach(e=>e.handleMessage(t))}catch(t){console.error("\u274c Error parsing WebSocket message:",t,"Raw data:",e.data)}})},o=t=>{const[o,a]=(0,e.useState)([]),[l,c]=(0,e.useState)(i),h=(0,e.useRef)(!0),u=(0,e.useCallback)(e=>{h.current&&a(t=>[...t,e])},[]),d=(0,e.useCallback)(e=>{h.current&&c(e)},[]);(0,e.useEffect)(()=>{h.current=!0;const e={handleMessage:u,setStatus:d};return n.push(e),s(t),()=>{h.current=!1,n=n.filter(t=>t!==e)}},[t,u,d]);return{messages:o,status:l,sendMessage:(0,e.useCallback)(e=>{r&&r.readyState===WebSocket.OPEN?r.send(JSON.stringify(e)):console.error("WebSocket is not open. Cannot send message.")},[])}};var a=__webpack_require__(414);const l=t=>{let{onDeploymentComplete:r}=t;const{messages:n,status:i}=o("ws://localhost:8080"),[s,l]=(0,e.useState)([]);(0,e.useEffect)(()=>{const e=n.filter(e=>"artifact"===e.type);if(e.length>0){const t=s.map(e=>e.contractName),r=e.filter(e=>e.data.contractName&&!t.includes(e.data.contractName));r.length>0&&l(e=>[...e,...r.map(e=>e.data)])}const t=n.find(e=>"deploymentComplete"===e.type);t&&(console.log("\ud83c\udf89 Deployment complete, transitioning to explorer..."),r(t.data))},[n,s,r]);const c={connecting:{text:"Connecting to Hardhat...",color:"text-yellow-400",icon:"fa-spin fa-spinner"},open:{text:"Watching for deployments...",color:"text-green-400",icon:"fa-eye"},closed:{text:"Connection closed. Please restart Hardhat.",color:"text-red-400",icon:"fa-times-circle"},error:{text:"Connection error.",color:"text-red-400",icon:"fa-exclamation-triangle"}};return(0,a.jsxs)("div",{className:"bg-gray-900 text-gray-100 min-h-screen flex flex-col items-center justify-center p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 highlight-text",children:"Deployment in Progress"}),(0,a.jsxs)("div",{className:`flex items-center justify-center text-lg ${c[i].color}`,children:[(0,a.jsx)("i",{className:`fas ${c[i].icon} mr-2`}),(0,a.jsx)("span",{children:c[i].text})]})]}),(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-gray-800 rounded-lg p-6 shadow-lg",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Deployed Contracts"}),(0,a.jsx)("div",{className:"space-y-4",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"p-4 bg-gray-700 rounded-lg",children:[(0,a.jsx)("p",{className:"font-bold text-lg",children:e.contractName}),(0,a.jsx)("p",{className:"font-mono text-sm text-gray-400",children:e.address})]},t))})]})]})},c=t=>{let{deployment:r,isSelected:n,onSelect:i,isFavorite:s,onToggleFavorite:o,onSelectFacet:l,selectedFacet:c}=t;const[h,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!1),m=(e=>"Diamond"===e.contractName||e.abi.some(e=>"diamondCut"===e.name||"facets"===e.name||"facetAddress"===e.name||"facetFunctionSelectors"===e.name||"event"===e.type&&"DiamondCut"===e.name||"fallback"===e.type||"function"===e.type&&"diamondAddress"===e.name))(r),p=(e=>{const t=e.toLowerCase();return m?"fas fa-gem text-yellow-500":t.includes("token")||t.includes("erc20")?"fas fa-coins text-green-500":t.includes("marketplace")||t.includes("market")?"fas fa-store text-purple-500":t.includes("storage")?"fas fa-database text-blue-500":t.includes("nft")||t.includes("erc721")?"fas fa-image text-indigo-500":t.includes("registry")?"fas fa-address-book text-orange-500":t.includes("factory")?"fas fa-industry text-gray-500":t.includes("pool")||t.includes("liquidity")?"fas fa-swimming-pool text-cyan-500":t.includes("vault")||t.includes("treasury")?"fas fa-vault text-amber-500":t.includes("proxy")?"fas fa-random text-teal-500":t.includes("oracle")?"fas fa-eye text-violet-500":"fas fa-file-contract text-primary"})(r.contractName);(0,e.useEffect)(()=>{m&&n&&0===h.length&&(f(!0),fetch(`/api/diamonds/${r.network}/${r.address}/facets`).then(e=>e.json()).then(e=>{e.facets&&u(e.facets)}).catch(e=>{console.error("Error fetching facets:",e)}).finally(()=>{f(!1)}))},[m,n,r.network,r.address,h.length]);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"sidebar-item p-2 rounded cursor-pointer flex items-center justify-between "+(n?"active":""),onClick:i,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:`${p} mr-2`}),(0,a.jsx)("span",{className:"text-blue-300",children:r.contractName}),m&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-yellow-600 px-1 rounded",children:"DIAMOND"})]}),(0,a.jsx)("button",{onClick:e=>{e.stopPropagation(),o(r.contractName)},className:"text-gray-500 hover:text-yellow-400",children:(0,a.jsx)("i",{className:(s?"fas":"far")+" fa-star"})})]}),m&&n&&(0,a.jsxs)("div",{className:"ml-6 mt-1 space-y-1",children:[d&&(0,a.jsxs)("div",{className:"p-2 text-gray-400 text-sm flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading facets..."]}),h.map(e=>(0,a.jsxs)("div",{className:"sidebar-item p-2 rounded cursor-pointer flex items-center justify-between hover:bg-gray-700 "+((null===c||void 0===c?void 0:c.address)===e.address?"bg-gray-600":""),onClick:()=>(e=>{l&&l({...r,selectedFacet:e,isDiamond:!0})})(e),children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-cube text-pink-400 mr-2 text-xs"}),(0,a.jsx)("span",{className:"text-pink-300 text-sm",children:e.name})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.selectorCount})]},e.address))]})]})},h=e=>{let{deployments:t,selectedDeployment:r,onSelectDeployment:n,favorites:i,onToggleFavorite:s,onSelectFacet:o,selectedFacet:l,currentView:h}=e;const u=t.filter(e=>i.includes(e.contractName)),d=t.filter(e=>!i.includes(e.contractName));return(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h2",{className:"font-semibold text-gray-300",children:"Contracts"}),(0,a.jsxs)("span",{className:"text-xs bg-gray-700 px-2 py-1 rounded",children:[t.length," artifacts"]})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[u.map(e=>(0,a.jsx)(c,{deployment:e,isSelected:"contract"===h&&(null===r||void 0===r?void 0:r.contractName)===e.contractName,onSelect:()=>n(e),isFavorite:!0,onToggleFavorite:s,onSelectFacet:o,selectedFacet:l},e.contractName)),d.map(e=>(0,a.jsx)(c,{deployment:e,isSelected:"contract"===h&&(null===r||void 0===r?void 0:r.contractName)===e.contractName,onSelect:()=>n(e),isFavorite:!1,onToggleFavorite:s,onSelectFacet:o,selectedFacet:l},e.contractName))]})]})},u=t=>{let{deployments:r,selectedDeployment:n,onSelectDeployment:i,title:s,version:o,favorites:l,onToggleFavorite:c,onSearch:u,onNetworkChange:d,networks:f,currentNetwork:m,onSelectFacet:p,selectedFacet:g,currentView:x,onNavigateToDashboard:O,onNavigateToNewScenario:v,onNavigateToEditScenario:y,onNavigateToScenarioRunner:b}=t;const[w,k]=(0,e.useState)([]),[S,N]=(0,e.useState)(!1),[j,_]=(0,e.useState)(!0),[A,P]=(0,e.useState)(!1);(0,e.useEffect)(()=>{E()},[]);const E=async()=>{try{P(!0);const e=await fetch("/api/scenarios");if(e.ok){const t=await e.json();k(t)}}catch(e){console.error("Error loading scenarios:",e)}finally{P(!1)}};return(0,a.jsxs)("div",{className:"w-full md:w-[296px] bg-gray-800 p-4 flex flex-col",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-hard-hat text-primary mr-2 pulse"}),(0,a.jsx)("span",{className:"highlight-text",children:s})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1 glow-text",children:"Deployment Artifact Explorer"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("button",{onClick:O,className:"w-full text-left p-3 rounded-lg flex items-center transition-colors "+("dashboard"===x?"bg-primary text-white":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:[(0,a.jsx)("i",{className:"fas fa-tachometer-alt mr-3"}),"Dashboard"]})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Search contracts...",className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",onChange:e=>u(e.target.value)})}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("button",{onClick:()=>_(!j),className:"w-full text-left p-2 rounded-lg flex items-center justify-between text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-file-contract mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:"Contracts"}),(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-600 px-2 py-1 rounded-full",children:r.length})]}),(0,a.jsx)("i",{className:`fas fa-chevron-${j?"down":"right"} text-xs`})]}),j&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(h,{deployments:r,selectedDeployment:n,onSelectDeployment:i,favorites:l,onToggleFavorite:c,onSelectFacet:p,selectedFacet:g,currentView:x})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("button",{onClick:()=>N(!S),className:"w-full text-left p-2 rounded-lg flex items-center justify-between text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-play-circle mr-3"}),(0,a.jsx)("span",{className:"font-medium",children:"Scenarios"}),(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-600 px-2 py-1 rounded-full",children:A?"...":w.length})]}),(0,a.jsx)("i",{className:`fas fa-chevron-${S?"down":"right"} text-xs`})]}),S&&(0,a.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,a.jsxs)("button",{onClick:()=>b&&b(),className:"w-full text-left p-2 rounded-lg flex items-center text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-rocket mr-3 text-blue-400"}),(0,a.jsx)("span",{className:"text-sm",children:"Scenario Runner"})]}),(0,a.jsxs)("button",{onClick:()=>v&&v(),className:"w-full text-left p-2 rounded-lg flex items-center text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-plus mr-3 text-green-400"}),(0,a.jsx)("span",{className:"text-sm",children:"Add New..."})]}),A?(0,a.jsx)("div",{className:"flex items-center justify-center py-4",children:(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-gray-400"})}):w.map(e=>{return(0,a.jsxs)("button",{onClick:()=>y&&y(e),className:"w-full text-left p-2 rounded-lg flex items-center text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:[(0,a.jsx)("i",{className:(t=e,t.toLowerCase().includes("security")?"fas fa-shield-alt":t.toLowerCase().includes("performance")?"fas fa-tachometer-alt":t.toLowerCase().includes("integration")?"fas fa-link":t.toLowerCase().includes("stress")?"fas fa-weight-hanging":"fas fa-play")+" mr-3 text-blue-400 text-xs"}),(0,a.jsx)("span",{className:"text-sm truncate",children:e})]},e);var t}),!A&&0===w.length&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("i",{className:"fas fa-folder-open text-gray-500 text-lg mb-2"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs",children:"No scenarios found"})]})]})]}),(0,a.jsxs)("div",{className:"mt-auto pt-4 border-t border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-400",children:[(0,a.jsx)("i",{className:"fas fa-network-wired mr-2"}),(0,a.jsx)("select",{value:m,onChange:e=>d(e.target.value),className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",children:f.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-400 mt-1",children:[(0,a.jsx)("i",{className:"fas fa-code-branch mr-2"}),(0,a.jsxs)("span",{children:["Version: ",o||"N/A"]})]})]})]})},d=e=>{let{deployment:t}=e;return(0,a.jsx)("header",{className:"bg-gradient-to-r from-gray-800 to-gray-900 p-6 border-b border-gray-700 shadow-lg",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-gray-700 to-gray-800 rounded-xl flex items-center justify-center border border-gray-600",children:(0,a.jsx)("i",{className:(e=>{const t=e.toLowerCase();return t.includes("diamond")?"fas fa-gem text-yellow-500":t.includes("token")||t.includes("erc20")?"fas fa-coins text-green-500":t.includes("marketplace")||t.includes("market")?"fas fa-store text-purple-500":t.includes("storage")?"fas fa-database text-blue-500":t.includes("nft")||t.includes("erc721")?"fas fa-image text-indigo-500":t.includes("registry")?"fas fa-address-book text-orange-500":t.includes("factory")?"fas fa-industry text-gray-500":"fas fa-file-contract text-primary"})(t.contractName)})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold highlight-text flex items-center",children:[t.contractName,t.contractName.toLowerCase().includes("diamond")&&(0,a.jsx)("span",{className:"ml-3 text-xs bg-gradient-to-r from-yellow-500 to-amber-500 text-white px-2 py-1 rounded-full font-medium",children:"DIAMOND"})]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm glow-text font-mono",children:t.address})]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)("button",{className:"bg-primary hover:bg-indigo-700 px-4 py-2 rounded-lg text-sm flex items-center transition-all duration-300 hover:scale-105",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt mr-2"})," Refresh"]}),(0,a.jsxs)("button",{className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg text-sm flex items-center transition-all duration-300 hover:scale-105",children:[(0,a.jsx)("i",{className:"fas fa-download mr-2"})," Export"]})]})]})})},f=e=>{let{id:t,label:r,activeTab:n,onTabClick:i,icon:s}=e;return(0,a.jsxs)("button",{className:"tab-button px-4 py-3 font-medium flex items-center space-x-2 "+(n===t?"border-b-2 border-primary text-primary highlight-text":"text-gray-400 hover:text-blue-300"),onClick:()=>i(t),children:[s&&(0,a.jsx)("i",{className:`${s} text-sm`}),(0,a.jsx)("span",{children:r})]})},m=e=>{let{activeTab:t,onTabClick:r,deployment:n,isDiamondView:i,facets:s}=e;const o=(e=>"Diamond"===e.contractName||e.abi.some(e=>"diamondCut"===e.name||"facets"===e.name||"facetAddress"===e.name||"facetFunctionSelectors"===e.name||"event"===e.type&&"DiamondCut"===e.name||"fallback"===e.type||"function"===e.type&&"diamondAddress"===e.name))(n);let l=[];return i&&s?l=[{id:"diamond-overview",label:"Diamond Overview",icon:"fas fa-gem"},{id:"diamond-contract",label:"Contract",icon:"fas fa-file-contract"},{id:"diamond-methods",label:"Methods",icon:"fas fa-cogs"},...s.map(e=>({id:`facet-${e.address}`,label:e.name,icon:"fas fa-puzzle-piece",facetData:e}))]:(l=[{id:"overview",label:"Overview",icon:"fas fa-info-circle"},{id:"abi",label:"ABI",icon:"fas fa-code"},{id:"bytecode",label:"Bytecode",icon:"fas fa-binary"},{id:"methods",label:"Methods",icon:"fas fa-cogs"},{id:"storage",label:"Storage",icon:"fas fa-database"},{id:"transactions",label:"Transactions",icon:"fas fa-exchange-alt"},{id:"docs",label:"Docs",icon:"fas fa-book"},{id:"events",label:"Events",icon:"fas fa-calendar-alt"}],o&&l.push({id:"diamond",label:"Diamond",icon:"fas fa-gem"})),(0,a.jsx)("div",{className:"border-b border-gray-700",children:(0,a.jsx)("div",{className:"flex px-4",children:l.map(e=>(0,a.jsx)(f,{id:e.id,label:e.label,activeTab:t,onTabClick:r,icon:e.icon},e.id))})})},p=t=>{let{textToCopy:r,text:n,size:i="default",variant:s="default",showLabel:o=!0}=t;const[l,c]=(0,e.useState)(!1),h=r||n,u="small"===i?"text-xs":"large"===i?"text-lg":"text-sm";return(0,a.jsxs)("button",{className:`\n        ${{small:"px-2 py-1 text-xs",default:"px-3 py-1 text-sm",large:"px-4 py-2 text-base"}[i]}\n        ${{default:"bg-gray-700 hover:bg-gray-600 border border-gray-600 hover:border-gray-500",ghost:"bg-transparent hover:bg-gray-700/50 border border-transparent hover:border-gray-600",primary:"bg-blue-600 hover:bg-blue-500 border border-blue-500 hover:border-blue-400"}[s]}\n        rounded-lg flex items-center gap-1 transition-all duration-200\n        text-white hover:scale-105 active:scale-95\n        ${l?"bg-green-600 border-green-500":""}\n      `,onClick:e=>{e.stopPropagation(),navigator.clipboard.writeText(h).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)}).catch(e=>{console.error("Failed to copy text:",e)})},title:`Copy ${h}`,children:[(0,a.jsx)("i",{className:`fas ${l?"fa-check":"fa-copy"} ${u} ${l?"text-green-200":""}`}),o&&(0,a.jsx)("span",{className:l?"text-green-200":"",children:l?"Copied!":"Copy"})]})},g=t=>{var r,n,i,s,l;let{deployment:c}=t;const{messages:h,sendMessage:u}=o("ws://localhost:8080"),[d,f]=(0,e.useState)(""),[m,g]=(0,e.useState)(!1),x=(null===c||void 0===c?void 0:c.network)&&["localhost","hardhat","127.0.0.1"].includes(c.network.toLowerCase());(0,e.useEffect)(()=>{const e=h.find(e=>"verificationStatus"===e.type&&e.data.contractName===c.contractName);e&&(f(e.data.status),"Verifying..."!==e.data.status&&g(!1))},[h,c.contractName]);return c?(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-info-circle text-white"})}),"Contract Details"]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Contract Name"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-mono text-blue-300 font-semibold",children:c.contractName}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:"Diamond"===c.contractName&&(0,a.jsx)("span",{className:"text-xs bg-gradient-to-r from-yellow-500 to-amber-500 text-white px-2 py-1 rounded-full font-medium",children:"DIAMOND"})})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Contract Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"font-mono text-purple-300 text-sm flex-1 break-all",children:c.address}),(0,a.jsx)(p,{text:c.address,size:"small",variant:"ghost"})]})]}),(null===(r=c.receipt)||void 0===r?void 0:r.transactionHash)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Deployment Transaction"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"font-mono text-amber-300 text-sm flex-1 break-all",children:c.receipt.transactionHash}),(0,a.jsx)(p,{text:c.receipt.transactionHash,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(null===(n=c.receipt)||void 0===n?void 0:n.blockNumber)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Block"}),(0,a.jsx)("p",{className:"text-green-300 font-bold text-lg",children:Number(c.receipt.blockNumber).toLocaleString()})]}),void 0!==(null===(i=c.receipt)||void 0===i?void 0:i.confirmations)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Confirmations"}),(0,a.jsx)("p",{className:"text-blue-300 font-bold text-lg",children:c.receipt.confirmations})]}),(null===(s=c.receipt)||void 0===s?void 0:s.gasUsed)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Gas Used"}),(0,a.jsx)("p",{className:"text-orange-300 font-bold text-sm",children:(O=c.receipt.gasUsed,O?Number(O).toLocaleString():"N/A")})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Status"}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 bg-green-600 text-white text-xs font-medium rounded-full",children:[(0,a.jsx)("i",{className:"fas fa-check-circle mr-1"}),"Deployed"]})})]})]}),(null===(l=c.receipt)||void 0===l?void 0:l.from)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Deployer Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"font-mono text-indigo-300 text-sm flex-1 break-all",children:c.receipt.from}),(0,a.jsx)(p,{text:c.receipt.from,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,a.jsx)("button",{onClick:()=>{g(!0),f("Sending verification request..."),u({type:"verifyContract",data:{contractName:c.contractName}})},disabled:m||x,className:"w-full px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 "+(x?"bg-gray-600 cursor-not-allowed text-gray-400":m?"bg-blue-600 cursor-wait text-white":"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-500 hover:to-emerald-500 text-white hover:shadow-lg hover:scale-[1.02]"),title:x?"Contract verification is not available for localhost networks":"",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Verifying Contract..."]}):x?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),"Verification Unavailable"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-shield-check"}),"Verify Contract"]})}),x&&(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Contract verification is only available on public networks"}),d&&!x&&(0,a.jsx)("div",{className:"mt-3 p-2 bg-blue-900/30 border border-blue-700 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-blue-300 text-center",children:d})})]})]})]}):(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-gray-500 text-3xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No deployment data available"})]})});var O};var x=__webpack_require__(914),O=__webpack_require__.n(x);let v=!1,y=!1;const b={debug:1,default:2,info:2,warning:3,error:4,off:5};let w=b.default,k=null;const S=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var N,j;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(N||(N={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"}(j||(j={}));const _="0123456789abcdef";class A{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==b[r]&&this.throwArgumentError("invalid log level name","logLevel",e),w>b[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(A.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(A.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(A.levels.WARNING,t)}makeError(e,t,r){if(y)return this.makeError("censored error",t,{});t||(t=A.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach(e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=_[t[e]>>4],r+=_[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case j.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case j.CALL_EXCEPTION:case j.INSUFFICIENT_FUNDS:case j.MISSING_NEW:case j.NONCE_EXPIRED:case j.REPLACEMENT_UNDERPRICED:case j.TRANSACTION_REPLACED:case j.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach(function(e){o[e]=r[e]}),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,A.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){null==e&&(e="platform missing String.prototype.normalize"),S&&this.throwError("platform missing String.prototype.normalize",A.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:S})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,A.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,A.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,A.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,A.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",A.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",A.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",A.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return k||(k=new A("logger/5.8.0")),k}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",A.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),v){if(!e)return;this.globalLogger().throwError("error censorship permanent",A.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}y=!!e,v=!!t}static setLogLevel(e){const t=b[e.toLowerCase()];null!=t?w=t:A.globalLogger().warn("invalid log level - "+e)}static from(e){return new A(e)}}A.errors=j,A.levels=N;const P=new A("bytes/5.8.0");function E(e){return!!e.toHexString}function Q(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Q(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function C(e){return L(e)&&!(e.length%2)||T(e)}function M(e){return"number"===typeof e&&e==e&&e%1===0}function T(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!M(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!M(r)||r<0||r>=256)return!1}return!0}function R(e,t){if(t||(t={}),"number"===typeof e){P.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Q(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),E(e)&&(e=e.toHexString()),L(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0"+r:"right"===t.hexPad?r+="0":P.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Q(new Uint8Array(n))}return T(e)?Q(new Uint8Array(e)):P.throwArgumentError("invalid arrayify value","value",e)}function $(e){const t=e.map(e=>R(e)),r=t.reduce((e,t)=>e+t.length,0),n=new Uint8Array(r);return t.reduce((e,t)=>(n.set(t,e),e+t.length),0),Q(n)}function D(e){let t=R(e);if(0===t.length)return t;let r=0;for(;r<t.length&&0===t[r];)r++;return r&&(t=t.slice(r)),t}function L(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}const I="0123456789abcdef";function Z(e,t){if(t||(t={}),"number"===typeof e){P.checkSafeUint53(e,"invalid hexlify value");let t="";for(;e;)t=I[15&e]+t,e=Math.floor(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("bigint"===typeof e)return(e=e.toString(16)).length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),E(e))return e.toHexString();if(L(e))return e.length%2&&("left"===t.hexPad?e="0x0"+e.substring(2):"right"===t.hexPad?e+="0":P.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(T(e)){let t="0x";for(let r=0;r<e.length;r++){let n=e[r];t+=I[(240&n)>>4]+I[15&n]}return t}return P.throwArgumentError("invalid hexlify value","value",e)}function B(e){if("string"!==typeof e)e=Z(e);else if(!L(e)||e.length%2)return null;return(e.length-2)/2}function z(e,t,r){return"string"!==typeof e?e=Z(e):(!L(e)||e.length%2)&&P.throwArgumentError("invalid hexData","value",e),t=2+2*t,null!=r?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function q(e){let t="0x";return e.forEach(e=>{t+=Z(e).substring(2)}),t}function U(e){const t=function(e){"string"!==typeof e&&(e=Z(e));L(e)||P.throwArgumentError("invalid hex string","value",e);e=e.substring(2);let t=0;for(;t<e.length&&"0"===e[t];)t++;return"0x"+e.substring(t)}(Z(e,{hexPad:"left"}));return"0x"===t?"0x0":t}function X(e,t){for("string"!==typeof e?e=Z(e):L(e)||P.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&P.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function F(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(C(e)){let r=R(e);64===r.length?(t.v=27+(r[32]>>7),r[32]&=127,t.r=Z(r.slice(0,32)),t.s=Z(r.slice(32,64))):65===r.length?(t.r=Z(r.slice(0,32)),t.s=Z(r.slice(32,64)),t.v=r[64]):P.throwArgumentError("invalid signature string","signature",e),t.v<27&&(0===t.v||1===t.v?t.v+=27:P.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=Z(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,null!=t._vs){const r=function(e,t){(e=R(e)).length>t&&P.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Q(r)}(R(t._vs),32);t._vs=Z(r);const n=r[0]>=128?1:0;null==t.recoveryParam?t.recoveryParam=n:t.recoveryParam!==n&&P.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),r[0]&=127;const i=Z(r);null==t.s?t.s=i:t.s!==i&&P.throwArgumentError("signature v mismatch _vs","signature",e)}if(null==t.recoveryParam)null==t.v?P.throwArgumentError("signature missing v and recoveryParam","signature",e):0===t.v||1===t.v?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(null==t.v)t.v=27+t.recoveryParam;else{const r=0===t.v||1===t.v?t.v:1-t.v%2;t.recoveryParam!==r&&P.throwArgumentError("signature recoveryParam mismatch v","signature",e)}null!=t.r&&L(t.r)?t.r=X(t.r,32):P.throwArgumentError("signature missing or invalid r","signature",e),null!=t.s&&L(t.s)?t.s=X(t.s,32):P.throwArgumentError("signature missing or invalid s","signature",e);const r=R(t.s);r[0]>=128&&P.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const n=Z(r);t._vs&&(L(t._vs)||P.throwArgumentError("signature invalid _vs","signature",e),t._vs=X(t._vs,32)),null==t._vs?t._vs=n:t._vs!==n&&P.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}const V="bignumber/5.8.0";var Y=O().BN;const W=new A(V),G={},H=9007199254740991;let K=!1;class J{constructor(e,t){e!==G&&W.throwError("cannot call constructor directly; use BigNumber.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return te(re(this).fromTwos(e))}toTwos(e){return te(re(this).toTwos(e))}abs(){return"-"===this._hex[0]?J.from(this._hex.substring(1)):this}add(e){return te(re(this).add(re(e)))}sub(e){return te(re(this).sub(re(e)))}div(e){return J.from(e).isZero()&&ne("division-by-zero","div"),te(re(this).div(re(e)))}mul(e){return te(re(this).mul(re(e)))}mod(e){const t=re(e);return t.isNeg()&&ne("division-by-zero","mod"),te(re(this).umod(t))}pow(e){const t=re(e);return t.isNeg()&&ne("negative-power","pow"),te(re(this).pow(t))}and(e){const t=re(e);return(this.isNegative()||t.isNeg())&&ne("unbound-bitwise-result","and"),te(re(this).and(t))}or(e){const t=re(e);return(this.isNegative()||t.isNeg())&&ne("unbound-bitwise-result","or"),te(re(this).or(t))}xor(e){const t=re(e);return(this.isNegative()||t.isNeg())&&ne("unbound-bitwise-result","xor"),te(re(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&ne("negative-width","mask"),te(re(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&ne("negative-width","shl"),te(re(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&ne("negative-width","shr"),te(re(this).shrn(e))}eq(e){return re(this).eq(re(e))}lt(e){return re(this).lt(re(e))}lte(e){return re(this).lte(re(e))}gt(e){return re(this).gt(re(e))}gte(e){return re(this).gte(re(e))}isNegative(){return"-"===this._hex[0]}isZero(){return re(this).isZero()}toNumber(){try{return re(this).toNumber()}catch(e){ne("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(e){}return W.throwError("this platform does not support BigInt",A.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?K||(K=!0,W.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?W.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",A.errors.UNEXPECTED_ARGUMENT,{}):W.throwError("BigNumber.toString does not accept parameters",A.errors.UNEXPECTED_ARGUMENT,{})),re(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof J)return e;if("string"===typeof e)return e.match(/^-?0x[0-9a-f]+$/i)?new J(G,ee(e)):e.match(/^-?[0-9]+$/)?new J(G,ee(new Y(e))):W.throwArgumentError("invalid BigNumber string","value",e);if("number"===typeof e)return e%1&&ne("underflow","BigNumber.from",e),(e>=H||e<=-H)&&ne("overflow","BigNumber.from",e),J.from(String(e));const t=e;if("bigint"===typeof t)return J.from(t.toString());if(T(t))return J.from(Z(t));if(t)if(t.toHexString){const e=t.toHexString();if("string"===typeof e)return J.from(e)}else{let e=t._hex;if(null==e&&"BigNumber"===t.type&&(e=t.hex),"string"===typeof e&&(L(e)||"-"===e[0]&&L(e.substring(1))))return J.from(e)}return W.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!(!e||!e._isBigNumber)}}function ee(e){if("string"!==typeof e)return ee(e.toString(16));if("-"===e[0])return"-"===(e=e.substring(1))[0]&&W.throwArgumentError("invalid hex","value",e),"0x00"===(e=ee(e))?e:"-"+e;if("0x"!==e.substring(0,2)&&(e="0x"+e),"0x"===e)return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&"0x00"===e.substring(0,4);)e="0x"+e.substring(4);return e}function te(e){return J.from(ee(e))}function re(e){const t=J.from(e).toHexString();return"-"===t[0]?new Y("-"+t.substring(3),16):new Y(t.substring(2),16)}function ne(e,t,r){const n={fault:e,operation:t};return null!=r&&(n.value=r),W.throwError(e,A.errors.NUMERIC_FAULT,n)}const ie=new A(V),se={},oe=J.from(0),ae=J.from(-1);function le(e,t,r,n){const i={fault:t,operation:r};return void 0!==n&&(i.value=n),ie.throwError(e,A.errors.NUMERIC_FAULT,i)}let ce="0";for(;ce.length<256;)ce+=ce;function he(e){if("number"!==typeof e)try{e=J.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+ce.substring(0,e):ie.throwArgumentError("invalid decimal size","decimals",e)}function ue(e,t){null==t&&(t=0);const r=he(t),n=(e=J.from(e)).lt(oe);n&&(e=e.mul(ae));let i=e.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return e=1===r.length?s:s+"."+i,n&&(e="-"+e),e}function de(e,t){null==t&&(t=0);const r=he(t);"string"===typeof e&&e.match(/^-?[0-9.]+$/)||ie.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&ie.throwArgumentError("missing value","value",e);const i=e.split(".");i.length>2&&ie.throwArgumentError("too many decimal points","value",e);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&le("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=J.from(s),l=J.from(o);let c=a.mul(r).add(l);return n&&(c=c.mul(ae)),c}class fe{constructor(e,t,r,n){e!==se&&ie.throwError("cannot use FixedFormat constructor; use FixedFormat.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=he(n),Object.freeze(this)}static from(e){if(e instanceof fe)return e;"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||ie.throwArgumentError("invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){const i=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&ie.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&ie.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&ie.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new fe(se,t,r,n)}}class me{constructor(e,t,r,n){e!==se&&ie.throwError("cannot use FixedNumber constructor; use FixedNumber.from",A.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&ie.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=de(this._value,this.format.decimals),r=de(e._value,e.format.decimals);return me.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=de(this._value,this.format.decimals),r=de(e._value,e.format.decimals);return me.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=de(this._value,this.format.decimals),r=de(e._value,e.format.decimals);return me.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=de(this._value,this.format.decimals),r=de(e._value,e.format.decimals);return me.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=me.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(pe.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=me.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(pe.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&ie.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=me.from("1"+ce.substring(0,e),this.format),n=ge.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&ie.throwArgumentError("invalid byte width","width",e);return X(J.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString(),e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return me.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||function(e){return null!=e&&(J.isBigNumber(e)||"number"===typeof e&&e%1===0||"string"===typeof e&&!!e.match(/^-?[0-9]+$/)||L(e)||"bigint"===typeof e||T(e))}(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),me.fromString(ue(e,t),fe.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=fe.from(t),n=de(e,r.decimals);!r.signed&&n.lt(oe)&&le("unsigned value cannot be negative","overflow","value",e);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=X(i,r.width/8));const s=ue(n,r.decimals);return new me(se,i,s,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=fe.from(t);if(R(e).length>r.width/8)throw new Error("overflow");let n=J.from(e);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=ue(n,r.decimals);return new me(se,i,s,r)}static from(e,t){if("string"===typeof e)return me.fromString(e,t);if(T(e))return me.fromBytes(e,t);try{return me.fromValue(e,0,t)}catch(r){if(r.code!==A.errors.INVALID_ARGUMENT)throw r}return ie.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const pe=me.from(1),ge=me.from("0.5"),xe=new A("units/5.8.0"),Oe=["wei","kwei","mwei","gwei","szabo","finney","ether"];function ve(e){return function(e,t){if("string"===typeof t){const e=Oe.indexOf(t);-1!==e&&(t=3*e)}return ue(e,null!=t?t:18)}(e,18)}function ye(e){return function(e,t){if("string"!==typeof e&&xe.throwArgumentError("value must be a string","value",e),"string"===typeof t){const e=Oe.indexOf(t);-1!==e&&(t=3*e)}return de(e,null!=t?t:18)}(e,18)}const be=e=>{var t,r,n,i,s,o,l,c,h,u;let{deployment:d}=e;const f=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"mainnet":return"text-green-400";case"goerli":case"sepolia":return"text-blue-400";case"polygon":return"text-purple-400";case"localhost":case"hardhat":return"text-gray-400";default:return"text-emerald-400"}};if(!d)return(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-gray-500 text-3xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400",children:"No deployment information available"})]})});const m=(()=>{var e,t;if(null===d||void 0===d||null===(e=d.receipt)||void 0===e||!e.gasUsed||null===d||void 0===d||null===(t=d.receipt)||void 0===t||!t.effectiveGasPrice)return"Unknown";try{return ve(J.from(d.receipt.gasUsed).mul(J.from(d.receipt.effectiveGasPrice)))}catch(r){return"Unknown"}})();return(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-cogs text-white"})}),"Deployment Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-2",children:"Network"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:`${(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"mainnet":return"fas fa-globe";case"goerli":case"sepolia":return"fas fa-flask";case"polygon":return"fas fa-hexagon";case"localhost":case"hardhat":return"fas fa-home";default:return"fas fa-network-wired"}})(d.network)} ${f(d.network)}`}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full "+("localhost"===(null===(t=d.network)||void 0===t?void 0:t.toLowerCase())||"hardhat"===(null===(r=d.network)||void 0===r?void 0:r.toLowerCase())?"bg-gray-400":"bg-emerald-400 animate-pulse")}),(0,a.jsx)("span",{className:`font-semibold capitalize ${f(d.network)}`,children:d.network||"Unknown"})]})]}),d.network&&(0,a.jsx)(p,{text:d.network,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-2",children:"Solidity Version"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("i",{className:"fab fa-ethereum text-purple-400"}),(0,a.jsx)("code",{className:"text-purple-300 font-bold text-lg",children:d.solcVersion||"Unknown"})]}),d.solcVersion&&(0,a.jsx)(p,{text:d.solcVersion,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-2",children:"Optimizer"}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"fas "+(null!==(n=d.optimizer)&&void 0!==n&&n.enabled?"fa-check-circle text-green-400":"fa-times-circle text-orange-400")}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full "+(null!==(i=d.optimizer)&&void 0!==i&&i.enabled?"bg-green-400":"bg-orange-400")}),(0,a.jsx)("span",{className:"font-semibold "+(null!==(s=d.optimizer)&&void 0!==s&&s.enabled?"text-green-400":"text-orange-400"),children:null!==(o=d.optimizer)&&void 0!==o&&o.enabled?`Enabled (${d.optimizer.runs||0} runs)`:"Disabled"})]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-2",children:"Gas Used"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("i",{className:"fas fa-gas-pump text-amber-400"}),(0,a.jsx)("span",{className:"text-amber-300 font-bold text-lg",children:(g=null===(l=d.receipt)||void 0===l?void 0:l.gasUsed,g?parseInt(g).toLocaleString():"Unknown")})]}),(null===(c=d.receipt)||void 0===c?void 0:c.gasUsed)&&(0,a.jsx)(p,{text:d.receipt.gasUsed.toString(),size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700 md:col-span-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-2",children:"Deployment Cost"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"fab fa-ethereum text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 font-bold text-2xl",children:"Unknown"!==m?`${parseFloat(m).toFixed(6)} ETH`:"Unknown"}),"Unknown"!==m&&(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["~$",(2e3*parseFloat(m)).toFixed(2)," USD"]})]})]}),"Unknown"!==m&&(0,a.jsx)(p,{text:m,size:"small",variant:"ghost"})]})]}),(void 0!==(null===(h=d.receipt)||void 0===h?void 0:h.confirmations)||d.timestamp)&&(0,a.jsxs)("div",{className:"md:col-span-2 grid grid-cols-2 gap-4",children:[void 0!==(null===(u=d.receipt)||void 0===u?void 0:u.confirmations)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/30 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Confirmations"}),(0,a.jsx)("p",{className:"text-blue-300 font-bold text-lg",children:d.receipt.confirmations})]}),d.timestamp&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/30 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Deployed At"}),(0,a.jsx)("p",{className:"text-green-300 font-semibold text-sm",children:new Date(1e3*d.timestamp).toLocaleString()})]})]})]})]});var g},we=t=>{let{recentTransactions:r=[],onTransactionClick:n,isLoading:i=!1}=t;const[s,o]=(0,e.useState)(null),l=e=>e?`${e.slice(0,6)}...${e.slice(-4)}`:"Unknown",c=e=>{if(!e)return"Unknown";return{"0x":"Transfer",transfer:"Transfer",approve:"Approve",transferFrom:"Transfer From",mint:"Mint",burn:"Burn"}[e]||e};return i?(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 md:col-span-2",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-exchange-alt text-white"})}),"Recent Transactions"]}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"h-12 bg-gray-700 rounded-lg"})},e))})]}):(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg md:col-span-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-exchange-alt text-white"})}),"Recent Transactions"]}),r.length>0&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),(0,a.jsxs)("span",{children:[r.length," transaction",1!==r.length?"s":""]})]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:r&&r.length>0?(0,a.jsx)("div",{className:"space-y-3",children:r.map((e,t)=>{const r=(e=>1===e||"Success"===e?{text:"Success",color:"text-green-400",bgColor:"bg-green-400"}:0===e||"Failed"===e?{text:"Failed",color:"text-red-400",bgColor:"bg-red-400"}:{text:e||"Unknown",color:"text-gray-400",bgColor:"bg-gray-400"})(e.status);return(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-all duration-200 group",onMouseEnter:()=>o(t),onMouseLeave:()=>o(null),children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 items-center",children:[(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Transaction Hash"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),(0,a.jsx)("code",{className:"text-blue-300 text-sm cursor-pointer hover:text-blue-200 transition-colors truncate flex-1",onClick:()=>n&&n(e.hash),title:`View details for ${e.hash}`,children:e.hash?l(e.hash):"Unknown"}),e.hash&&(0,a.jsx)(p,{text:e.hash,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Method"}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-300 border border-emerald-500/30",children:[(0,a.jsx)("i",{className:"fas fa-function mr-1"}),c(e.method)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"From"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-purple-300 text-sm",title:e.from,children:l(e.from)}),e.from&&(0,a.jsx)(p,{text:e.from,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between lg:justify-end gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Block"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded bg-amber-500/20 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-cube text-amber-400 text-xs"})}),(0,a.jsx)("span",{className:"text-amber-300 text-sm font-bold",children:(i=e.blockNumber,i?"string"===typeof i?i:i.toString():"---")})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Status"}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${r.bgColor} ${"Success"===r.text?"animate-pulse":""}`}),(0,a.jsx)("span",{className:`text-xs font-semibold ${r.color}`,children:r.text})]})]})]})]}),s===t&&e.timestamp&&(0,a.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,a.jsxs)("span",{children:["Timestamp: ",new Date(1e3*e.timestamp).toLocaleString()]}),e.gasUsed&&(0,a.jsxs)("span",{children:["Gas Used: ",parseInt(e.gasUsed).toLocaleString()]})]})})]},t);var i})}):(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,a.jsx)("i",{className:"fas fa-history text-gray-400 text-2xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No Recent Transactions"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm max-w-md mx-auto leading-relaxed",children:"Transactions will appear here once the contract is interacted with. Try calling some contract methods to see transaction history."}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)("div",{className:"px-4 py-2 bg-gray-700/50 rounded-lg border border-gray-600",children:(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[(0,a.jsx)("i",{className:"fas fa-info-circle mr-1"}),"Listening for new transactions..."]})})})]})})]})},ke=t=>{let{deployment:r,onTransactionClick:n,isLoading:i=!1,error:s=null}=t;const[o,l]=(0,e.useState)(0);return(0,e.useEffect)(()=>{l(0)},[r]),i?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg mr-3"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-32"})]}),(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-700 rounded w-24"}),(0,a.jsx)("div",{className:"h-4 bg-gray-600 rounded w-full"})]},e))})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg mr-3"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-40"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-700 rounded w-20"}),(0,a.jsx)("div",{className:"h-4 bg-gray-600 rounded w-full"})]},e))})]})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg mr-3"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-36"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-700 rounded-lg"},e))})]})]}):s?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-white text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Error Loading Overview"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4 max-w-md",children:s.message||"An unexpected error occurred while loading the contract overview."}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-500 hover:to-red-600 transition-all",children:[(0,a.jsx)("i",{className:"fas fa-redo mr-2"}),"Retry"]})]})}):r?(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o}ms`},children:(0,a.jsx)(g,{deployment:r})}),(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o+100}ms`},children:(0,a.jsx)(be,{deployment:r})})]}),(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o+200}ms`},children:(0,a.jsx)(we,{recentTransactions:(null===r||void 0===r?void 0:r.recentTransactions)||[],onTransactionClick:n,isLoading:!1})}),r&&(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 animate-slide-up",style:{animationDelay:`${o+300}ms`},children:[(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-lg border border-blue-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Contract Size"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:r.bytecode?`${Math.round(r.bytecode.length/2)} bytes`:"Unknown"})]}),(0,a.jsx)("i",{className:"fas fa-file-code text-blue-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Functions"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:r.abi?r.abi.filter(e=>"function"===e.type).length:0})]}),(0,a.jsx)("i",{className:"fas fa-cogs text-green-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Events"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:r.abi?r.abi.filter(e=>"event"===e.type).length:0})]}),(0,a.jsx)("i",{className:"fas fa-broadcast-tower text-purple-400 text-xl"})]})})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-file-contract text-gray-300 text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No Contract Selected"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4 max-w-md",children:"Select a contract from the sidebar to view its overview information."}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left"}),(0,a.jsx)("span",{children:"Choose a contract to get started"})]})]})})},Se=e=>{let{code:t,language:r}=e;return(0,a.jsx)("div",{className:"code-block",children:(0,a.jsx)("pre",{children:(0,a.jsx)("code",{className:`language-${r}`,children:t})})})},Ne=t=>{var r;let{abi:n,isLoading:i=!1,error:s=null}=t;const[o,l]=(0,e.useState)("overview"),[c,h]=(0,e.useState)(""),[u,d]=(0,e.useState)("all"),f=(0,e.useMemo)(()=>{if(!n||!Array.isArray(n))return{functions:[],events:[],constructor:null,fallback:null,receive:null,errors:[],total:0};return{functions:n.filter(e=>"function"===e.type),events:n.filter(e=>"event"===e.type),constructor:n.find(e=>"constructor"===e.type),fallback:n.find(e=>"fallback"===e.type),receive:n.find(e=>"receive"===e.type),errors:n.filter(e=>"error"===e.type),total:n.length}},[n]),m=JSON.stringify(n,null,2),g=(0,e.useMemo)(()=>("functions"===o?f.functions:"events"===o?f.events:[]).filter(e=>{var t;const r=!c||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c.toLowerCase())),n="all"===u||"functions"===o&&"view"===u&&("view"===e.stateMutability||"pure"===e.stateMutability)||"write"===u&&("nonpayable"===e.stateMutability||"payable"===e.stateMutability)||"payable"===u&&"payable"===e.stateMutability;return r&&n}),[f,o,c,u]),x=e=>{switch(e){case"view":case"pure":return"text-blue-300 bg-blue-500/20 border-blue-500/30";case"nonpayable":return"text-green-300 bg-green-500/20 border-green-500/30";case"payable":return"text-yellow-300 bg-yellow-500/20 border-yellow-500/30";default:return"text-gray-300 bg-gray-500/20 border-gray-500/30"}};return i?(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-32"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-700 rounded-lg"},e))})]})}):s?(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-white text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Error Loading ABI"}),(0,a.jsx)("p",{className:"text-gray-400",children:s.message||"Failed to load contract ABI"})]})}):n&&Array.isArray(n)&&0!==n.length?(0,a.jsx)("div",{className:"space-y-6 animate-fade-in",children:(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-file-code text-white"})}),"Contract ABI"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[("functions"===o||"events"===o)&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),(0,a.jsx)("input",{type:"text",placeholder:`Search ${o}...`,value:c,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:border-indigo-500 transition-colors"})]}),"functions"===o&&(0,a.jsxs)("select",{value:u,onChange:e=>d(e.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:border-indigo-500 transition-colors",children:[(0,a.jsx)("option",{value:"all",children:"All Functions"}),(0,a.jsx)("option",{value:"view",children:"View/Pure"}),(0,a.jsx)("option",{value:"write",children:"Write"}),(0,a.jsx)("option",{value:"payable",children:"Payable"})]}),(0,a.jsx)(p,{text:m,size:"default",variant:"primary",showLabel:!0})]})]}),(0,a.jsxs)("div",{className:"flex bg-gray-900/60 rounded-lg p-1 border border-gray-700 mb-6",children:[(0,a.jsxs)("button",{onClick:()=>l("overview"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("overview"===o?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-chart-pie"}),(0,a.jsx)("span",{children:"Overview"})]}),(0,a.jsxs)("button",{onClick:()=>l("functions"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("functions"===o?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-cogs"}),(0,a.jsxs)("span",{children:["Functions (",f.functions.length,")"]})]}),(0,a.jsxs)("button",{onClick:()=>l("events"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("events"===o?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-bolt"}),(0,a.jsxs)("span",{children:["Events (",f.events.length,")"]})]}),(0,a.jsxs)("button",{onClick:()=>l("raw"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("raw"===o?"bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-code"}),(0,a.jsx)("span",{children:"Raw JSON"})]})]}),"overview"===o&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-lg border border-blue-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Functions"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:f.functions.length})]}),(0,a.jsx)("i",{className:"fas fa-cogs text-blue-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-amber-900/30 to-amber-800/30 rounded-lg border border-amber-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-amber-300 text-sm font-medium",children:"Events"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:f.events.length})]}),(0,a.jsx)("i",{className:"fas fa-bolt text-amber-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"View Functions"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:f.functions.filter(e=>"view"===e.stateMutability||"pure"===e.stateMutability).length})]}),(0,a.jsx)("i",{className:"fas fa-eye text-green-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Write Functions"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:f.functions.filter(e=>"nonpayable"===e.stateMutability||"payable"===e.stateMutability).length})]}),(0,a.jsx)("i",{className:"fas fa-edit text-purple-400 text-xl"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.constructor&&(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("i",{className:"fas fa-hammer text-orange-400"}),(0,a.jsx)("h4",{className:"font-semibold text-orange-300",children:"Constructor"})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[(null===(r=f.constructor.inputs)||void 0===r?void 0:r.length)||0," parameters"]})]}),f.fallback&&(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("i",{className:"fas fa-parachute-box text-yellow-400"}),(0,a.jsx)("h4",{className:"font-semibold text-yellow-300",children:"Fallback"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:f.fallback.stateMutability})]}),f.receive&&(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("i",{className:"fas fa-inbox text-green-400"}),(0,a.jsx)("h4",{className:"font-semibold text-green-300",children:"Receive"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:"Accepts ETH transfers"})]})]})]}),"functions"===o&&(0,a.jsx)("div",{className:"space-y-4",children:0===g.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-search text-gray-400 text-xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:c?"No Matching Functions":"No Functions Found"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:c?`No functions found matching "${c}"`:"This contract has no functions defined"}),c&&(0,a.jsx)("button",{onClick:()=>h(""),className:"mt-3 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg transition-colors text-sm",children:"Clear Search"})]}):g.map((e,t)=>{return(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-cog text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-mono text-lg font-semibold text-blue-300",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${x(e.stateMutability)}`,children:e.stateMutability}),"payable"===e.stateMutability&&(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",children:[(0,a.jsx)("i",{className:"fas fa-coins mr-1"}),"Payable"]})]})]})]}),(0,a.jsx)(p,{text:e.name,size:"small",variant:"ghost"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 font-medium mb-1",children:"Inputs:"}),(0,a.jsx)("code",{className:"text-gray-300 bg-gray-800 p-2 rounded block",children:(n=e.inputs,n&&0!==n.length?n.map(e=>`${e.type} ${e.name||""}`).join(", "):"No parameters")})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-400 font-medium mb-1",children:"Outputs:"}),(0,a.jsx)("code",{className:"text-gray-300 bg-gray-800 p-2 rounded block",children:(r=e.outputs,r&&0!==r.length?r.map(e=>`${e.type} ${e.name||""}`).join(", "):"void")})]})]})]},t);var r,n})}),"events"===o&&(0,a.jsx)("div",{className:"space-y-4",children:0===g.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-bolt text-gray-400 text-xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:c?"No Matching Events":"No Events Found"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:c?`No events found matching "${c}"`:"This contract has no events defined"}),c&&(0,a.jsx)("button",{onClick:()=>h(""),className:"mt-3 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition-colors text-sm",children:"Clear Search"})]}):g.map((e,t)=>{var r;return(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700 hover:border-gray-600 transition-all",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-bolt text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-mono text-lg font-semibold text-amber-300",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[e.anonymous?(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gray-500/20 text-gray-400 border border-gray-500/30",children:[(0,a.jsx)("i",{className:"fas fa-eye-slash mr-1"}),"Anonymous"]}):(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-blue-500/20 text-blue-400 border border-blue-500/30",children:[(0,a.jsx)("i",{className:"fas fa-eye mr-1"}),"Logged"]}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-purple-500/20 text-purple-400 border border-purple-500/30",children:[(0,a.jsx)("i",{className:"fas fa-hashtag mr-1"}),(null===(r=e.inputs)||void 0===r?void 0:r.length)||0," params"]})]})]})]}),(0,a.jsx)(p,{text:e.name,size:"small",variant:"ghost"})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"text-gray-400 font-medium mb-2",children:"Parameters:"}),(0,a.jsx)("div",{className:"bg-gray-800/50 p-3 rounded",children:e.inputs&&e.inputs.length>0?(0,a.jsx)("div",{className:"space-y-2",children:e.inputs.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("code",{className:"text-yellow-300",children:e.name||`param${t}`}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("code",{className:"text-blue-300",children:e.type}),e.indexed&&(0,a.jsx)("span",{className:"inline-flex items-center px-1 py-0.5 rounded text-xs font-semibold bg-purple-500/20 text-purple-400",children:"indexed"})]})]},t))}):(0,a.jsx)("span",{className:"text-gray-500 italic",children:"No parameters"})})]})]},t)})}),"raw"===o&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Se,{code:m,language:"json"}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(p,{text:m,size:"small",variant:"ghost"})})]})]})}):(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,a.jsx)("i",{className:"fas fa-file-code text-gray-400 text-2xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No ABI Available"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm max-w-md mx-auto leading-relaxed",children:"The Application Binary Interface (ABI) is not available for this contract. The ABI is required to interact with smart contract functions."})]})})},je=t=>{let{bytecode:r,isLoading:n=!1,error:i=null}=t;const[s,o]=(0,e.useState)("overview"),[l,c]=(0,e.useState)(""),[h,u]=(0,e.useState)("hex"),d=(0,e.useMemo)(()=>{if(!r||"string"!==typeof r)return{size:0,sizeKB:0,isValid:!1,hasConstructor:!1,estimatedGasCost:0,opcodeCount:0,uniqueOpcodes:0};const e=r.startsWith("0x")?r.slice(2):r,t=e.length/2,n=200*t,i=t;return{size:t,sizeKB:t/1024,isValid:/^[0-9a-fA-F]*$/.test(e)&&e.length%2===0,hasConstructor:e.includes("60806040")||e.includes("608060405260"),estimatedGasCost:n,opcodeCount:i,uniqueOpcodes:new Set(e.match(/.{1,2}/g)||[]).size}},[r]),f=(e,t)=>{if(!e)return"";const r=e.startsWith("0x")?e.slice(2):e;if("bytes"===t){return(r.match(/.{1,2}/g)||[]).map((e,t)=>`${e}${(t+1)%16===0?"\n":" "}`).join("")}return`0x${r}`},m=(0,e.useMemo)(()=>{if(!l||!r)return f(r,h);const e=f(r,h),t=new RegExp(l,"gi");return e.replace(t,`**${l}**`)},[r,l,h]);return n?(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-40"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3,4,5].map(e=>(0,a.jsx)("div",{className:"h-4 bg-gray-700 rounded w-full"},e))})]})}):i?(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-white text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Error Loading Bytecode"}),(0,a.jsx)("p",{className:"text-gray-400",children:i.message||"Failed to load contract bytecode"})]})}):r&&"0x"!==r?(0,a.jsx)("div",{className:"space-y-6 animate-fade-in",children:(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-microchip text-white"})}),"Contract Bytecode"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:["raw"===s&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),(0,a.jsx)("input",{type:"text",placeholder:"Search bytecode...",value:l,onChange:e=>c(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:border-cyan-500 transition-colors"})]}),"raw"===s&&(0,a.jsxs)("select",{value:h,onChange:e=>u(e.target.value),className:"px-3 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:border-cyan-500 transition-colors",children:[(0,a.jsx)("option",{value:"hex",children:"Hex Format"}),(0,a.jsx)("option",{value:"bytes",children:"Byte Format"})]}),(0,a.jsx)(p,{text:r,size:"default",variant:"primary",showLabel:!0})]})]}),(0,a.jsxs)("div",{className:"flex bg-gray-900/60 rounded-lg p-1 border border-gray-700 mb-6",children:[(0,a.jsxs)("button",{onClick:()=>o("overview"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("overview"===s?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-chart-bar"}),(0,a.jsx)("span",{children:"Overview"})]}),(0,a.jsxs)("button",{onClick:()=>o("raw"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("raw"===s?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-code"}),(0,a.jsx)("span",{children:"Raw Bytecode"})]}),(0,a.jsxs)("button",{onClick:()=>o("analyzed"),className:"px-4 py-2 rounded text-sm font-medium transition-all flex items-center space-x-2 "+("analyzed"===s?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-microscope"}),(0,a.jsx)("span",{children:"Analysis"})]})]}),"overview"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-lg border border-blue-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Size (Bytes)"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:d.size.toLocaleString()})]}),(0,a.jsx)("i",{className:"fas fa-weight text-blue-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Size (KB)"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:d.sizeKB.toFixed(2)})]}),(0,a.jsx)("i",{className:"fas fa-file text-green-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-amber-900/30 to-amber-800/30 rounded-lg border border-amber-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-amber-300 text-sm font-medium",children:"Deploy Cost"}),(0,a.jsxs)("p",{className:"text-white text-2xl font-bold",children:[Math.round(d.estimatedGasCost/1e3),"K"]})]}),(0,a.jsx)("i",{className:"fas fa-gas-pump text-amber-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Opcodes"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:d.uniqueOpcodes})]}),(0,a.jsx)("i",{className:"fas fa-microchip text-purple-400 text-xl"})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("i",{className:"fas "+(d.isValid?"fa-check-circle text-green-400":"fa-times-circle text-red-400")}),(0,a.jsx)("h4",{className:"font-semibold text-white",children:"Validation Status"})]}),(0,a.jsx)("p",{className:"text-sm "+(d.isValid?"text-green-300":"text-red-300"),children:d.isValid?"Valid hexadecimal bytecode":"Invalid bytecode format"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-2",children:[(0,a.jsx)("i",{className:"fas "+(d.hasConstructor?"fa-hammer text-orange-400":"fa-times text-gray-400")}),(0,a.jsx)("h4",{className:"font-semibold text-white",children:"Constructor"})]}),(0,a.jsx)("p",{className:"text-sm "+(d.hasConstructor?"text-orange-300":"text-gray-400"),children:d.hasConstructor?"Constructor pattern detected":"No constructor detected"})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("h4",{className:"font-semibold text-white mb-3 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-ruler mr-2 text-cyan-400"}),"Size Analysis"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Total Size:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[d.size," bytes (",d.sizeKB.toFixed(2)," KB)"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Estimated Gas Cost:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[d.estimatedGasCost.toLocaleString()," gas"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Contract Efficiency:"}),(0,a.jsx)("span",{className:"font-semibold "+(d.sizeKB<10?"text-green-400":d.sizeKB<20?"text-yellow-400":"text-red-400"),children:d.sizeKB<10?"Efficient":d.sizeKB<20?"Moderate":"Large"})]})]})]})]}),"raw"===s&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-3 bg-cyan-900/20 border border-cyan-500/30 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-cyan-300 text-sm",children:[(0,a.jsx)("i",{className:"fas fa-info-circle"}),(0,a.jsxs)("span",{children:["hex"===h?"Displaying as continuous hexadecimal string":"Displaying as formatted bytes (16 per line)",l&&` | Searching for: "${l}"`]})]})}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto bg-gray-900 rounded-lg border border-gray-700",children:(0,a.jsx)(Se,{code:m,language:"text",className:"text-xs font-mono"})}),(0,a.jsx)("div",{className:"absolute top-4 right-4",children:(0,a.jsx)(p,{text:f(r,h),size:"small",variant:"ghost"})})]}),l&&(0,a.jsx)("div",{className:"p-3 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:(0,a.jsxs)("p",{className:"text-blue-300 text-sm",children:[(0,a.jsx)("i",{className:"fas fa-search mr-2"}),m.split(l).length-1,' occurrence(s) of "',l,'" found']})})]}),"analyzed"===s&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-6 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("h4",{className:"font-semibold text-white mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-microscope mr-2 text-purple-400"}),"Bytecode Structure"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-gray-400 font-medium mb-2",children:"Analysis Results"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Format:"}),(0,a.jsx)("span",{className:"text-white",children:r.startsWith("0x")?"Hexadecimal with 0x prefix":"Raw hexadecimal"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Hex Characters:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:(r.startsWith("0x")?r.slice(2):r).length})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Byte Count:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:d.size})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Unique Bytes:"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[d.uniqueOpcodes,"/256"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"text-gray-400 font-medium mb-2",children:"Deployment Impact"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Gas Estimate:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:d.estimatedGasCost.toLocaleString()})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"ETH Cost (~):"}),(0,a.jsxs)("span",{className:"text-white font-mono",children:[(20*d.estimatedGasCost/1e9).toFixed(4)," ETH"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Size Category:"}),(0,a.jsx)("span",{className:"font-semibold "+(d.sizeKB<5?"text-green-400":d.sizeKB<15?"text-yellow-400":"text-red-400"),children:d.sizeKB<5?"Small":d.sizeKB<15?"Medium":"Large"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Optimization:"}),(0,a.jsx)("span",{className:"text-gray-300",children:d.sizeKB<10?"Well optimized":"Could be optimized"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 bg-gradient-to-r from-blue-900/30 to-indigo-900/30 border border-blue-500/50 rounded-lg",children:[(0,a.jsxs)("h5",{className:"font-semibold text-blue-300 mb-2 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-lightbulb mr-2"}),"Optimization Recommendations"]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm text-blue-200",children:[d.sizeKB>20&&(0,a.jsx)("p",{children:"\u2022 Consider enabling Solidity optimizer with higher runs for smaller bytecode"}),d.sizeKB>15&&(0,a.jsx)("p",{children:"\u2022 Large contracts may hit the 24KB deployment limit on some networks"}),d.sizeKB<5&&(0,a.jsx)("p",{children:"\u2022 Well-optimized contract size - good for gas efficiency"}),(0,a.jsxs)("p",{children:["\u2022 Estimated deployment cost: ~",Math.round(d.estimatedGasCost/1e3),"K gas"]})]})]})]})]})}):(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,a.jsx)("i",{className:"fas fa-microchip text-gray-400 text-2xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No Bytecode Available"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm max-w-md mx-auto leading-relaxed",children:"The contract bytecode is not available. This might be because the contract hasn't been deployed or the bytecode couldn't be retrieved from the blockchain."})]})})};var _e=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Ae=new A("properties/5.8.0");function Pe(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function Ee(e,t){for(let r=0;r<32;r++){if(e[t])return e[t];if(!e.prototype||"object"!==typeof e.prototype)break;e=Object.getPrototypeOf(e.prototype).constructor}return null}function Qe(e){return _e(this,void 0,void 0,function*(){const t=Object.keys(e).map(t=>{const r=e[t];return Promise.resolve(r).then(e=>({key:t,value:e}))});return(yield Promise.all(t)).reduce((e,t)=>(e[t.key]=t.value,e),{})})}function Ce(e){const t={};for(const r in e)t[r]=e[r];return t}const Me={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Te(e){if(void 0===e||null===e||Me[typeof e])return!0;if(Array.isArray(e)||"object"===typeof e){if(!Object.isFrozen(e))return!1;const r=Object.keys(e);for(let n=0;n<r.length;n++){let i=null;try{i=e[r[n]]}catch(t){continue}if(!Te(i))return!1}return!0}return Ae.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function Re(e){if(Te(e))return e;if(Array.isArray(e))return Object.freeze(e.map(e=>$e(e)));if("object"===typeof e){const t={};for(const r in e){const n=e[r];void 0!==n&&Pe(t,r,$e(n))}return t}return Ae.throwArgumentError("Cannot deepCopy "+typeof e,"object",e)}function $e(e){return Re(e)}class De{constructor(e){for(const t in e)this[t]=$e(e[t])}}const Le="providers/5.8.0";var Ie=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Ze=new A("abstract-signer/5.8.0"),Be=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],ze=[A.errors.INSUFFICIENT_FUNDS,A.errors.NONCE_EXPIRED,A.errors.REPLACEMENT_UNDERPRICED];class qe{constructor(){Ze.checkAbstract(new.target,qe),Pe(this,"_isSigner",!0)}getBalance(e){return Ie(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Ie(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Ie(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Qe(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Ie(this,void 0,void 0,function*(){this._checkProvider("call");const r=yield Qe(this.checkTransaction(e));return yield this.provider.call(r,t)})}sendTransaction(e){return Ie(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),r=yield this.signTransaction(t);return yield this.provider.sendTransaction(r)})}getChainId(){return Ie(this,void 0,void 0,function*(){this._checkProvider("getChainId");return(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Ie(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Ie(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Ie(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const r in e)-1===Be.indexOf(r)&&Ze.throwArgumentError("invalid transaction key: "+r,"transaction",e);const t=Ce(e);return null==t.from?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(t=>(t[0].toLowerCase()!==t[1].toLowerCase()&&Ze.throwArgumentError("from address mismatch","transaction",e),t[0])),t}populateTransaction(e){return Ie(this,void 0,void 0,function*(){const t=yield Qe(this.checkTransaction(e));null!=t.to&&(t.to=Promise.resolve(t.to).then(e=>Ie(this,void 0,void 0,function*(){if(null==e)return null;const t=yield this.resolveName(e);return null==t&&Ze.throwArgumentError("provided ENS name resolves to null","tx.to",e),t})),t.to.catch(e=>{}));const r=null!=t.maxFeePerGas||null!=t.maxPriorityFeePerGas;if(null==t.gasPrice||2!==t.type&&!r?0!==t.type&&1!==t.type||!r||Ze.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e):Ze.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e),2!==t.type&&null!=t.type||null==t.maxFeePerGas||null==t.maxPriorityFeePerGas)if(0===t.type||1===t.type)null==t.gasPrice&&(t.gasPrice=this.getGasPrice());else{const e=yield this.getFeeData();if(null==t.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(t.type=2,null!=t.gasPrice){const e=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=e,t.maxPriorityFeePerGas=e}else null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(r&&Ze.throwError("network does not support EIP-1559",A.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),null==t.gasPrice&&(t.gasPrice=e.gasPrice),t.type=0):Ze.throwError("failed to get consistent fee data",A.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else 2===t.type&&(null==t.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null==t.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}else t.type=2;return null==t.nonce&&(t.nonce=this.getTransactionCount("pending")),null==t.gasLimit&&(t.gasLimit=this.estimateGas(t).catch(e=>{if(ze.indexOf(e.code)>=0)throw e;return Ze.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,tx:t})})),null==t.chainId?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(t=>(0!==t[1]&&t[0]!==t[1]&&Ze.throwArgumentError("chainId address mismatch","transaction",e),t[0])),yield Qe(t)})}_checkProvider(e){this.provider||Ze.throwError("missing provider",A.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!(!e||!e._isSigner)}}class Ue extends qe{constructor(e,t){super(),Pe(this,"address",e),Pe(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Ze.throwError(e,A.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,r){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new Ue(this.address,e)}}var Xe=__webpack_require__(674),Fe=__webpack_require__.n(Xe);function Ve(e){return"0x"+Fe().keccak_256(R(e))}const Ye=new A("rlp/5.8.0");function We(e){const t=[];for(;e;)t.unshift(255&e),e>>=8;return t}function Ge(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function He(e){if(Array.isArray(e)){let t=[];if(e.forEach(function(e){t=t.concat(He(e))}),t.length<=55)return t.unshift(192+t.length),t;const r=We(t.length);return r.unshift(247+r.length),r.concat(t)}C(e)||Ye.throwArgumentError("RLP object must be BytesLike","object",e);const t=Array.prototype.slice.call(R(e));if(1===t.length&&t[0]<=127)return t;if(t.length<=55)return t.unshift(128+t.length),t;const r=We(t.length);return r.unshift(183+r.length),r.concat(t)}function Ke(e){return Z(He(e))}function Je(e,t,r,n){const i=[];for(;r<t+1+n;){const s=et(e,r);i.push(s.result),(r+=s.consumed)>t+1+n&&Ye.throwError("child data too short",A.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function et(e,t){if(0===e.length&&Ye.throwError("data too short",A.errors.BUFFER_OVERRUN,{}),e[t]>=248){const r=e[t]-247;t+1+r>e.length&&Ye.throwError("data short segment too short",A.errors.BUFFER_OVERRUN,{});const n=Ge(e,t+1,r);return t+1+r+n>e.length&&Ye.throwError("data long segment too short",A.errors.BUFFER_OVERRUN,{}),Je(e,t,t+1+r,r+n)}if(e[t]>=192){const r=e[t]-192;return t+1+r>e.length&&Ye.throwError("data array too short",A.errors.BUFFER_OVERRUN,{}),Je(e,t,t+1,r)}if(e[t]>=184){const r=e[t]-183;t+1+r>e.length&&Ye.throwError("data array too short",A.errors.BUFFER_OVERRUN,{});const n=Ge(e,t+1,r);t+1+r+n>e.length&&Ye.throwError("data array too short",A.errors.BUFFER_OVERRUN,{});return{consumed:1+r+n,result:Z(e.slice(t+1+r,t+1+r+n))}}if(e[t]>=128){const r=e[t]-128;t+1+r>e.length&&Ye.throwError("data too short",A.errors.BUFFER_OVERRUN,{});return{consumed:1+r,result:Z(e.slice(t+1,t+1+r))}}return{consumed:1,result:Z(e[t])}}function tt(e){const t=R(e),r=et(t,0);return r.consumed!==t.length&&Ye.throwArgumentError("invalid rlp data","data",e),r.result}const rt=new A("address/5.8.0");function nt(e){L(e,20)||rt.throwArgumentError("invalid address","address",e);const t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=R(Ve(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(15&n[i>>1])>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const it={};for(let wo=0;wo<10;wo++)it[String(wo)]=String(wo);for(let wo=0;wo<26;wo++)it[String.fromCharCode(65+wo)]=String(10+wo);const st=Math.floor((ot=9007199254740991,Math.log10?Math.log10(ot):Math.log(ot)/Math.LN10));var ot;function at(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>it[e]).join("");for(;t.length>=st;){let e=t.substring(0,st);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function lt(e){let t=null;if("string"!==typeof e&&rt.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=nt(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&rt.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==at(e)&&rt.throwArgumentError("bad icap checksum","address",e),r=e.substring(4),t=new Y(r,36).toString(16);t.length<40;)t="0"+t;t=nt("0x"+t)}else rt.throwArgumentError("invalid address","address",e);var r;return t}function ct(e){let t=null;try{t=lt(e.from)}catch(r){rt.throwArgumentError("missing from address","transaction",e)}return lt(z(Ve(Ke([t,D(R(J.from(e.nonce).toHexString()))])),12))}const ht="hash/5.8.0",ut=new A("strings/5.8.0");var dt,ft;function mt(e,t,r,n,i){if(e===ft.BAD_PREFIX||e===ft.UNEXPECTED_CONTINUE){let e=0;for(let n=t+1;n<r.length&&r[n]>>6===2;n++)e++;return e}return e===ft.OVERRUN?r.length-t-1:0}!function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"}(dt||(dt={})),function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"}(ft||(ft={}));const pt=Object.freeze({error:function(e,t,r,n,i){return ut.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:mt,replace:function(e,t,r,n,i){return e===ft.OVERLONG?(n.push(i),0):(n.push(65533),mt(e,t,r))}});function gt(e,t){null==t&&(t=pt.error),e=R(e);const r=[];let n=0;for(;n<e.length;){const i=e[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if(192===(224&i))s=1,o=127;else if(224===(240&i))s=2,o=2047;else{if(240!==(248&i)){n+=t(128===(192&i)?ft.UNEXPECTED_CONTINUE:ft.BAD_PREFIX,n-1,e,r);continue}s=3,o=65535}if(n-1+s>=e.length){n+=t(ft.OVERRUN,n-1,e,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let i=e[n];if(128!=(192&i)){n+=t(ft.MISSING_CONTINUE,n,e,r),a=null;break}a=a<<6|63&i,n++}null!==a&&(a>1114111?n+=t(ft.OUT_OF_RANGE,n-1-s,e,r,a):a>=55296&&a<=57343?n+=t(ft.UTF16_SURROGATE,n-1-s,e,r,a):a<=o?n+=t(ft.OVERLONG,n-1-s,e,r,a):r.push(a))}return r}function xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.current;t!=dt.current&&(ut.checkNormalize(),e=e.normalize(t));let r=[];for(let n=0;n<e.length;n++){const t=e.charCodeAt(n);if(t<128)r.push(t);else if(t<2048)r.push(t>>6|192),r.push(63&t|128);else if(55296==(64512&t)){n++;const i=e.charCodeAt(n);if(n>=e.length||56320!==(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&t)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(t>>12|224),r.push(t>>6&63|128),r.push(63&t|128)}return R(r)}function Ot(e,t){return gt(e,t).map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10&1023),56320+(1023&e)))).join("")}function vt(e){return Ve(xt(e))}var yt=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const bt=new A(ht),wt=new Uint8Array(32);wt.fill(0);const kt=J.from(-1),St=J.from(0),Nt=J.from(1),jt=J.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const _t=X(Nt.toHexString(),32),At=X(St.toHexString(),32),Pt={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Et=["name","version","chainId","verifyingContract","salt"];function Qt(e){return function(t){return"string"!==typeof t&&bt.throwArgumentError(`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}const Ct={name:Qt("name"),version:Qt("version"),chainId:function(e){try{return J.from(e).toString()}catch(t){}return bt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",e)},verifyingContract:function(e){try{return lt(e).toLowerCase()}catch(t){}return bt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){try{const t=R(e);if(32!==t.length)throw new Error("bad length");return Z(t)}catch(t){}return bt.throwArgumentError('invalid domain value "salt"',"domain.salt",e)}};function Mt(e){{const t=e.match(/^(u?)int(\d*)$/);if(t){const r=""===t[1],n=parseInt(t[2]||"256");(n%8!==0||n>256||t[2]&&t[2]!==String(n))&&bt.throwArgumentError("invalid numeric width","type",e);const i=jt.mask(r?n-1:n),s=r?i.add(Nt).mul(kt):St;return function(t){const r=J.from(t);return(r.lt(s)||r.gt(i))&&bt.throwArgumentError(`value out-of-bounds for ${e}`,"value",t),X(r.toTwos(256).toHexString(),32)}}}{const t=e.match(/^bytes(\d+)$/);if(t){const r=parseInt(t[1]);return(0===r||r>32||t[1]!==String(r))&&bt.throwArgumentError("invalid bytes width","type",e),function(t){return R(t).length!==r&&bt.throwArgumentError(`invalid length for ${e}`,"value",t),function(e){const t=R(e),r=t.length%32;return r?q([t,wt.slice(r)]):Z(t)}(t)}}}switch(e){case"address":return function(e){return X(lt(e),32)};case"bool":return function(e){return e?_t:At};case"bytes":return function(e){return Ve(e)};case"string":return function(e){return vt(e)}}return null}function Tt(e,t){return`${e}(${t.map(e=>{let{name:t,type:r}=e;return r+" "+t}).join(",")})`}class Rt{constructor(e){Pe(this,"types",Object.freeze($e(e))),Pe(this,"_encoderCache",{}),Pe(this,"_types",{});const t={},r={},n={};Object.keys(e).forEach(e=>{t[e]={},r[e]=[],n[e]={}});for(const s in e){const n={};e[s].forEach(i=>{n[i.name]&&bt.throwArgumentError(`duplicate variable name ${JSON.stringify(i.name)} in ${JSON.stringify(s)}`,"types",e),n[i.name]=!0;const o=i.type.match(/^([^\x5b]*)(\x5b|$)/)[1];o===s&&bt.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e);Mt(o)||(r[o]||bt.throwArgumentError(`unknown type ${JSON.stringify(o)}`,"types",e),r[o].push(s),t[s][o]=!0)})}const i=Object.keys(r).filter(e=>0===r[e].length);0===i.length?bt.throwArgumentError("missing primary type","types",e):i.length>1&&bt.throwArgumentError(`ambiguous primary types or unused types: ${i.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),Pe(this,"primaryType",i[0]),function i(s,o){o[s]&&bt.throwArgumentError(`circular type reference to ${JSON.stringify(s)}`,"types",e),o[s]=!0,Object.keys(t[s]).forEach(e=>{r[e]&&(i(e,o),Object.keys(o).forEach(t=>{n[t][e]=!0}))}),delete o[s]}(this.primaryType,{});for(const s in n){const t=Object.keys(n[s]);t.sort(),this._types[s]=Tt(s,e[s])+t.map(t=>Tt(t,e[t])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const t=Mt(e);if(t)return t}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const e=t[1],r=this.getEncoder(e),n=parseInt(t[3]);return t=>{n>=0&&t.length!==n&&bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t);let i=t.map(r);return this._types[e]&&(i=i.map(Ve)),Ve(q(i))}}const r=this.types[e];if(r){const t=vt(this._types[e]);return e=>{const n=r.map(t=>{let{name:r,type:n}=t;const i=this.getEncoder(n)(e[r]);return this._types[n]?Ve(i):i});return n.unshift(t),q(n)}}return bt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||bt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ve(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(Mt(e))return r(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const e=n[1],i=parseInt(n[3]);return i>=0&&t.length!==i&&bt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(t=>this._visit(e,t,r))}const i=this.types[e];return i?i.reduce((e,n)=>{let{name:i,type:s}=n;return e[i]=this._visit(s,t[i],r),e},{}):bt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new Rt(e)}static getPrimaryType(e){return Rt.from(e).primaryType}static hashStruct(e,t,r){return Rt.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){const n=Pt[r];n||bt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>Et.indexOf(e.name)-Et.indexOf(t.name)),Rt.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return q(["0x1901",Rt.hashDomain(e),Rt.from(t).hash(r)])}static hash(e,t,r){return Ve(Rt.encode(e,t,r))}static resolveNames(e,t,r,n){return yt(this,void 0,void 0,function*(){e=Ce(e);const i={};e.verifyingContract&&!L(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const s=Rt.from(t);s.visit(r,(e,t)=>("address"!==e||L(t,20)||(i[t]="0x"),t));for(const e in i)i[e]=yield n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}})}static getPayload(e,t,r){Rt.hashDomain(e);const n={},i=[];Et.forEach(t=>{const r=e[t];null!=r&&(n[t]=Ct[t](r),i.push({name:t,type:Pt[t]}))});const s=Rt.from(t),o=Ce(t);return o.EIP712Domain?bt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return Z(R(t));if(e.match(/^u?int/))return J.from(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return"string"!==typeof t&&bt.throwArgumentError("invalid string","value",t),t}return bt.throwArgumentError("unsupported type","type",e)})}}}const $t=J.from(-1),Dt=J.from(0),Lt=J.from(1),It=J.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Zt=__webpack_require__(166),Bt=__webpack_require__.n(Zt);"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof __webpack_require__.g?__webpack_require__.g:"undefined"!==typeof self&&self;function zt(e,t,r){return r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===t||null===t)&&r.path)}},e(r,r.exports),r.exports}var qt=Ut;function Ut(e,t){if(!e)throw new Error(t||"Assertion failed")}Ut.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Xt=zt(function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}}),Ft=zt(function(e,t){var r=t;r.assert=qt,r.toArray=Xt.toArray,r.zero2=Xt.zero2,r.toHex=Xt.toHex,r.encode=Xt.encode,r.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<t+1,o=e.clone();for(n=0;n<i.length;n++){var a,l=o.andln(s-1);o.isOdd()?(a=l>(s>>1)-1?(s>>1)-l:l,o.isubn(a)):a=0,i[n]=a,o.iushrn(1)}return i},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,s=0;e.cmpn(-i)>0||t.cmpn(-s)>0;){var o,a,l=e.andln(3)+i&3,c=t.andln(3)+s&3;3===l&&(l=-1),3===c&&(c=-1),o=0===(1&l)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?l:-l,r[0].push(o),a=0===(1&c)?0:3!==(n=t.andln(7)+s&7)&&5!==n||2!==l?c:-c,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new(O())(e,"hex","le")}}),Vt=Ft.getNAF,Yt=Ft.getJSF,Wt=Ft.assert;function Gt(e,t){this.type=e,this.p=new(O())(t.p,16),this.red=t.prime?O().red(t.prime):O().mont(this.p),this.zero=new(O())(0).toRed(this.red),this.one=new(O())(1).toRed(this.red),this.two=new(O())(2).toRed(this.red),this.n=t.n&&new(O())(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ht=Gt;function Kt(e,t){this.curve=e,this.type=t,this.precomputed=null}Gt.prototype.point=function(){throw new Error("Not implemented")},Gt.prototype.validate=function(){throw new Error("Not implemented")},Gt.prototype._fixedNafMul=function(e,t){Wt(e.precomputed);var r=e._getDoubles(),n=Vt(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var l=s+r.step-1;l>=s;l--)o=(o<<1)+n[l];a.push(o)}for(var c=this.jpoint(null,null,null),h=this.jpoint(null,null,null),u=i;u>0;u--){for(s=0;s<a.length;s++)(o=a[s])===u?h=h.mixedAdd(r.points[s]):o===-u&&(h=h.mixedAdd(r.points[s].neg()));c=c.add(h)}return c.toP()},Gt.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Vt(t,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var l=0;a>=0&&0===s[a];a--)l++;if(a>=0&&l++,o=o.dblp(l),a<0)break;var c=s[a];Wt(0!==c),o="affine"===e.type?c>0?o.mixedAdd(i[c-1>>1]):o.mixedAdd(i[-c-1>>1].neg()):c>0?o.add(i[c-1>>1]):o.add(i[-c-1>>1].neg())}return"affine"===e.type?o.toP():o},Gt.prototype._wnafMulAdd=function(e,t,r,n,i){var s,o,a,l=this._wnafT1,c=this._wnafT2,h=this._wnafT3,u=0;for(s=0;s<n;s++){var d=(a=t[s])._getNAFPoints(e);l[s]=d.wnd,c[s]=d.points}for(s=n-1;s>=1;s-=2){var f=s-1,m=s;if(1===l[f]&&1===l[m]){var p=[t[f],null,null,t[m]];0===t[f].y.cmp(t[m].y)?(p[1]=t[f].add(t[m]),p[2]=t[f].toJ().mixedAdd(t[m].neg())):0===t[f].y.cmp(t[m].y.redNeg())?(p[1]=t[f].toJ().mixedAdd(t[m]),p[2]=t[f].add(t[m].neg())):(p[1]=t[f].toJ().mixedAdd(t[m]),p[2]=t[f].toJ().mixedAdd(t[m].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],x=Yt(r[f],r[m]);for(u=Math.max(x[0].length,u),h[f]=new Array(u),h[m]=new Array(u),o=0;o<u;o++){var O=0|x[0][o],v=0|x[1][o];h[f][o]=g[3*(O+1)+(v+1)],h[m][o]=0,c[f]=p}}else h[f]=Vt(r[f],l[f],this._bitLength),h[m]=Vt(r[m],l[m],this._bitLength),u=Math.max(h[f].length,u),u=Math.max(h[m].length,u)}var y=this.jpoint(null,null,null),b=this._wnafT4;for(s=u;s>=0;s--){for(var w=0;s>=0;){var k=!0;for(o=0;o<n;o++)b[o]=0|h[o][s],0!==b[o]&&(k=!1);if(!k)break;w++,s--}if(s>=0&&w++,y=y.dblp(w),s<0)break;for(o=0;o<n;o++){var S=b[o];0!==S&&(S>0?a=c[o][S-1>>1]:S<0&&(a=c[o][-S-1>>1].neg()),y="affine"===a.type?y.mixedAdd(a):y.add(a))}}for(s=0;s<n;s++)c[s]=null;return i?y:y.toP()},Gt.BasePoint=Kt,Kt.prototype.eq=function(){throw new Error("Not implemented")},Kt.prototype.validate=function(){return this.curve.validate(this)},Gt.prototype.decodePoint=function(e,t){e=Ft.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?Wt(e[e.length-1]%2===0):7===e[0]&&Wt(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Kt.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Kt.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Kt.prototype.encode=function(e,t){return Ft.encode(this._encode(t),e)},Kt.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Kt.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Kt.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var s=0;s<e;s++)n=n.dbl();r.push(n)}return{step:e,points:r}},Kt.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Kt.prototype._getBeta=function(){return null},Kt.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Jt=zt(function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}),er=Ft.assert;function tr(e){Ht.call(this,"short",e),this.a=new(O())(e.a,16).toRed(this.red),this.b=new(O())(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Jt(tr,Ht);var rr=tr;function nr(e,t,r,n){Ht.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new(O())(t,16),this.y=new(O())(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function ir(e,t,r,n){Ht.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new(O())(0)):(this.x=new(O())(t,16),this.y=new(O())(r,16),this.z=new(O())(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}tr.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new(O())(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new(O())(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],er(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map(function(e){return{a:new(O())(e.a,16),b:new(O())(e.b,16)}}):this._getEndoBasis(r)}}},tr.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:O().mont(e),r=new(O())(2).toRed(t).redInvm(),n=r.redNeg(),i=new(O())(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},tr.prototype._getEndoBasis=function(e){for(var t,r,n,i,s,o,a,l,c,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),u=e,d=this.n.clone(),f=new(O())(1),m=new(O())(0),p=new(O())(0),g=new(O())(1),x=0;0!==u.cmpn(0);){var v=d.div(u);l=d.sub(v.mul(u)),c=p.sub(v.mul(f));var y=g.sub(v.mul(m));if(!n&&l.cmp(h)<0)t=a.neg(),r=f,n=l.neg(),i=c;else if(n&&2===++x)break;a=l,d=u,u=l,p=f,f=c,g=m,m=y}s=l.neg(),o=c;var b=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(b)>=0&&(s=t,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},tr.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),l=i.mul(r.b),c=s.mul(n.b);return{k1:e.sub(o).sub(a),k2:l.add(c).neg()}},tr.prototype.pointFromX=function(e,t){(e=new(O())(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},tr.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},tr.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var o=this._endoSplit(t[s]),a=e[s],l=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),l=l.neg(!0)),n[2*s]=a,n[2*s+1]=l,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var c=this._wnafMulAdd(1,n,i,2*s,r),h=0;h<2*s;h++)n[h]=null,i[h]=null;return c},Jt(nr,Ht.BasePoint),tr.prototype.point=function(e,t,r){return new nr(this,e,t,r)},tr.prototype.pointFromJSON=function(e,t){return nr.fromJSON(this,e,t)},nr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},nr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nr.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var s=t[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},nr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nr.prototype.isInfinity=function(){return this.inf},nr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},nr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},nr.prototype.getX=function(){return this.x.fromRed()},nr.prototype.getY=function(){return this.y.fromRed()},nr.prototype.mul=function(e){return e=new(O())(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},nr.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},nr.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},nr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},nr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},nr.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Jt(ir,Ht.BasePoint),tr.prototype.jpoint=function(e,t,r){return new ir(this,e,t,r)},ir.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},ir.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},ir.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),o=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=s.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),h=c.redMul(a),u=n.redMul(c),d=l.redSqr().redIAdd(h).redISub(u).redISub(u),f=l.redMul(u.redISub(d)).redISub(s.redMul(h)),m=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(d,f,m)},ir.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,s=e.y.redMul(t).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=o.redSqr(),c=l.redMul(o),h=r.redMul(l),u=a.redSqr().redIAdd(c).redISub(h).redISub(h),d=a.redMul(h.redISub(u)).redISub(i.redMul(c)),f=this.z.redMul(o);return this.curve.jpoint(u,d,f)},ir.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,l=a.redSqr().redSqr(),c=o.redAdd(o);for(t=0;t<e;t++){var h=s.redSqr(),u=c.redSqr(),d=u.redSqr(),f=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(l)),m=s.redMul(u),p=f.redSqr().redISub(m.redAdd(m)),g=m.redISub(p),x=f.redMul(g);x=x.redIAdd(x).redISub(d);var O=c.redMul(a);t+1<e&&(l=l.redMul(d)),s=p,a=O,c=x}return this.curve.jpoint(s,c.redMul(i),a)},ir.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},ir.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(o).redISub(o),c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),e=l,t=a.redMul(o.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),u=this.y.redSqr(),d=u.redSqr(),f=this.x.redAdd(u).redSqr().redISub(h).redISub(d);f=f.redIAdd(f);var m=h.redAdd(h).redIAdd(h),p=m.redSqr(),g=d.redIAdd(d);g=(g=g.redIAdd(g)).redIAdd(g),e=p.redISub(f).redISub(f),t=m.redMul(f.redISub(e)).redISub(g),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},ir.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);e=l;var c=s.redIAdd(s);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(o.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),u=this.y.redSqr(),d=this.x.redMul(u),f=this.x.redSub(h).redMul(this.x.redAdd(h));f=f.redAdd(f).redIAdd(f);var m=d.redIAdd(d),p=(m=m.redIAdd(m)).redAdd(m);e=f.redSqr().redISub(p),r=this.y.redAdd(this.z).redSqr().redISub(u).redISub(h);var g=u.redSqr();g=(g=(g=g.redIAdd(g)).redIAdd(g)).redIAdd(g),t=f.redMul(m.redISub(e)).redISub(g)}return this.curve.jpoint(e,t,r)},ir.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=t.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),l=t.redAdd(t),c=(l=l.redIAdd(l)).redMul(o),h=a.redSqr().redISub(c.redAdd(c)),u=c.redISub(h),d=o.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=a.redMul(u).redISub(d),m=r.redAdd(r).redMul(n);return this.curve.jpoint(h,f,m)},ir.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),o=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),l=n.redIAdd(n);l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var c=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(l),h=t.redMul(c);h=(h=h.redIAdd(h)).redIAdd(h);var u=this.x.redMul(a).redISub(h);u=(u=u.redIAdd(u)).redIAdd(u);var d=this.y.redMul(c.redMul(l.redISub(c)).redISub(o.redMul(a)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var f=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(u,d,f)},ir.prototype.mul=function(e,t){return e=new(O())(e,t),this.curve._wnafMul(this,e)},ir.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},ir.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},ir.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},ir.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var sr=zt(function(e,t){var r=t;r.base=Ht,r.short=rr,r.mont=null,r.edwards=null}),or=zt(function(e,t){var r,n=t,i=Ft.assert;function s(e){"short"===e.type?this.curve=new sr.short(e):"edwards"===e.type?this.curve=new sr.edwards(e):this.curve=new sr.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new s(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Bt().sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Bt().sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Bt().sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Bt().sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Bt().sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Bt().sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Bt().sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch(a){r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Bt().sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})});function ar(e){if(!(this instanceof ar))return new ar(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Xt.toArray(e.entropy,e.entropyEnc||"hex"),r=Xt.toArray(e.nonce,e.nonceEnc||"hex"),n=Xt.toArray(e.pers,e.persEnc||"hex");qt(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var lr=ar;ar.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},ar.prototype._hmac=function(){return new(Bt().hmac)(this.hash,this.K)},ar.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ar.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=Xt.toArray(e,t),r=Xt.toArray(r,n),qt(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ar.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=Xt.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(r),this._reseed++,Xt.encode(s,t)};var cr=Ft.assert;function hr(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var ur=hr;hr.fromPublic=function(e,t,r){return t instanceof hr?t:new hr(e,{pub:t,pubEnc:r})},hr.fromPrivate=function(e,t,r){return t instanceof hr?t:new hr(e,{priv:t,privEnc:r})},hr.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},hr.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},hr.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},hr.prototype._importPrivate=function(e,t){this.priv=new(O())(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},hr.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?cr(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||cr(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},hr.prototype.derive=function(e){return e.validate()||cr(e.validate(),"public point not validated"),e.mul(this.priv).getX()},hr.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},hr.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},hr.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var dr=Ft.assert;function fr(e,t){if(e instanceof fr)return e;this._importDER(e,t)||(dr(e.r&&e.s,"Signature without r or s"),this.r=new(O())(e.r,16),this.s=new(O())(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var mr=fr;function pr(){this.place=0}function gr(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,s=0,o=t.place;s<n;s++,o++)i<<=8,i|=e[o],i>>>=0;return!(i<=127)&&(t.place=o,i)}function xr(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Or(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}fr.prototype._importDER=function(e,t){e=Ft.toArray(e,t);var r=new pr;if(48!==e[r.place++])return!1;var n=gr(e,r);if(!1===n)return!1;if(n+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var i=gr(e,r);if(!1===i)return!1;if(0!==(128&e[r.place]))return!1;var s=e.slice(r.place,i+r.place);if(r.place+=i,2!==e[r.place++])return!1;var o=gr(e,r);if(!1===o)return!1;if(e.length!==o+r.place)return!1;if(0!==(128&e[r.place]))return!1;var a=e.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new(O())(s),this.s=new(O())(a),this.recoveryParam=null,!0},fr.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=xr(t),r=xr(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];Or(n,t.length),(n=n.concat(t)).push(2),Or(n,r.length);var i=n.concat(r),s=[48];return Or(s,i.length),s=s.concat(i),Ft.encode(s,e)};var vr=function(){throw new Error("unsupported")},yr=Ft.assert;function br(e){if(!(this instanceof br))return new br(e);"string"===typeof e&&(yr(Object.prototype.hasOwnProperty.call(or,e),"Unknown curve "+e),e=or[e]),e instanceof or.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var wr=br;br.prototype.keyPair=function(e){return new ur(this,e)},br.prototype.keyFromPrivate=function(e,t){return ur.fromPrivate(this,e,t)},br.prototype.keyFromPublic=function(e,t){return ur.fromPublic(this,e,t)},br.prototype.genKeyPair=function(e){e||(e={});for(var t=new lr({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||vr(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new(O())(2));;){var i=new(O())(t.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},br.prototype._truncateToN=function(e,t,r){var n;if(O().isBN(e)||"number"===typeof e)n=(e=new(O())(e,16)).byteLength();else if("object"===typeof e)n=e.length,e=new(O())(e,16);else{var i=e.toString();n=i.length+1>>>1,e=new(O())(i,16)}"number"!==typeof r&&(r=8*n);var s=r-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},br.prototype.sign=function(e,t,r,n){if("object"===typeof r&&(n=r,r=null),n||(n={}),"string"!==typeof e&&"number"!==typeof e&&!O().isBN(e)){yr("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),yr(e.length>>>0===e.length);for(var i=0;i<e.length;i++)yr((255&e[i])===e[i])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,n.msgBitLength),yr(!e.isNeg(),"Can not sign a negative message");var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s);yr(new(O())(a).eq(e),"Can not sign message");for(var l=new lr({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new(O())(1)),h=0;;h++){var u=n.k?n.k(h):new(O())(l.generate(this.n.byteLength()));if(!((u=this._truncateToN(u,!0)).cmpn(1)<=0||u.cmp(c)>=0)){var d=this.g.mul(u);if(!d.isInfinity()){var f=d.getX(),m=f.umod(this.n);if(0!==m.cmpn(0)){var p=u.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(d.getY().isOdd()?1:0)|(0!==f.cmp(m)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new mr({r:m,s:p,recoveryParam:g})}}}}}},br.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var s=(t=new mr(t,"hex")).r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,l=o.invm(this.n),c=l.mul(e).umod(this.n),h=l.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),h)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(c,r.getPublic(),h)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},br.prototype.recoverPubKey=function(e,t,r,n){yr((3&r)===r,"The recovery param is more than two bits"),t=new mr(t,n);var i=this.n,s=new(O())(e),o=t.r,a=t.s,l=1&r,c=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&c)throw new Error("Unable to find sencond key candinate");o=c?this.curve.pointFromX(o.add(this.curve.n),l):this.curve.pointFromX(o,l);var h=t.r.invm(i),u=i.sub(s).mul(h).umod(i),d=a.mul(h).umod(i);return this.g.mulAdd(u,o,d)},br.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new mr(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(e,t,i)}catch(e){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var kr=zt(function(e,t){var r=t;r.version="6.6.1",r.utils=Ft,r.rand=function(){throw new Error("unsupported")},r.curve=sr,r.curves=or,r.ec=wr,r.eddsa=null}).ec;const Sr=new A("signing-key/5.8.0");let Nr=null;function jr(){return Nr||(Nr=new kr("secp256k1")),Nr}class _r{constructor(e){Pe(this,"curve","secp256k1"),Pe(this,"privateKey",Z(e)),32!==B(this.privateKey)&&Sr.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=jr().keyFromPrivate(R(this.privateKey));Pe(this,"publicKey","0x"+t.getPublic(!1,"hex")),Pe(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Pe(this,"_isSigningKey",!0)}_addPoint(e){const t=jr().keyFromPublic(R(this.publicKey)),r=jr().keyFromPublic(R(e));return"0x"+t.pub.add(r.pub).encodeCompressed("hex")}signDigest(e){const t=jr().keyFromPrivate(R(this.privateKey)),r=R(e);32!==r.length&&Sr.throwArgumentError("bad digest length","digest",e);const n=t.sign(r,{canonical:!0});return F({recoveryParam:n.recoveryParam,r:X("0x"+n.r.toString(16),32),s:X("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=jr().keyFromPrivate(R(this.privateKey)),r=jr().keyFromPublic(R(Ar(e)));return X("0x"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function Ar(e,t){const r=R(e);if(32===r.length){const e=new _r(r);return t?"0x"+jr().keyFromPrivate(r).getPublic(!0,"hex"):e.publicKey}return 33===r.length?t?Z(r):"0x"+jr().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?t?"0x"+jr().keyFromPublic(r).getPublic(!0,"hex"):Z(r):Sr.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Pr=new A("transactions/5.8.0");var Er;function Qr(e){return"0x"===e?null:lt(e)}function Cr(e){return"0x"===e?Dt:J.from(e)}!function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"}(Er||(Er={}));function Mr(e,t){return function(e){return lt(z(Ve(z(Ar(e),1)),12))}(function(e,t){const r=F(t),n={r:R(r.r),s:R(r.s)};return"0x"+jr().recoverPubKey(R(e),n,r.recoveryParam).encode("hex",!1)}(R(e),t))}function Tr(e,t){const r=D(J.from(e).toHexString());return r.length>32&&Pr.throwArgumentError("invalid length for "+t,"transaction:"+t,e),r}function Rr(e,t){return{address:lt(e),storageKeys:(t||[]).map((t,r)=>(32!==B(t)&&Pr.throwArgumentError("invalid access list storageKey",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function $r(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&Pr.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${t}]`,e),Rr(e[0],e[1])):Rr(e.address,e.storageKeys));const t=Object.keys(e).map(t=>{const r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return Rr(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function Dr(e){return $r(e).map(e=>[e.address,e.storageKeys])}function Lr(e,t){if(null!=e.gasPrice){const t=J.from(e.gasPrice),r=J.from(e.maxFeePerGas||0);t.eq(r)||Pr.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:t,maxFeePerGas:r})}const r=[Tr(e.chainId||0,"chainId"),Tr(e.nonce||0,"nonce"),Tr(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Tr(e.maxFeePerGas||0,"maxFeePerGas"),Tr(e.gasLimit||0,"gasLimit"),null!=e.to?lt(e.to):"0x",Tr(e.value||0,"value"),e.data||"0x",Dr(e.accessList||[])];if(t){const e=F(t);r.push(Tr(e.recoveryParam,"recoveryParam")),r.push(D(e.r)),r.push(D(e.s))}return q(["0x02",Ke(r)])}function Ir(e,t){const r=[Tr(e.chainId||0,"chainId"),Tr(e.nonce||0,"nonce"),Tr(e.gasPrice||0,"gasPrice"),Tr(e.gasLimit||0,"gasLimit"),null!=e.to?lt(e.to):"0x",Tr(e.value||0,"value"),e.data||"0x",Dr(e.accessList||[])];if(t){const e=F(t);r.push(Tr(e.recoveryParam,"recoveryParam")),r.push(D(e.r)),r.push(D(e.s))}return q(["0x01",Ke(r)])}function Zr(e,t,r){try{const r=Cr(t[0]).toNumber();if(0!==r&&1!==r)throw new Error("bad recid");e.v=r}catch(n){Pr.throwArgumentError("invalid v for transaction type: 1","v",t[0])}e.r=X(t[1],32),e.s=X(t[2],32);try{const t=Ve(r(e));e.from=Mr(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(n){}}function Br(e){const t=R(e);if(t[0]>127)return function(e){const t=tt(e);9!==t.length&&6!==t.length&&Pr.throwArgumentError("invalid raw transaction","rawTransaction",e);const r={nonce:Cr(t[0]).toNumber(),gasPrice:Cr(t[1]),gasLimit:Cr(t[2]),to:Qr(t[3]),value:Cr(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=J.from(t[6]).toNumber()}catch(n){return r}if(r.r=X(t[7],32),r.s=X(t[8],32),J.from(r.r).isZero()&&J.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let i=r.v-27;const s=t.slice(0,6);0!==r.chainId&&(s.push(Z(r.chainId)),s.push("0x"),s.push("0x"),i-=2*r.chainId+8);const o=Ve(Ke(s));try{r.from=Mr(o,{r:Z(r.r),s:Z(r.s),recoveryParam:i})}catch(n){}r.hash=Ve(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=tt(e.slice(1));8!==t.length&&11!==t.length&&Pr.throwArgumentError("invalid component count for transaction type: 1","payload",Z(e));const r={type:1,chainId:Cr(t[0]).toNumber(),nonce:Cr(t[1]).toNumber(),gasPrice:Cr(t[2]),gasLimit:Cr(t[3]),to:Qr(t[4]),value:Cr(t[5]),data:t[6],accessList:$r(t[7])};return 8===t.length||(r.hash=Ve(e),Zr(r,t.slice(8),Ir)),r}(t);case 2:return function(e){const t=tt(e.slice(1));9!==t.length&&12!==t.length&&Pr.throwArgumentError("invalid component count for transaction type: 2","payload",Z(e));const r=Cr(t[2]),n=Cr(t[3]),i={type:2,chainId:Cr(t[0]).toNumber(),nonce:Cr(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Cr(t[4]),to:Qr(t[5]),value:Cr(t[6]),data:t[7],accessList:$r(t[8])};return 9===t.length||(i.hash=Ve(e),Zr(i,t.slice(9),Lr)),i}(t)}return Pr.throwError(`unsupported transaction type: ${t[0]}`,A.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:t[0]})}function zr(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return R(t)}function qr(e){e=R(e);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var Ur=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};function Xr(e,t){return Ur(this,void 0,void 0,function*(){null==t&&(t={});const r={method:t.method||"GET",headers:t.headers||{},body:t.body||void 0};if(!0!==t.skipFetchSetup&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),null!=t.fetchOptions){const e=t.fetchOptions;e.mode&&(r.mode=e.mode),e.cache&&(r.cache=e.cache),e.credentials&&(r.credentials=e.credentials),e.redirect&&(r.redirect=e.redirect),e.referrer&&(r.referrer=e.referrer)}const n=yield fetch(e,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((e,t)=>{s[t.toLowerCase()]=e}):n.headers.keys().forEach(e=>{s[e.toLowerCase()]=n.headers.get(e)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:R(new Uint8Array(i))}})}var Fr=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Vr=new A("web/5.8.0");function Yr(e){return new Promise(t=>{setTimeout(t,e)})}function Wr(e,t){if(null==e)return null;if("string"===typeof e)return e;if(C(e)){if(t&&("text"===t.split("/")[0]||"application/json"===t.split(";")[0].trim()))try{return Ot(e)}catch(r){}return Z(e)}return e}function Gr(e,t,r){let n=null;if(null!=t){n=xt(t);const r="string"===typeof e?{url:e}:Ce(e);if(r.headers){0!==Object.keys(r.headers).filter(e=>"content-type"===e.toLowerCase()).length||(r.headers=Ce(r.headers),r.headers["content-type"]="application/json")}else r.headers={"content-type":"application/json"};e=r}return function(e,t,r){const n="object"===typeof e&&null!=e.throttleLimit?e.throttleLimit:12;Vr.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i="object"===typeof e?e.throttleCallback:null,s="object"===typeof e&&"number"===typeof e.throttleSlotInterval?e.throttleSlotInterval:100;Vr.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o="object"===typeof e&&!!e.errorPassThrough,a={};let l=null;const c={method:"GET"};let h=!1,u=12e4;if("string"===typeof e)l=e;else if("object"===typeof e){if(null!=e&&null!=e.url||Vr.throwArgumentError("missing URL","connection.url",e),l=e.url,"number"===typeof e.timeout&&e.timeout>0&&(u=e.timeout),e.headers)for(const t in e.headers)a[t.toLowerCase()]={key:t,value:String(e.headers[t])},["if-none-match","if-modified-since"].indexOf(t.toLowerCase())>=0&&(h=!0);if(c.allowGzip=!!e.allowGzip,null!=e.user&&null!=e.password){"https:"!==l.substring(0,6)&&!0!==e.allowInsecureAuthentication&&Vr.throwError("basic authentication requires a secure https url",A.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:e.user,password:"[REDACTED]"});const t=e.user+":"+e.password;a.authorization={key:"Authorization",value:"Basic "+qr(xt(t))}}null!=e.skipFetchSetup&&(c.skipFetchSetup=!!e.skipFetchSetup),null!=e.fetchOptions&&(c.fetchOptions=Ce(e.fetchOptions))}const d=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=l?l.match(d):null;if(f)try{const e={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?zr(f[3]):(m=f[3],xt(m.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16)))))};let t=e.body;return r&&(t=r(e.body,e)),Promise.resolve(t)}catch(O){Vr.throwError("processing response error",A.errors.SERVER_ERROR,{body:Wr(f[1],f[2]),error:O,requestBody:null,requestMethod:"GET",url:l})}var m;t&&(c.method="POST",c.body=t,null==a["content-type"]&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),null==a["content-length"]&&(a["content-length"]={key:"Content-Length",value:String(t.length)}));const p={};Object.keys(a).forEach(e=>{const t=a[e];p[t.key]=t.value}),c.headers=p;const g=function(){let e=null;return{promise:new Promise(function(t,r){u&&(e=setTimeout(()=>{null!=e&&(e=null,r(Vr.makeError("timeout",A.errors.TIMEOUT,{requestBody:Wr(c.body,p["content-type"]),requestMethod:c.method,timeout:u,url:l})))},u))}),cancel:function(){null!=e&&(clearTimeout(e),e=null)}}}(),x=function(){return Fr(this,void 0,void 0,function*(){for(let e=0;e<n;e++){let t=null;try{if(t=yield Xr(l,c),e<n)if(301===t.statusCode||302===t.statusCode){const e=t.headers.location||"";if("GET"===c.method&&e.match(/^https:/)){l=t.headers.location;continue}}else if(429===t.statusCode){let r=!0;if(i&&(r=yield i(e,l)),r){let r=0;const n=t.headers["retry-after"];r="string"===typeof n&&n.match(/^[1-9][0-9]*$/)?1e3*parseInt(n):s*parseInt(String(Math.random()*Math.pow(2,e))),yield Yr(r);continue}}}catch(O){t=O.response,null==t&&(g.cancel(),Vr.throwError("missing response",A.errors.SERVER_ERROR,{requestBody:Wr(c.body,p["content-type"]),requestMethod:c.method,serverError:O,url:l}))}let a=t.body;if(h&&304===t.statusCode?a=null:!o&&(t.statusCode<200||t.statusCode>=300)&&(g.cancel(),Vr.throwError("bad response",A.errors.SERVER_ERROR,{status:t.statusCode,headers:t.headers,body:Wr(a,t.headers?t.headers["content-type"]:null),requestBody:Wr(c.body,p["content-type"]),requestMethod:c.method,url:l})),r)try{const e=yield r(a,t);return g.cancel(),e}catch(O){if(O.throttleRetry&&e<n){let t=!0;if(i&&(t=yield i(e,l)),t){const t=s*parseInt(String(Math.random()*Math.pow(2,e)));yield Yr(t);continue}}g.cancel(),Vr.throwError("processing response error",A.errors.SERVER_ERROR,{body:Wr(a,t.headers?t.headers["content-type"]:null),error:O,requestBody:Wr(c.body,p["content-type"]),requestMethod:c.method,url:l})}return g.cancel(),a}return Vr.throwError("failed response",A.errors.SERVER_ERROR,{requestBody:Wr(c.body,p["content-type"]),requestMethod:c.method,url:l})})}();return Promise.race([g.promise,x])}(e,n,(e,t)=>{let n=null;if(null!=e)try{n=JSON.parse(Ot(e))}catch(i){Vr.throwError("invalid JSON",A.errors.SERVER_ERROR,{body:e,error:i})}return r&&(n=r(n,t)),n})}function Hr(e,t){return t||(t={}),null==(t=Ce(t)).floor&&(t.floor=0),null==t.ceiling&&(t.ceiling=1e4),null==t.interval&&(t.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>!s&&(s=!0,i&&clearTimeout(i),!0);t.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},t.timeout));const a=t.retryLimit;let l=0;!function i(){return e().then(function(e){if(void 0!==e)o()&&r(e);else if(t.oncePoll)t.oncePoll.once("poll",i);else if(t.onceBlock)t.onceBlock.once("block",i);else if(!s){if(l++,l>a)return void(o()&&n(new Error("retry limit reached")));let e=t.interval*parseInt(String(Math.random()*Math.pow(2,l)));e<t.floor&&(e=t.floor),e>t.ceiling&&(e=t.ceiling),setTimeout(i,e)}return null},function(e){o()&&n(e)})}()})}var Kr=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Jr=new A("abstract-provider/5.8.0");class en extends De{static isForkEvent(e){return!(!e||!e._isForkEvent)}}class tn{constructor(){Jr.checkAbstract(new.target,tn),Pe(this,"_isProvider",!0)}getFeeData(){return Kr(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Qe({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(e=>null)});let r=null,n=null,i=null;return e&&e.baseFeePerGas&&(r=e.baseFeePerGas,i=J.from("1500000000"),n=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:r,maxFeePerGas:n,maxPriorityFeePerGas:i,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!(!e||!e._isProvider)}}class rn{constructor(e){Pe(this,"alphabet",e),Pe(this,"base",e.length),Pe(this,"_alphabetMap",{}),Pe(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=R(e);if(0===t.length)return"";let r=[0];for(let i=0;i<t.length;++i){let e=t[i];for(let t=0;t<r.length;++t)e+=r[t]<<8,r[t]=e%this.base,e=e/this.base|0;for(;e>0;)r.push(e%this.base),e=e/this.base|0}let n="";for(let i=0;0===t[i]&&i<t.length-1;++i)n+=this._leader;for(let i=r.length-1;i>=0;--i)n+=this.alphabet[r[i]];return n}decode(e){if("string"!==typeof e)throw new TypeError("Expected String");let t=[];if(0===e.length)return new Uint8Array(t);t.push(0);for(let r=0;r<e.length;r++){let n=this._alphabetMap[e[r]];if(void 0===n)throw new Error("Non-base"+this.base+" character");let i=n;for(let e=0;e<t.length;++e)i+=t[e]*this.base,t[e]=255&i,i>>=8;for(;i>0;)t.push(255&i),i>>=8}for(let r=0;e[r]===this._leader&&r<e.length-1;++r)t.push(0);return R(new Uint8Array(t.reverse()))}}new rn("abcdefghijklmnopqrstuvwxyz234567");const nn=new rn("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function sn(e,t){null==t&&(t=1);const r=[],n=r.forEach,i=function(e,t){n.call(e,function(e){t>0&&Array.isArray(e)?i(e,t-1):r.push(e)})};return i(e,t),r}function on(e){return function(e){let t=0;return()=>e[t++]}(function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let y=1;y<n;y++)s.push(i+=r());let o=r(),a=t;t+=o;let l=0,c=0;function h(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}const u=Math.pow(2,31),d=u>>>1,f=d>>1,m=u-1;let p=0;for(let y=0;y<31;y++)p=p<<1|h();let g=[],x=0,O=u;for(;;){let e=Math.floor(((p-x+1)*i-1)/O),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;g.push(t);let o=x+Math.floor(O*s[t]/i),a=x+Math.floor(O*s[t+1]/i)-1;for(;0==((o^a)&d);)p=p<<1&m|h(),o=o<<1&m,a=a<<1&m|1;for(;o&~a&f;)p=p&d|p<<1&m>>>1|h(),o=o<<1^d,a=(a^d)<<1|d|1;x=o,O=1+a-o}let v=n-4;return g.map(t=>{switch(t-v){case 3:return v+65792+(e[a++]<<16|e[a++]<<8|e[a++]);case 2:return v+256+(e[a++]<<8|e[a++]);case 1:return v+e[a++];default:return t-1}})}(e))}function an(e){return 1&e?~e>>1:e>>1}function ln(e,t){let r=Array(e);for(let n=0,i=-1;n<e;n++)r[n]=i+=1+t();return r}function cn(e,t){let r=Array(e);for(let n=0,i=0;n<e;n++)r[n]=i+=an(t());return r}function hn(e,t){let r=ln(e(),e),n=e(),i=ln(n,e),s=function(e,t){let r=Array(e);for(let n=0;n<e;n++)r[n]=1+t();return r}(n,e);for(let o=0;o<n;o++)for(let e=0;e<s[o];e++)r.push(i[o]+e);return t?r.map(e=>t[e]):r}function un(e,t,r){let n=Array(e).fill(void 0).map(()=>[]);for(let i=0;i<t;i++)cn(e,r).forEach((e,t)=>n[t].push(e));return n}function dn(e,t){let r=1+t(),n=t(),i=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(r)}return t}(t);return sn(un(i.length,1+e,t).map((e,t)=>{const s=e[0],o=e.slice(1);return Array(i[t]).fill(void 0).map((e,t)=>{let i=t*n;return[s+t*r,o.map(e=>e+i)]})}))}function fn(e,t){return un(1+t(),1+e,t).map(e=>[e[0],e.slice(1)])}const mn=on(zr("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA==")),pn=new Set(hn(mn)),gn=new Set(hn(mn)),xn=function(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(dn(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(fn(r,e))}return function(e){const t={};for(let r=0;r<e.length;r++){const n=e[r];t[n[0]]=n[1]}return t}(sn(t))}(mn),On=function(e){let t=hn(e).sort((e,t)=>e-t);return function r(){let n=[];for(;;){let i=hn(e,t);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort((e,t)=>t.set.size-e.set.size);let i=e(),s=i%3;i=i/3|0;let o=!!(1&i);return i>>=1,{branches:n,valid:s,fe0f:o,save:1==i,check:2==i}}()}(mn);function vn(e){return function(e){return gt(xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:dt.current))}(e)}function yn(e){return e.filter(e=>65039!=e)}function bn(e){for(let r of e.split(".")){let e=vn(r);try{for(let t=e.lastIndexOf(95)-1;t>=0;t--)if(95!==e[t])throw new Error("underscore only allowed at start");if(e.length>=4&&e.every(e=>e<128)&&45===e[2]&&45===e[3])throw new Error("invalid label extension")}catch(t){throw new Error(`Invalid label "${r}": ${t.message}`)}}return e}function wn(e){return bn(function(e,t){let r=vn(e).reverse(),n=[];for(;r.length;){let e=kn(r);if(e){n.push(...t(e));continue}let i=r.pop();if(pn.has(i)){n.push(i);continue}if(gn.has(i))continue;let s=xn[i];if(!s)throw new Error(`Disallowed codepoint: 0x${i.toString(16).toUpperCase()}`);n.push(...s)}return bn((i=String.fromCodePoint(...n),i.normalize("NFC")));var i}(e,yn))}function kn(e,t){var r;let n,i,s=On,o=[],a=e.length;for(t&&(t.length=0);a;){let l=e[--a];if(s=null===(r=s.branches.find(e=>e.set.has(l)))||void 0===r?void 0:r.node,!s)break;if(s.save)i=l;else if(s.check&&l===i)break;o.push(l),s.fe0f&&(o.push(65039),a>0&&65039==e[a-1]&&a--),s.valid&&(n=o.slice(),2==s.valid&&n.splice(1,1),t&&t.push(...e.slice(a).reverse()),e.length=a)}return n}const Sn=new A(ht),Nn=new Uint8Array(32);function jn(e){if(0===e.length)throw new Error("invalid ENS name; empty component");return e}function _n(e){const t=xt(wn(e)),r=[];if(0===e.length)return r;let n=0;for(let i=0;i<t.length;i++){46===t[i]&&(r.push(jn(t.slice(n,i))),n=i+1)}if(n>=t.length)throw new Error("invalid ENS name; empty component");return r.push(jn(t.slice(n))),r}function An(e){"string"!==typeof e&&Sn.throwArgumentError("invalid ENS name; not a string","name",e);let t=Nn;const r=_n(e);for(;r.length;)t=Ve($([t,Ve(r.pop())]));return Z(t)}Nn.fill(0);const Pn=new A("networks/5.8.0");function En(e){const t=function(t,r){null==r&&(r={});const n=[];if(t.InfuraProvider&&"-"!==r.infura)try{n.push(new t.InfuraProvider(e,r.infura))}catch(i){}if(t.EtherscanProvider&&"-"!==r.etherscan)try{n.push(new t.EtherscanProvider(e,r.etherscan))}catch(i){}if(t.AlchemyProvider&&"-"!==r.alchemy)try{n.push(new t.AlchemyProvider(e,r.alchemy))}catch(i){}if(t.PocketProvider&&"-"!==r.pocket){const s=["goerli","ropsten","rinkeby","sepolia"];try{const i=new t.PocketProvider(e,r.pocket);i.network&&-1===s.indexOf(i.network.name)&&n.push(i)}catch(i){}}if(t.CloudflareProvider&&"-"!==r.cloudflare)try{n.push(new t.CloudflareProvider(e))}catch(i){}if(t.AnkrProvider&&"-"!==r.ankr)try{const i=["ropsten"],s=new t.AnkrProvider(e,r.ankr);s.network&&-1===i.indexOf(s.network.name)&&n.push(s)}catch(i){}if(t.QuickNodeProvider&&"-"!==r.quicknode)try{n.push(new t.QuickNodeProvider(e,r.quicknode))}catch(i){}if(0===n.length)return null;if(t.FallbackProvider){let i=1;return null!=r.quorum?i=r.quorum:"homestead"===e&&(i=2),new t.FallbackProvider(n,i)}return n[0]};return t.renetwork=function(e){return En(e)},t}function Qn(e,t){const r=function(r,n){return r.JsonRpcProvider?new r.JsonRpcProvider(e,t):null};return r.renetwork=function(t){return Qn(e,t)},r}const Cn={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:En("homestead")},Mn={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:En("ropsten")},Tn={chainId:63,name:"classicMordor",_defaultProvider:Qn("https://www.ethercluster.com/mordor","classicMordor")},Rn={unspecified:{chainId:0,name:"unspecified"},homestead:Cn,mainnet:Cn,morden:{chainId:2,name:"morden"},ropsten:Mn,testnet:Mn,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:En("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:En("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:En("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:En("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:En("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:Qn("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:Tn,classicTestnet:Tn,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:Qn("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:En("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:En("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:En("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};new A("sha2/5.8.0");function $n(e){return"0x"+Bt().sha256().update(R(e)).digest("hex")}var Dn=__webpack_require__(240),Ln=__webpack_require__.n(Dn);const In="0x0000000000000000000000000000000000000000",Zn=new A(Le);class Bn{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),r=this.bigNumber.bind(this),n=this.blockTag.bind(this),i=this.data.bind(this),s=this.hash.bind(this),o=this.hex.bind(this),a=this.number.bind(this),l=this.type.bind(this);return e.transaction={hash:s,type:l,accessList:Bn.allowNull(this.accessList.bind(this),null),blockHash:Bn.allowNull(s,null),blockNumber:Bn.allowNull(a,null),transactionIndex:Bn.allowNull(a,null),confirmations:Bn.allowNull(a,null),from:t,gasPrice:Bn.allowNull(r),maxPriorityFeePerGas:Bn.allowNull(r),maxFeePerGas:Bn.allowNull(r),gasLimit:r,to:Bn.allowNull(t,null),value:r,nonce:a,data:i,r:Bn.allowNull(this.uint256),s:Bn.allowNull(this.uint256),v:Bn.allowNull(a),creates:Bn.allowNull(t,null),raw:Bn.allowNull(i)},e.transactionRequest={from:Bn.allowNull(t),nonce:Bn.allowNull(a),gasLimit:Bn.allowNull(r),gasPrice:Bn.allowNull(r),maxPriorityFeePerGas:Bn.allowNull(r),maxFeePerGas:Bn.allowNull(r),to:Bn.allowNull(t),value:Bn.allowNull(r),data:Bn.allowNull(e=>this.data(e,!0)),type:Bn.allowNull(a),accessList:Bn.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:a,blockNumber:a,transactionHash:s,address:t,topics:Bn.arrayOf(s),data:i,logIndex:a,blockHash:s},e.receipt={to:Bn.allowNull(this.address,null),from:Bn.allowNull(this.address,null),contractAddress:Bn.allowNull(t,null),transactionIndex:a,root:Bn.allowNull(o),gasUsed:r,logsBloom:Bn.allowNull(i),blockHash:s,transactionHash:s,logs:Bn.arrayOf(this.receiptLog.bind(this)),blockNumber:a,confirmations:Bn.allowNull(a,null),cumulativeGasUsed:r,effectiveGasPrice:Bn.allowNull(r),status:Bn.allowNull(a),type:l},e.block={hash:Bn.allowNull(s),parentHash:s,number:a,timestamp:a,nonce:Bn.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:r,gasUsed:r,miner:Bn.allowNull(t),extraData:i,transactions:Bn.allowNull(Bn.arrayOf(s)),baseFeePerGas:Bn.allowNull(r)},e.blockWithTransactions=Ce(e.block),e.blockWithTransactions.transactions=Bn.allowNull(Bn.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Bn.allowNull(n,void 0),toBlock:Bn.allowNull(n,void 0),blockHash:Bn.allowNull(s,void 0),address:Bn.allowNull(t,void 0),topics:Bn.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Bn.allowNull(a),blockHash:Bn.allowNull(s),transactionIndex:a,removed:Bn.allowNull(this.boolean.bind(this)),address:t,data:Bn.allowFalsish(i,"0x"),topics:Bn.arrayOf(s),transactionHash:s,logIndex:a},e}accessList(e){return $r(e||[])}number(e){return"0x"===e?0:J.from(e).toNumber()}type(e){return"0x"===e||null==e?0:J.from(e).toNumber()}bigNumber(e){return J.from(e)}boolean(e){if("boolean"===typeof e)return e;if("string"===typeof e){if("true"===(e=e.toLowerCase()))return!0;if("false"===e)return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return"string"===typeof e&&(t||"0x"===e.substring(0,2)||(e="0x"+e),L(e))?e.toLowerCase():Zn.throwArgumentError("invalid hash","value",e)}data(e,t){const r=this.hex(e,t);if(r.length%2!==0)throw new Error("invalid data; odd-length - "+e);return r}address(e){return lt(e)}callAddress(e){if(!L(e,32))return null;const t=lt(z(e,12));return t===In?null:t}contractAddress(e){return ct(e)}blockTag(e){if(null==e)return"latest";if("earliest"===e)return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if("number"===typeof e||L(e))return U(e);throw new Error("invalid blockTag")}hash(e,t){const r=this.hex(e,t);return 32!==B(r)?Zn.throwArgumentError("invalid hash","value",e):r}difficulty(e){if(null==e)return null;const t=J.from(e);try{return t.toNumber()}catch(r){}return null}uint256(e){if(!L(e))throw new Error("invalid uint256");return X(e,32)}_block(e,t){null!=e.author&&null==e.miner&&(e.miner=e.author);const r=null!=e._difficulty?e._difficulty:e.difficulty,n=Bn.check(t,e);return n._difficulty=null==r?null:J.from(r),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Bn.check(this.formats.transactionRequest,e)}transactionResponse(e){null!=e.gas&&null==e.gasLimit&&(e.gasLimit=e.gas),e.to&&J.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),null!=e.input&&null==e.data&&(e.data=e.input),null==e.to&&null==e.creates&&(e.creates=this.contractAddress(e)),1!==e.type&&2!==e.type||null!=e.accessList||(e.accessList=[]);const t=Bn.check(this.formats.transaction,e);if(null!=e.chainId){let r=e.chainId;L(r)&&(r=J.from(r).toNumber()),t.chainId=r}else{let r=e.networkId;null==r&&null==t.v&&(r=e.chainId),L(r)&&(r=J.from(r).toNumber()),"number"!==typeof r&&null!=t.v&&(r=(t.v-35)/2,r<0&&(r=0),r=parseInt(r)),"number"!==typeof r&&(r=0),t.chainId=r}return t.blockHash&&"x"===t.blockHash.replace(/0/g,"")&&(t.blockHash=null),t}transaction(e){return Br(e)}receiptLog(e){return Bn.check(this.formats.receiptLog,e)}receipt(e){const t=Bn.check(this.formats.receipt,e);if(null!=t.root)if(t.root.length<=4){const e=J.from(t.root).toNumber();0===e||1===e?(null!=t.status&&t.status!==e&&Zn.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=e,delete t.root):Zn.throwArgumentError("invalid alt-root-status","value.root",t.root)}else 66!==t.root.length&&Zn.throwArgumentError("invalid root hash","value.root",t.root);return null!=t.status&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(e=>this.topics(e)):null!=e?this.hash(e,!0):null}filter(e){return Bn.check(this.formats.filter,e)}filterLog(e){return Bn.check(this.formats.filterLog,e)}static check(e,t){const r={};for(const i in e)try{const n=e[i](t[i]);void 0!==n&&(r[i]=n)}catch(n){throw n.checkKey=i,n.checkValue=t[i],n}return r}static allowNull(e,t){return function(r){return null==r?t:e(r)}}static allowFalsish(e,t){return function(r){return r?e(r):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const r=[];return t.forEach(function(t){r.push(e(t))}),r}}}var zn=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const qn=new A(Le);function Un(e){return null==e?"null":(32!==B(e)&&qn.throwArgumentError("invalid topic","topic",e),e.toLowerCase())}function Xn(e){for(e=e.slice();e.length>0&&null==e[e.length-1];)e.pop();return e.map(e=>{if(Array.isArray(e)){const t={};e.forEach(e=>{t[Un(e)]=!0});const r=Object.keys(t);return r.sort(),r.join("|")}return Un(e)}).join("&")}function Fn(e){if("string"===typeof e){if(32===B(e=e.toLowerCase()))return"tx:"+e;if(-1===e.indexOf(":"))return e}else{if(Array.isArray(e))return"filter:*:"+Xn(e);if(en.isForkEvent(e))throw qn.warn("not implemented"),new Error("not implemented");if(e&&"object"===typeof e)return"filter:"+(e.address||"*")+":"+Xn(e.topics||[])}throw new Error("invalid event - "+e)}function Vn(){return(new Date).getTime()}function Yn(e){return new Promise(t=>{setTimeout(t,e)})}const Wn=["block","network","pending","poll"];class Gn{constructor(e,t,r){Pe(this,"tag",e),Pe(this,"listener",t),Pe(this,"once",r),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return"tx"!==e[0]?null:e[1]}get filter(){const e=this.tag.split(":");if("filter"!==e[0])return null;const t=e[1],r=""===(n=e[2])?[]:n.split(/&/g).map(e=>{if(""===e)return[];const t=e.split("|").map(e=>"null"===e?null:e);return 1===t.length?t[0]:t});var n;const i={};return r.length>0&&(i.topics=r),t&&"*"!==t&&(i.address=t),i}pollable(){return this.tag.indexOf(":")>=0||Wn.indexOf(this.tag)>=0}}const Hn={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function Kn(e){return X(J.from(e).toHexString(),32)}function Jn(e){return nn.encode($([e,z($n($n(e)),0,4)]))}const ei=new RegExp("^(ipfs)://(.*)$","i"),ti=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ei,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function ri(e,t){try{return Ot(ni(e,t))}catch(r){}return null}function ni(e,t){if("0x"===e)return null;const r=J.from(z(e,t,t+32)).toNumber(),n=J.from(z(e,r,r+32)).toNumber();return z(e,r+32,r+32+n)}function ii(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):qn.throwArgumentError("unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}function si(e){const t=R(e);if(t.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(t,32-t.length),r}function oi(e){if(e.length%32===0)return e;const t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}function ai(e){const t=[];let r=0;for(let n=0;n<e.length;n++)t.push(null),r+=32;for(let n=0;n<e.length;n++){const i=R(e[n]);t[n]=si(r),t.push(si(i.length)),t.push(oi(i)),r+=32+32*Math.ceil(i.length/32)}return q(t)}class li{constructor(e,t,r,n){Pe(this,"provider",e),Pe(this,"name",r),Pe(this,"address",e.formatter.address(t)),Pe(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>J.from(e).eq(1)).catch(e=>{if(e.code===A.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return zn(this,void 0,void 0,function*(){const r={to:this.address,ccipReadEnabled:!0,data:q([e,An(this.name),t||"0x"])};let n=!1;var i;(yield this.supportsWildcard())&&(n=!0,r.data=q(["0x9061b923",ai([(i=this.name,Z($(_n(i).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"),r.data])]));try{let e=yield this.provider.call(r);return R(e).length%32===4&&qn.throwError("resolver threw error",A.errors.CALL_EXCEPTION,{transaction:r,data:e}),n&&(e=ni(e,0)),e}catch(s){if(s.code===A.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return zn(this,void 0,void 0,function*(){const r=yield this._fetch(e,t);return null!=r?ni(r,0):null})}_getAddress(e,t){const r=Hn[String(e)];if(null==r&&qn.throwError(`unsupported coin type: ${e}`,A.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),"eth"===r.ilk)return this.provider.formatter.address(t);const n=R(t);if(null!=r.p2pkh){const e=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Jn($([[r.p2pkh],"0x"+e[2]]))}}if(null!=r.p2sh){const e=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(e){const t=parseInt(e[1],16);if(e[2].length===2*t&&t>=1&&t<=75)return Jn($([[r.p2sh],"0x"+e[2]]))}}if(null!=r.prefix){const e=n[1];let t=n[0];if(0===t?20!==e&&32!==e&&(t=-1):t=-1,t>=0&&n.length===2+e&&e>=1&&e<=75){const e=Ln().toWords(n.slice(2));return e.unshift(t),Ln().encode(r.prefix,e)}}return null}getAddress(e){return zn(this,void 0,void 0,function*(){if(null==e&&(e=60),60===e)try{const e=yield this._fetch("0x3b3b57de");return"0x"===e||"0x0000000000000000000000000000000000000000000000000000000000000000"===e?null:this.provider.formatter.callAddress(e)}catch(n){if(n.code===A.errors.CALL_EXCEPTION)return null;throw n}const t=yield this._fetchBytes("0xf1cb7e06",Kn(e));if(null==t||"0x"===t)return null;const r=this._getAddress(e,t);return null==r&&qn.throwError("invalid or unsupported coin data",A.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),r})}getAvatar(){return zn(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(null==t)return null;for(let r=0;r<ti.length;r++){const n=t.match(ti[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:ii(t)};case"erc721":case"erc1155":{const r="erc721"===i?"0xc87b56dd":"0x0e89341c";e.push({type:i,content:t});const s=this._resolvedAddress||(yield this.getAddress()),o=(n[2]||"").split("/");if(2!==o.length)return null;const a=yield this.provider.formatter.address(o[0]),l=X(J.from(o[1]).toHexString(),32);if("erc721"===i){const t=this.provider.formatter.callAddress(yield this.provider.call({to:a,data:q(["0x6352211e",l])}));if(s!==t)return null;e.push({type:"owner",content:t})}else if("erc1155"===i){const t=J.from(yield this.provider.call({to:a,data:q(["0x00fdd58e",X(s,32),l])}));if(t.isZero())return null;e.push({type:"balance",content:t.toString()})}const c={to:this.provider.formatter.address(o[0]),data:q([r,l])};let h=ri(yield this.provider.call(c),0);if(null==h)return null;e.push({type:"metadata-url-base",content:h}),"erc1155"===i&&(h=h.replace("{id}",l.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=ii(h)),e.push({type:"metadata-url",content:h});const u=yield Gr(h);if(!u)return null;e.push({type:"metadata",content:JSON.stringify(u)});let d=u.image;if("string"!==typeof d)return null;if(d.match(/^(https:\/\/|data:)/i));else{if(null==d.match(ei))return null;e.push({type:"url-ipfs",content:d}),d=ii(d)}return e.push({type:"url",content:d}),{linkage:e,url:d}}}}}catch(t){}return null})}getContentHash(){return zn(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(null==e||"0x"===e)return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const e=parseInt(t[3],16);if(t[4].length===2*e)return"ipfs://"+nn.encode("0x"+t[1])}const r=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const e=parseInt(r[3],16);if(r[4].length===2*e)return"ipns://"+nn.encode("0x"+r[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&64===n[1].length)return"bzz://"+n[1];const i=e.match(/^0x90b2c605([0-9a-f]*)$/);if(i&&68===i[1].length){const e={"=":"","+":"-","/":"_"};return"sia://"+qr("0x"+i[1]).replace(/[=+\/]/g,t=>e[t])}return qn.throwError("invalid or unsupported content hash data",A.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return zn(this,void 0,void 0,function*(){let t=xt(e);t=$([Kn(64),Kn(t.length),t]),t.length%32!==0&&(t=$([t,X("0x",32-e.length%32)]));const r=yield this._fetchBytes("0x59d1d43c",Z(t));return null==r||"0x"===r?null:Ot(r)})}}let ci=null,hi=1;class ui extends tn{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Pe(this,"anyNetwork","any"===e),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(e=>{}),this._ready().catch(e=>{});else{const t=Ee(new.target,"getNetwork")(e);t?(Pe(this,"_network",t),this.emit("network",t,null)):qn.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return zn(this,void 0,void 0,function*(){if(null==this._network){let t=null;if(this._networkPromise)try{t=yield this._networkPromise}catch(e){}null==t&&(t=yield this.detectNetwork()),t||qn.throwError("no network detected",A.errors.UNKNOWN_ERROR,{}),null==this._network&&(this.anyNetwork?this._network=t:Pe(this,"_network",t),this.emit("network",t,null))}return this._network})}get ready(){return Hr(()=>this._ready().then(e=>e,e=>{if(e.code!==A.errors.NETWORK_ERROR||"noNetwork"!==e.event)throw e}))}static getFormatter(){return null==ci&&(ci=new Bn),ci}static getNetwork(e){return function(e){if(null==e)return null;if("number"===typeof e){for(const t in Rn){const r=Rn[t];if(r.chainId===e)return{name:r.name,chainId:r.chainId,ensAddress:r.ensAddress||null,_defaultProvider:r._defaultProvider||null}}return{chainId:e,name:"unknown"}}if("string"===typeof e){const t=Rn[e];return null==t?null:{name:t.name,chainId:t.chainId,ensAddress:t.ensAddress,_defaultProvider:t._defaultProvider||null}}const t=Rn[e.name];if(!t)return"number"!==typeof e.chainId&&Pn.throwArgumentError("invalid network chainId","network",e),e;0!==e.chainId&&e.chainId!==t.chainId&&Pn.throwArgumentError("network chainId mismatch","network",e);let r=e._defaultProvider||null;var n;return null==r&&t._defaultProvider&&(r=(n=t._defaultProvider)&&"function"===typeof n.renetwork?t._defaultProvider.renetwork(e):t._defaultProvider),{name:e.name,chainId:t.chainId,ensAddress:e.ensAddress||t.ensAddress||null,_defaultProvider:r}}(null==e?"homestead":e)}ccipReadFetch(e,t,r){return zn(this,void 0,void 0,function*(){if(this.disableCcipRead||0===r.length)return null;const n=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let e=0;e<r.length;e++){const t=r[e],o=t.replace("{sender}",n).replace("{data}",i),a=t.indexOf("{data}")>=0?null:JSON.stringify({data:i,sender:n}),l=yield Gr({url:o,errorPassThrough:!0},a,(e,t)=>(e.status=t.statusCode,e));if(l.data)return l.data;const c=l.message||"unknown error";if(l.status>=400&&l.status<500)return qn.throwError(`response not found during CCIP fetch: ${c}`,A.errors.SERVER_ERROR,{url:t,errorMessage:c});s.push(c)}return qn.throwError(`error encountered during CCIP fetch: ${s.map(e=>JSON.stringify(e)).join(", ")}`,A.errors.SERVER_ERROR,{urls:r,errorMessages:s})})}_getInternalBlockNumber(e){return zn(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const t=this._internalBlockNumber;try{const r=yield t;if(Vn()-r.respTime<=e)return r.blockNumber;break}catch(n){if(this._internalBlockNumber===t)break}}const t=Vn(),r=Qe({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(e=>null,e=>e)}).then(e=>{let{blockNumber:n,networkError:i}=e;if(i)throw this._internalBlockNumber===r&&(this._internalBlockNumber=null),i;const s=Vn();return n=J.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:t,respTime:s}});return this._internalBlockNumber=r,r.catch(e=>{this._internalBlockNumber===r&&(this._internalBlockNumber=null)}),(yield r).blockNumber})}poll(){return zn(this,void 0,void 0,function*(){const e=hi++,t=[];let r=null;try{r=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){return void this.emit("error",n)}if(this._setFastBlockNumber(r),this.emit("poll",e,r),r!==this._lastBlockNumber){if(-2===this._emitted.block&&(this._emitted.block=r-1),Math.abs(this._emitted.block-r)>1e3)qn.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${r})`),this.emit("error",qn.makeError("network block skew detected",A.errors.NETWORK_ERROR,{blockNumber:r,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",r);else for(let e=this._emitted.block+1;e<=r;e++)this.emit("block",e);this._emitted.block!==r&&(this._emitted.block=r,Object.keys(this._emitted).forEach(e=>{if("block"===e)return;const t=this._emitted[e];"pending"!==t&&r-t>12&&delete this._emitted[e]})),-2===this._lastBlockNumber&&(this._lastBlockNumber=r-1),this._events.forEach(e=>{switch(e.type){case"tx":{const r=e.hash;let n=this.getTransactionReceipt(r).then(e=>e&&null!=e.blockNumber?(this._emitted["t:"+r]=e.blockNumber,this.emit(r,e),null):null).catch(e=>{this.emit("error",e)});t.push(n);break}case"filter":if(!e._inflight){e._inflight=!0,-2===e._lastBlockNumber&&(e._lastBlockNumber=r-1);const n=e.filter;n.fromBlock=e._lastBlockNumber+1,n.toBlock=r;const i=n.toBlock-this._maxFilterBlockRange;i>n.fromBlock&&(n.fromBlock=i),n.fromBlock<0&&(n.fromBlock=0);const s=this.getLogs(n).then(t=>{e._inflight=!1,0!==t.length&&t.forEach(t=>{t.blockNumber>e._lastBlockNumber&&(e._lastBlockNumber=t.blockNumber),this._emitted["b:"+t.blockHash]=t.blockNumber,this._emitted["t:"+t.transactionHash]=t.blockNumber,this.emit(n,t)})}).catch(t=>{this.emit("error",t),e._inflight=!1});t.push(s)}}}),this._lastBlockNumber=r,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(e=>{this.emit("error",e)})}else this.emit("didPoll",e)})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return zn(this,void 0,void 0,function*(){return qn.throwError("provider does not support network detection",A.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return zn(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield Yn(0),this._network;const r=qn.makeError("underlying network changed",A.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",r),r}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),null!=this._fastBlockNumber?this._fastBlockNumber:-1}get polling(){return null!=this._poller}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if("number"!==typeof e||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Vn();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(e=>((null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){null!=this._fastBlockNumber&&e<this._fastBlockNumber||(this._fastQueryDate=Vn(),(null==this._fastBlockNumber||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,r){return zn(this,void 0,void 0,function*(){return this._waitForTransaction(e,null==t?1:t,r||0,null)})}_waitForTransaction(e,t,r,n){return zn(this,void 0,void 0,function*(){const i=yield this.getTransactionReceipt(e);return(i?i.confirmations:0)>=t?i:new Promise((i,s)=>{const o=[];let a=!1;const l=function(){return!!a||(a=!0,o.forEach(e=>{e()}),!1)},c=e=>{e.confirmations<t||l()||i(e)};if(this.on(e,c),o.push(()=>{this.removeListener(e,c)}),n){let r=n.startBlock,i=null;const c=o=>zn(this,void 0,void 0,function*(){a||(yield Yn(1e3),this.getTransactionCount(n.from).then(h=>zn(this,void 0,void 0,function*(){if(!a){if(h<=n.nonce)r=o;else{{const t=yield this.getTransaction(e);if(t&&null!=t.blockNumber)return}for(null==i&&(i=r-3,i<n.startBlock&&(i=n.startBlock));i<=o;){if(a)return;const r=yield this.getBlockWithTransactions(i);for(let i=0;i<r.transactions.length;i++){const o=r.transactions[i];if(o.hash===e)return;if(o.from===n.from&&o.nonce===n.nonce){if(a)return;const r=yield this.waitForTransaction(o.hash,t);if(l())return;let i="replaced";return o.data===n.data&&o.to===n.to&&o.value.eq(n.value)?i="repriced":"0x"===o.data&&o.from===o.to&&o.value.isZero()&&(i="cancelled"),void s(qn.makeError("transaction was replaced",A.errors.TRANSACTION_REPLACED,{cancelled:"replaced"===i||"cancelled"===i,reason:i,replacement:this._wrapTransaction(o),hash:e,receipt:r}))}}i++}}a||this.once("block",c)}}),e=>{a||this.once("block",c)}))});if(a)return;this.once("block",c),o.push(()=>{this.removeListener("block",c)})}if("number"===typeof r&&r>0){const e=setTimeout(()=>{l()||s(qn.makeError("timeout exceeded",A.errors.TIMEOUT,{timeout:r}))},r);e.unref&&e.unref(),o.push(()=>{clearTimeout(e)})}})})}getBlockNumber(){return zn(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return J.from(e)}catch(t){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",r);try{return J.from(n)}catch(i){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getBalance",params:r,result:n,error:i})}})}getTransactionCount(e,t){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",r);try{return J.from(n).toNumber()}catch(i){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getTransactionCount",params:r,result:n,error:i})}})}getCode(e,t){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qe({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",r);try{return Z(n)}catch(i){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getCode",params:r,result:n,error:i})}})}getStorageAt(e,t,r){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qe({address:this._getAddress(e),blockTag:this._getBlockTag(r),position:Promise.resolve(t).then(e=>U(e))}),i=yield this.perform("getStorageAt",n);try{return Z(i)}catch(s){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:i,error:s})}})}_wrapTransaction(e,t,r){if(null!=t&&32!==B(t))throw new Error("invalid response - sendTransaction");const n=e;return null!=t&&e.hash!==t&&qn.throwError("Transaction hash mismatch from Provider.sendTransaction.",A.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(t,n)=>zn(this,void 0,void 0,function*(){let i;null==t&&(t=1),null==n&&(n=0),0!==t&&null!=r&&(i={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:r});const s=yield this._waitForTransaction(e.hash,t,n,i);return null==s&&0===t?null:(this._emitted["t:"+e.hash]=s.blockNumber,0===s.status&&qn.throwError("transaction failed",A.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:s}),s)}),n}sendTransaction(e){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(e=>Z(e)),r=this.formatter.transaction(e);null==r.confirmations&&(r.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const e=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(r,e,n)}catch(i){throw i.transaction=r,i.transactionHash=r.hash,i}})}_getTransactionRequest(e){return zn(this,void 0,void 0,function*(){const t=yield e,r={};return["from","to"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?this._getAddress(e):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?J.from(e):null))}),["type"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>null!=e?e:null))}),t.accessList&&(r.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(e=>{null!=t[e]&&(r[e]=Promise.resolve(t[e]).then(e=>e?Z(e):null))}),this.formatter.transactionRequest(yield Qe(r))})}_getFilter(e){return zn(this,void 0,void 0,function*(){e=yield e;const t={};return null!=e.address&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(r=>{null!=e[r]&&(t[r]=e[r])}),["fromBlock","toBlock"].forEach(r=>{null!=e[r]&&(t[r]=this._getBlockTag(e[r]))}),this.formatter.filter(yield Qe(t))})}_call(e,t,r){return zn(this,void 0,void 0,function*(){r>=10&&qn.throwError("CCIP read exceeded maximum redirections",A.errors.SERVER_ERROR,{redirects:r,transaction:e});const n=e.to,i=yield this.perform("call",{transaction:e,blockTag:t});if(r>=0&&"latest"===t&&null!=n&&"0x556f1830"===i.substring(0,10)&&B(i)%32===4)try{const s=z(i,4),o=z(s,0,32);J.from(o).eq(n)||qn.throwError("CCIP Read sender did not match",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const a=[],l=J.from(z(s,32,64)).toNumber(),c=J.from(z(s,l,l+32)).toNumber(),h=z(s,l+32);for(let t=0;t<c;t++){const r=ri(h,32*t);null==r&&qn.throwError("CCIP Read contained corrupt URL string",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i}),a.push(r)}const u=ni(s,64);J.from(z(s,100,128)).isZero()||qn.throwError("CCIP Read callback selector included junk",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const d=z(s,96,100),f=ni(s,128),m=yield this.ccipReadFetch(e,u,a);null==m&&qn.throwError("CCIP Read disabled or provided no URLs",A.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:i});const p={to:n,data:q([d,ai([m,f])])};return this._call(p,t,r+1)}catch(s){if(s.code===A.errors.SERVER_ERROR)throw s}try{return Z(i)}catch(s){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:i,error:s})}})}call(e,t){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qe({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(r.transaction,r.blockTag,r.ccipReadEnabled?0:-1)})}estimateGas(e){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Qe({transaction:this._getTransactionRequest(e)}),r=yield this.perform("estimateGas",t);try{return J.from(r)}catch(n){return qn.throwError("bad result from backend",A.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:r,error:n})}})}_getAddress(e){return zn(this,void 0,void 0,function*(){"string"!==typeof(e=yield e)&&qn.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return null==t&&qn.throwError("ENS name not configured",A.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return zn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let r=-128;const n={includeTransactions:!!t};if(L(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),L(n.blockTag)&&(r=parseInt(n.blockTag.substring(2),16))}catch(i){qn.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Hr(()=>zn(this,void 0,void 0,function*(){const e=yield this.perform("getBlock",n);if(null==e)return null!=n.blockHash&&null==this._emitted["b:"+n.blockHash]||null!=n.blockTag&&r>this._emitted.block?null:void 0;if(t){let t=null;for(let n=0;n<e.transactions.length;n++){const r=e.transactions[n];if(null==r.blockNumber)r.confirmations=0;else if(null==r.confirmations){null==t&&(t=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let e=t-r.blockNumber+1;e<=0&&(e=1),r.confirmations=e}}const r=this.formatter.blockWithTransactions(e);return r.transactions=r.transactions.map(e=>this._wrapTransaction(e)),r}return this.formatter.block(e)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return zn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Hr(()=>zn(this,void 0,void 0,function*(){const r=yield this.perform("getTransaction",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;const n=this.formatter.transactionResponse(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return zn(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Hr(()=>zn(this,void 0,void 0,function*(){const r=yield this.perform("getTransactionReceipt",t);if(null==r)return null==this._emitted["t:"+e]?null:void 0;if(null==r.blockHash)return;const n=this.formatter.receipt(r);if(null==n.blockNumber)n.confirmations=0;else if(null==n.confirmations){let e=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;e<=0&&(e=1),n.confirmations=e}return n}),{oncePoll:this})})}getLogs(e){return zn(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Qe({filter:this._getFilter(e)}),r=yield this.perform("getLogs",t);return r.forEach(e=>{null==e.removed&&(e.removed=!1)}),Bn.arrayOf(this.formatter.filterLog.bind(this.formatter))(r)})}getEtherPrice(){return zn(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return zn(this,void 0,void 0,function*(){if("number"===typeof(e=yield e)&&e<0){e%1&&qn.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return zn(this,void 0,void 0,function*(){let t=e;for(;;){if(""===t||"."===t)return null;if("eth"!==e&&"eth"===t)return null;const r=yield this._getResolver(t,"getResolver");if(null!=r){const n=new li(this,r,e);return t===e||(yield n.supportsWildcard())?n:null}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return zn(this,void 0,void 0,function*(){null==t&&(t="ENS");const r=yield this.getNetwork();r.ensAddress||qn.throwError("network does not support ENS",A.errors.UNSUPPORTED_OPERATION,{operation:t,network:r.name});try{const t=yield this.call({to:r.ensAddress,data:"0x0178b8bf"+An(e).substring(2)});return this.formatter.callAddress(t)}catch(n){}return null})}resolveName(e){return zn(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(r){if(L(e))throw r}"string"!==typeof e&&qn.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return zn(this,void 0,void 0,function*(){e=yield e;const t=(e=this.formatter.address(e)).substring(2).toLowerCase()+".addr.reverse",r=yield this._getResolver(t,"lookupAddress");if(null==r)return null;const n=ri(yield this.call({to:r,data:"0x691f3431"+An(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return zn(this,void 0,void 0,function*(){let t=null;if(L(e)){const r=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(r,"getAvatar");if(!i)return null;t=new li(this,i,r);try{const e=yield t.getAvatar();if(e)return e.url}catch(n){if(n.code!==A.errors.CALL_EXCEPTION)throw n}try{const e=ri(yield this.call({to:i,data:"0x691f3431"+An(r).substring(2)}),0);t=yield this.getResolver(e)}catch(n){if(n.code!==A.errors.CALL_EXCEPTION)throw n;return null}}else if(t=yield this.getResolver(e),!t)return null;const r=yield t.getAvatar();return null==r?null:r.url})}perform(e,t){return qn.throwError(e+" not implemented",A.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(e=>e.pollable()).length>0}_addEventListener(e,t,r){const n=new Gn(Fn(e),t,r);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let i=!1,s=[],o=Fn(e);return this._events=this._events.filter(e=>e.tag!==o||(setTimeout(()=>{e.listener.apply(this,r)},0),i=!0,!e.once||(s.push(e),!1))),s.forEach(e=>{this._stopEvent(e)}),i}listenerCount(e){if(!e)return this._events.length;let t=Fn(e);return this._events.filter(e=>e.tag===t).length}listeners(e){if(null==e)return this._events.map(e=>e.listener);let t=Fn(e);return this._events.filter(e=>e.tag===t).map(e=>e.listener)}off(e,t){if(null==t)return this.removeAllListeners(e);const r=[];let n=!1,i=Fn(e);return this._events=this._events.filter(e=>e.tag!==i||e.listener!=t||(!!n||(n=!0,r.push(e),!1))),r.forEach(e=>{this._stopEvent(e)}),this}removeAllListeners(e){let t=[];if(null==e)t=this._events,this._events=[];else{const r=Fn(e);this._events=this._events.filter(e=>e.tag!==r||(t.push(e),!1))}return t.forEach(e=>{this._stopEvent(e)}),this}}var di=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const fi=new A(Le),mi=["call","estimateGas"];function pi(e,t){if(null==e)return null;if("string"===typeof e.message&&e.message.match("reverted")){const r=L(e.data)?e.data:null;if(!t||r)return{message:e.message,data:r}}if("object"===typeof e){for(const r in e){const n=pi(e[r],t);if(n)return n}return null}if("string"===typeof e)try{return pi(JSON.parse(e),t)}catch(r){}return null}function gi(e,t,r){const n=r.transaction||r.signedTransaction;if("call"===e){const e=pi(t,!0);if(e)return e.data;fi.throwError("missing revert data in call exception; Transaction reverted without a reason string",A.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:t})}if("estimateGas"===e){let r=pi(t.body,!1);null==r&&(r=pi(t,!1)),r&&fi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{reason:r.message,method:e,transaction:n,error:t})}let i=t.message;throw t.code===A.errors.SERVER_ERROR&&t.error&&"string"===typeof t.error.message?i=t.error.message:"string"===typeof t.body?i=t.body:"string"===typeof t.responseText&&(i=t.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&fi.throwError("insufficient funds for intrinsic transaction cost",A.errors.INSUFFICIENT_FUNDS,{error:t,method:e,transaction:n}),i.match(/nonce (is )?too low/i)&&fi.throwError("nonce has already been used",A.errors.NONCE_EXPIRED,{error:t,method:e,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&fi.throwError("replacement fee too low",A.errors.REPLACEMENT_UNDERPRICED,{error:t,method:e,transaction:n}),i.match(/only replay-protected/i)&&fi.throwError("legacy pre-eip-155 transactions not supported",A.errors.UNSUPPORTED_OPERATION,{error:t,method:e,transaction:n}),mi.indexOf(e)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&fi.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",A.errors.UNPREDICTABLE_GAS_LIMIT,{error:t,method:e,transaction:n}),t}function xi(e){return new Promise(function(t){setTimeout(t,e)})}function Oi(e){if(e.error){const t=new Error(e.error.message);throw t.code=e.error.code,t.data=e.error.data,t}return e.result}function vi(e){return e?e.toLowerCase():e}const yi={};class bi extends qe{constructor(e,t,r){if(super(),e!==yi)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pe(this,"provider",t),null==r&&(r=0),"string"===typeof r?(Pe(this,"_address",this.provider.formatter.address(r)),Pe(this,"_index",null)):"number"===typeof r?(Pe(this,"_index",r),Pe(this,"_address",null)):fi.throwArgumentError("invalid address or index","addressOrIndex",r)}connect(e){return fi.throwError("cannot alter JSON-RPC Signer connection",A.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new wi(yi,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&fi.throwError("unknown account #"+this._index,A.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Ce(e);const t=this.getAddress().then(e=>(e&&(e=e.toLowerCase()),e));if(null==e.gasLimit){const r=Ce(e);r.from=t,e.gasLimit=this.provider.estimateGas(r)}return null!=e.to&&(e.to=Promise.resolve(e.to).then(e=>di(this,void 0,void 0,function*(){if(null==e)return null;const t=yield this.provider.resolveName(e);return null==t&&fi.throwArgumentError("provided ENS name resolves to null","tx.to",e),t}))),Qe({tx:Qe(e),sender:t}).then(t=>{let{tx:r,sender:n}=t;null!=r.from?r.from.toLowerCase()!==n&&fi.throwArgumentError("from address mismatch","transaction",e):r.from=n;const i=this.provider.constructor.hexlifyTransaction(r,{from:!0});return this.provider.send("eth_sendTransaction",[i]).then(e=>e,e=>("string"===typeof e.message&&e.message.match(/user denied/i)&&fi.throwError("user rejected transaction",A.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:r}),gi("sendTransaction",e,i)))})}signTransaction(e){return fi.throwError("signing transactions is unsupported",A.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return di(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),r=yield this.sendUncheckedTransaction(e);try{return yield Hr(()=>di(this,void 0,void 0,function*(){const e=yield this.provider.getTransaction(r);if(null!==e)return this.provider._wrapTransaction(e,r,t)}),{oncePoll:this.provider})}catch(n){throw n.transactionHash=r,n}})}signMessage(e){return di(this,void 0,void 0,function*(){const t="string"===typeof e?xt(e):e,r=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Z(t),r.toLowerCase()])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&fi.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"signMessage",from:r,messageData:e}),n}})}_legacySignMessage(e){return di(this,void 0,void 0,function*(){const t="string"===typeof e?xt(e):e,r=yield this.getAddress();try{return yield this.provider.send("eth_sign",[r.toLowerCase(),Z(t)])}catch(n){throw"string"===typeof n.message&&n.message.match(/user denied/i)&&fi.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:r,messageData:e}),n}})}_signTypedData(e,t,r){return di(this,void 0,void 0,function*(){const n=yield Rt.resolveNames(e,t,r,e=>this.provider.resolveName(e)),i=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[i.toLowerCase(),JSON.stringify(Rt.getPayload(n.domain,t,n.value))])}catch(s){throw"string"===typeof s.message&&s.message.match(/user denied/i)&&fi.throwError("user rejected signing",A.errors.ACTION_REJECTED,{action:"_signTypedData",from:i,messageData:{domain:n.domain,types:t,value:n.value}}),s}})}unlock(e){return di(this,void 0,void 0,function*(){const t=this.provider,r=yield this.getAddress();return t.send("personal_unlockAccount",[r.toLowerCase(),e,null])})}}class wi extends bi{sendTransaction(e){return this.sendUncheckedTransaction(e).then(e=>({hash:e,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:t=>this.provider.waitForTransaction(e,t)}))}}const ki={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Si extends ui{constructor(e,t){let r=t;null==r&&(r=new Promise((e,t)=>{setTimeout(()=>{this.detectNetwork().then(t=>{e(t)},e=>{t(e)})},0)})),super(r),e||(e=Ee(this.constructor,"defaultUrl")()),Pe(this,"connection","string"===typeof e?Object.freeze({url:e}):Object.freeze(Ce(e))),this._nextId=42}get _cache(){return null==this._eventLoopCache&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return di(this,void 0,void 0,function*(){yield xi(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch(t){try{e=yield this.send("net_version",[])}catch(t){}}if(null!=e){const r=Ee(this.constructor,"getNetwork");try{return r(J.from(e).toNumber())}catch(t){return fi.throwError("could not detect network",A.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:t})}}return fi.throwError("could not detect network",A.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new bi(yi,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(e=>this.formatter.address(e)))}send(e,t){const r={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:$e(r),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const i=Gr(this.connection,JSON.stringify(r),Oi).then(e=>(this.emit("debug",{action:"response",request:r,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",error:e,request:r,provider:this}),e});return n&&(this._cache[e]=i,setTimeout(()=>{this._cache[e]=null},0)),i}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[vi(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[vi(t.address),t.blockTag]];case"getCode":return["eth_getCode",[vi(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[vi(t.address),X(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Ee(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Ee(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&null!=t.filter.address&&(t.filter.address=vi(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return di(this,void 0,void 0,function*(){if("call"===e||"estimateGas"===e){const e=t.transaction;if(e&&null!=e.type&&J.from(e.type).isZero()&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=yield this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&((t=Ce(t)).transaction=Ce(e),delete t.transaction.type)}}const r=this.prepareRequest(e,t);null==r&&fi.throwError(e+" not implemented",A.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(r[0],r[1])}catch(n){return gi(e,n,t)}})}_startEvent(e){"pending"===e.tag&&this._startPending(),super._startEvent(e)}_startPending(){if(null!=this._pendingFilter)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(r){return function n(){e.send("eth_getFilterChanges",[r]).then(function(r){if(e._pendingFilter!=t)return null;let n=Promise.resolve();return r.forEach(function(t){e._emitted["t:"+t.toLowerCase()]="pending",n=n.then(function(){return e.getTransaction(t).then(function(t){return e.emit("pending",t),null})})}),n.then(function(){return xi(1e3)})}).then(function(){if(e._pendingFilter==t)return setTimeout(function(){n()},0),null;e.send("eth_uninstallFilter",[r])}).catch(e=>{})}(),r}).catch(e=>{})}_stopEvent(e){"pending"===e.tag&&0===this.listenerCount("pending")&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const r=Ce(ki);if(t)for(const o in t)t[o]&&(r[o]=!0);var n,i;i=r,(n=e)&&"object"===typeof n||Ae.throwArgumentError("invalid object","object",n),Object.keys(n).forEach(e=>{i[e]||Ae.throwArgumentError("invalid object key - "+e,"transaction:"+e,n)});const s={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(t){if(null==e[t])return;const r=U(J.from(e[t]));"gasLimit"===t&&(t="gas"),s[t]=r}),["from","to","data"].forEach(function(t){null!=e[t]&&(s[t]=Z(e[t]))}),e.accessList&&(s.accessList=$r(e.accessList)),s}}const Ni=new A(Le);let ji=1;function _i(e,t){const r="Web3LegacyFetcher";return function(e,n){const i={method:e,params:n,id:ji++,jsonrpc:"2.0"};return new Promise((e,n)=>{this.emit("debug",{action:"request",fetcher:r,request:$e(i),provider:this}),t(i,(t,s)=>{if(t)return this.emit("debug",{action:"response",fetcher:r,error:t,request:i,provider:this}),n(t);if(this.emit("debug",{action:"response",fetcher:r,request:i,response:s,provider:this}),s.error){const e=new Error(s.error.message);return e.code=s.error.code,e.data=s.error.data,n(e)}e(s.result)})})}}class Ai extends Si{constructor(e,t){null==e&&Ni.throwArgumentError("missing provider","provider",e);let r=null,n=null,i=null;"function"===typeof e?(r="unknown:",n=e):(r=e.host||e.path||"",!r&&e.isMetaMask&&(r="metamask"),i=e,e.request?(""===r&&(r="eip-1193:"),n=function(e){return function(t,r){null==r&&(r=[]);const n={method:t,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:$e(n),provider:this}),e.request(n).then(e=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:e,provider:this}),e),e=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:e,provider:this}),e})}}(e)):e.sendAsync?n=_i(0,e.sendAsync.bind(e)):e.send?n=_i(0,e.send.bind(e)):Ni.throwArgumentError("unsupported provider","provider",e),r||(r="unknown:")),super(r,t),Pe(this,"jsonRpcFetchFunc",n),Pe(this,"provider",i)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Pi="abi/5.8.0",Ei=new A(Pi);class Qi{constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){Ei.throwArgumentError(e,this.localName,t)}}class Ci{constructor(e){Pe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return q(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData($(e._data))}writeBytes(e){let t=R(e);const r=t.length%this.wordSize;return r&&(t=$([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=R(J.from(e));return t.length>this.wordSize&&Ei.throwError("value out-of-bounds",A.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=$([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class Mi{constructor(e,t,r,n){Pe(this,"_data",R(e)),Pe(this,"wordSize",t||32),Pe(this,"_coerceFunc",r),Pe(this,"allowLoose",n),this._offset=0}get data(){return Z(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):Mi.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:Ei.throwError("data out-of-bounds",A.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new Mi(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return J.from(this.readBytes(this.wordSize))}}class Ti extends Qi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=lt(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return lt(X(e.readValue().toHexString(),20))}}class Ri extends Qi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const $i=new A(Pi);function Di(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let e={};n=t.map(t=>{const n=t.localName;return n||$i.throwError("cannot encode object for signature with missing names",A.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&$i.throwError("cannot encode object for signature with duplicate names",A.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]})}else $i.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&$i.throwArgumentError("types/value length mismatch","tuple",r);let i=new Ci(e.wordSize),s=new Ci(e.wordSize),o=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();o.push(e=>{n(e+t)})}else e.encode(i,r)}),o.forEach(e=>{e(i.length)});let a=e.appendWriter(i);return a+=e.appendWriter(s),a}function Li(e,t){let r=[],n=e.subReader(0);t.forEach(t=>{let i=null;if(t.dynamic){let r=e.readValue(),o=n.subReader(r.toNumber());try{i=t.decode(o)}catch(s){if(s.code===A.errors.BUFFER_OVERRUN)throw s;i=s,i.baseType=t.name,i.name=t.localName,i.type=t.type}}else try{i=t.decode(e)}catch(s){if(s.code===A.errors.BUFFER_OVERRUN)throw s;i=s,i.baseType=t.name,i.name=t.localName,i.type=t.type}void 0!=i&&r.push(i)});const i=t.reduce((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});t.forEach((e,t)=>{let n=e.localName;if(!n||1!==i[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const s=r[t];s instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw s}}):r[n]=s});for(let s=0;s<r.length;s++){const e=r[s];e instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Ii extends Qi{constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),$i.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let i=0;i<t.length;i++)n.push(this.coder);return Di(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&$i.throwError("insufficient data length",A.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let n=0;n<t;n++)r.push(new Ri(this.coder));return e.coerce(this.name,Li(e,r))}}class Zi extends Qi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Bi extends Qi{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=R(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class zi extends Bi{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Z(super.decode(e)))}}class qi extends Qi{constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=R(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,Z(e.readBytes(this.size)))}}class Ui extends Qi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class Xi extends Qi{constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=J.from(t),n=It.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(Lt).mul($t)))&&this._throwError("value out-of-bounds",t)}else(r.lt(Dt)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}class Fi extends Bi{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,xt(t))}decode(e){return Ot(super.decode(e))}}class Vi extends Qi{constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)});super("tuple","tuple("+n.join(",")+")",t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});const t=this.coders.reduce((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){return Di(e,this.coders,t)}decode(e){return e.coerce(this.name,Li(e,this.coders))}}const Yi=new A(Pi),Wi={};let Gi={calldata:!0,memory:!0,storage:!0},Hi={calldata:!0,memory:!0};function Ki(e,t){if("bytes"===e||"string"===e){if(Gi[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&Hi[t])return!0;return(Gi[t]||"payable"===t)&&Yi.throwArgumentError("invalid modifier","name",t),!1}function Ji(e,t){for(let r in t)Pe(e,r,t[r])}const es=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ts=new RegExp(/^(.*)\[([0-9]*)\]$/);class rs{constructor(e,t){e!==Wi&&Yi.throwError("use fromString",A.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Ji(this,t);let r=this.type.match(ts);Ji(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:rs.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=es.sighash),es[e]||Yi.throwArgumentError("invalid format type","format",e),e===es.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==es.sighash&&(t+=this.type),t+="("+this.components.map(t=>t.format(e)).join(e===es.full?", ":",")+")"):t+=this.type,e!==es.sighash&&(!0===this.indexed&&(t+=" indexed"),e===es.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"===typeof e?rs.fromString(e,t):rs.fromObject(e)}static fromObject(e){return rs.isParamType(e)?e:new rs(Wi,{name:e.name||null,type:fs(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(rs.fromObject):null})}static fromString(e,t){return r=function(e,t){let r=e;function n(t){Yi.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function i(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<e.length;a++){let r=e[a];switch(r){case"(":o.state.allowType&&""===o.type?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=fs(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,"indexed"===o.name&&(t||n(a),o.indexed=!0,o.name=""),Ki(o.type,o.name)&&(o.name=""),o.type=fs(o.type);let e=o;o=o.parent,o||n(a),delete e.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,"indexed"===o.name&&(t||n(a),o.indexed=!0,o.name=""),Ki(o.type,o.name)&&(o.name=""),o.type=fs(o.type);let s=i(o.parent);o.parent.components.push(s),delete o.parent,o=s;break;case" ":o.state.allowType&&""!==o.type&&(o.type=fs(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&""!==o.name&&("indexed"===o.name?(t||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Ki(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=r,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=r,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=r,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=r,delete o.state.allowArray):o.state.readArray?o.type+=r:n(a)}}return o.parent&&Yi.throwArgumentError("unexpected eof","param",e),delete s.state,"indexed"===o.name?(t||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Ki(o.type,o.name)&&(o.name=""),s.type=fs(s.type),s}(e,!!t),rs.fromObject({name:r.name,type:r.type,indexed:r.indexed,components:r.components});var r}static isParamType(e){return!(null==e||!e._isParamType)}}function ns(e,t){return function(e){e=e.trim();let t=[],r="",n=0;for(let i=0;i<e.length;i++){let s=e[i];","===s&&0===n?(t.push(r),r=""):(r+=s,"("===s?n++:")"===s&&(n--,-1===n&&Yi.throwArgumentError("unbalanced parenthesis","value",e)))}r&&t.push(r);return t}(e).map(e=>rs.fromString(e,t))}class is{constructor(e,t){e!==Wi&&Yi.throwError("use a static from method",A.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Ji(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return is.isFragment(e)?e:"string"===typeof e?is.fromString(e):is.fromObject(e)}static fromObject(e){if(is.isFragment(e))return e;switch(e.type){case"function":return hs.fromObject(e);case"event":return ss.fromObject(e);case"constructor":return cs.fromObject(e);case"error":return ds.fromObject(e);case"fallback":case"receive":return null}return Yi.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return"event"===(e=(e=(e=e.replace(/\s/g," ")).replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," ")).trim()).split(" ")[0]?ss.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?hs.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?cs.fromString(e.trim()):"error"===e.split(" ")[0]?ds.fromString(e.substring(5).trim()):Yi.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class ss extends is{format(e){if(e||(e=es.sighash),es[e]||Yi.throwArgumentError("invalid format type","format",e),e===es.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==es.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===es.full?", ":",")+") ",e!==es.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"===typeof e?ss.fromString(e):ss.fromObject(e)}static fromObject(e){if(ss.isEventFragment(e))return e;"event"!==e.type&&Yi.throwArgumentError("invalid event object","value",e);const t={name:ps(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(rs.fromObject):[],type:"event"};return new ss(Wi,t)}static fromString(e){let t=e.match(gs);t||Yi.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach(e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:Yi.warn("unknown modifier: "+e)}}),ss.fromObject({name:t[1].trim(),anonymous:r,inputs:ns(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function os(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&Yi.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||Yi.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=J.from(r[1]),r[0]):e}function as(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach(e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}})}function ls(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&Yi.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&Yi.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||Yi.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&Yi.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&Yi.throwArgumentError("unable to determine stateMutability","value",e),t}class cs extends is{format(e){if(e||(e=es.sighash),es[e]||Yi.throwArgumentError("invalid format type","format",e),e===es.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});e===es.sighash&&Yi.throwError("cannot format a constructor for sighash",A.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(t=>t.format(e)).join(e===es.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"===typeof e?cs.fromString(e):cs.fromObject(e)}static fromObject(e){if(cs.isConstructorFragment(e))return e;"constructor"!==e.type&&Yi.throwArgumentError("invalid constructor object","value",e);let t=ls(e);t.constant&&Yi.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(rs.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?J.from(e.gas):null};return new cs(Wi,r)}static fromString(e){let t={type:"constructor"},r=(e=os(e,t)).match(gs);return r&&"constructor"===r[1].trim()||Yi.throwArgumentError("invalid constructor string","value",e),t.inputs=ns(r[2].trim(),!1),as(r[3].trim(),t),cs.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class hs extends cs{format(e){if(e||(e=es.sighash),es[e]||Yi.throwArgumentError("invalid format type","format",e),e===es.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==es.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===es.full?", ":",")+") ",e!==es.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(t=>t.format(e)).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"===typeof e?hs.fromString(e):hs.fromObject(e)}static fromObject(e){if(hs.isFunctionFragment(e))return e;"function"!==e.type&&Yi.throwArgumentError("invalid function object","value",e);let t=ls(e);const r={type:e.type,name:ps(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(rs.fromObject):[],outputs:e.outputs?e.outputs.map(rs.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?J.from(e.gas):null};return new hs(Wi,r)}static fromString(e){let t={type:"function"},r=(e=os(e,t)).split(" returns ");r.length>2&&Yi.throwArgumentError("invalid function string","value",e);let n=r[0].match(gs);if(n||Yi.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&ps(t.name),t.inputs=ns(n[2],!1),as(n[3].trim(),t),r.length>1){let n=r[1].match(gs);""==n[1].trim()&&""==n[3].trim()||Yi.throwArgumentError("unexpected tokens","value",e),t.outputs=ns(n[2],!1)}else t.outputs=[];return hs.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function us(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||Yi.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class ds extends is{format(e){if(e||(e=es.sighash),es[e]||Yi.throwArgumentError("invalid format type","format",e),e===es.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t="";return e!==es.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(t=>t.format(e)).join(e===es.full?", ":",")+") ",t.trim()}static from(e){return"string"===typeof e?ds.fromString(e):ds.fromObject(e)}static fromObject(e){if(ds.isErrorFragment(e))return e;"error"!==e.type&&Yi.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:ps(e.name),inputs:e.inputs?e.inputs.map(rs.fromObject):[]};return us(new ds(Wi,t))}static fromString(e){let t={type:"error"},r=e.match(gs);return r||Yi.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&ps(t.name),t.inputs=ns(r[2],!1),us(ds.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function fs(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const ms=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function ps(e){return e&&e.match(ms)||Yi.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const gs=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");const xs=new A(Pi),Os=new RegExp(/^bytes([0-9]*)$/),vs=new RegExp(/^(u?int)([0-9]*)$/);const ys=new class{constructor(e){Pe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Ti(e.name);case"bool":return new Zi(e.name);case"string":return new Fi(e.name);case"bytes":return new zi(e.name);case"array":return new Ii(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new Vi((e.components||[]).map(e=>this._getCoder(e)),e.name);case"":return new Ui(e.name)}let t=e.type.match(vs);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!==0)&&xs.throwArgumentError("invalid "+t[1]+" bit length","param",e),new Xi(r/8,"int"===t[1],e.name)}if(t=e.type.match(Os),t){let r=parseInt(t[1]);return(0===r||r>32)&&xs.throwArgumentError("invalid bytes length","param",e),new qi(r,e.name)}return xs.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new Mi(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new Ci(this._getWordSize())}getDefaultValue(e){const t=e.map(e=>this._getCoder(rs.from(e)));return new Vi(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&xs.throwError("types/values length mismatch",A.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map(e=>this._getCoder(rs.from(e))),n=new Vi(r,"_"),i=this._getWriter();return n.encode(i,t),i.data}decode(e,t,r){const n=e.map(e=>this._getCoder(rs.from(e)));return new Vi(n,"_").decode(this._getReader(R(t),r))}},bs=new A(Pi);class ws extends De{}class ks extends De{}class Ss extends De{}class Ns extends De{static isIndexed(e){return!(!e||!e._isIndexed)}}const js={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function _s(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class As{constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,Pe(this,"fragments",t.map(e=>is.from(e)).filter(e=>null!=e)),Pe(this,"_abiCoder",Ee(new.target,"getAbiCoder")()),Pe(this,"functions",{}),Pe(this,"errors",{}),Pe(this,"events",{}),Pe(this,"structs",{}),this.fragments.forEach(e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void bs.warn("duplicate definition - constructor"):void Pe(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?bs.warn("duplicate definition - "+r):t[r]=e}),this.deploy||Pe(this,"deploy",cs.from({payable:!1,type:"constructor"})),Pe(this,"_isInterface",!0)}format(e){e||(e=es.full),e===es.sighash&&bs.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(t=>t.format(e));return e===es.json?JSON.stringify(t.map(e=>JSON.parse(e))):t}static getAbiCoder(){return ys}static getAddress(e){return lt(e)}static getSighash(e){return z(vt(e.format()),0,4)}static getEventTopic(e){return vt(e.format())}getFunction(e){if(L(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];bs.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter(e=>e.split("(")[0]===t);return 0===r.length?bs.throwArgumentError("no matching function","name",t):r.length>1&&bs.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[hs.fromString(e).format()];return t||bs.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(L(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];bs.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter(e=>e.split("(")[0]===t);return 0===r.length?bs.throwArgumentError("no matching event","name",t):r.length>1&&bs.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[ss.fromString(e).format()];return t||bs.throwArgumentError("no matching event","signature",e),t}getError(e){if(L(e)){const t=Ee(this.constructor,"getSighash");for(const r in this.errors){if(e===t(this.errors[r]))return this.errors[r]}bs.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter(e=>e.split("(")[0]===t);return 0===r.length?bs.throwArgumentError("no matching error","name",t):r.length>1&&bs.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[hs.fromString(e).format()];return t||bs.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(r){throw t}}return Ee(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"===typeof e&&(e=this.getEvent(e)),Ee(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"===typeof e&&(e=this.getError(e));const r=R(t);return Z(r.slice(0,4))!==this.getSighash(e)&&bs.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Z(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"===typeof e&&(e=this.getError(e)),Z($([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"===typeof e&&(e=this.getFunction(e));const r=R(t);return Z(r.slice(0,4))!==this.getSighash(e)&&bs.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Z(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Z($([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"===typeof e&&(e=this.getFunction(e));let r=R(t),n=null,i="",s=null,o=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(l){}break;case 4:{const e=Z(r.slice(0,4)),t=js[e];if(t)s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.signature,t.reason&&(n=s[0]),"Error"===o?i=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(s[0])}`:"Panic"===o&&(i=`; VM Exception while processing transaction: reverted with panic code ${s[0]}`);else try{const t=this.getError(e);s=this._abiCoder.decode(t.inputs,r.slice(4)),o=t.name,a=t.format()}catch(l){}break}}return bs.throwError("call revert exception"+i,A.errors.CALL_EXCEPTION,{method:e.format(),data:Z(t),errorArgs:s,errorName:o,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"===typeof e&&(e=this.getFunction(e)),Z(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&bs.throwError("too many arguments for "+e.format(),A.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?vt(t):"bytes"===e.type?Ve(Z(t)):("bool"===e.type&&"boolean"===typeof t&&(t=t?"0x01":"0x00"),e.type.match(/^u?int/)&&(t=J.from(t).toHexString()),"address"===e.type&&this._abiCoder.encode(["address"],[t]),X(Z(t),32));for(t.forEach((t,i)=>{let s=e.inputs[i];s.indexed?null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?bs.throwArgumentError("filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map(e=>n(s,e))):r.push(n(s,t)):null!=t&&bs.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+s.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){"string"===typeof e&&(e=this.getEvent(e));const r=[],n=[],i=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&bs.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{const o=t[s];if(e.indexed)if("string"===e.type)r.push(vt(o));else if("bytes"===e.type)r.push(Ve(o));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[o]))}else n.push(e),i.push(o)}),{data:this._abiCoder.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);L(r[0],32)&&r[0].toLowerCase()===t||bs.throwError("fragment/topic mismatch",A.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(rs.fromObject({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))});let o=null!=r?this._abiCoder.decode(n,$(r)):null,a=this._abiCoder.decode(i,t,!0),l=[],c=0,h=0;e.inputs.forEach((e,t)=>{if(e.indexed)if(null==o)l[t]=new Ns({_isIndexed:!0,hash:null});else if(s[t])l[t]=new Ns({_isIndexed:!0,hash:o[h++]});else try{l[t]=o[h++]}catch(r){l[t]=r}else try{l[t]=a[c++]}catch(r){l[t]=r}if(e.name&&null==l[e.name]){const r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw _s(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}});for(let u=0;u<l.length;u++){const e=l[u];e instanceof Error&&Object.defineProperty(l,u,{enumerable:!0,get:()=>{throw _s(`index ${u}`,e)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new ks({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:J.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new ws({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Z(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Ss({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var Ps=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(t){s(t)}}function a(e){try{l(n.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})};const Es=new A("contracts/5.8.0");function Qs(e,t){return Ps(this,void 0,void 0,function*(){const r=yield t;"string"!==typeof r&&Es.throwArgumentError("invalid address or ENS name","name",r);try{return lt(r)}catch(i){}e||Es.throwError("a provider or signer is needed to resolve ENS names",A.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&Es.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Cs(e,t,r){return Ps(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((r,n)=>Cs(e,Array.isArray(t)?t[n]:t[r.name],r))):"address"===r.type?yield Qs(e,t):"tuple"===r.type?yield Cs(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map(t=>Cs(e,t,r.arrayChildren))):Promise.reject(Es.makeError("invalid value for array",A.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t})}function Ms(e,t,r){return Ps(this,void 0,void 0,function*(){let n={};r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(n=Ce(r.pop())),Es.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=Qe({override:Qs(e.signer,n.from),signer:e.signer.getAddress()}).then(e=>Ps(this,void 0,void 0,function*(){return lt(e.signer)!==e.override&&Es.throwError("Contract with a Signer cannot override from",A.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})):n.from=e.signer.getAddress():n.from&&(n.from=Qs(e.provider,n.from));const i=yield Qe({args:Cs(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:Qe(n)||{}}),s=e.interface.encodeFunctionData(t,i.args),o={data:s,to:i.address},a=i.overrides;if(null!=a.nonce&&(o.nonce=J.from(a.nonce).toNumber()),null!=a.gasLimit&&(o.gasLimit=J.from(a.gasLimit)),null!=a.gasPrice&&(o.gasPrice=J.from(a.gasPrice)),null!=a.maxFeePerGas&&(o.maxFeePerGas=J.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=J.from(a.maxPriorityFeePerGas)),null!=a.from&&(o.from=a.from),null!=a.type&&(o.type=a.type),null!=a.accessList&&(o.accessList=$r(a.accessList)),null==o.gasLimit&&null!=t.gas){let e=21e3;const r=R(s);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);o.gasLimit=J.from(t.gas).add(e)}if(a.value){const e=J.from(a.value);e.isZero()||t.payable||Es.throwError("non-payable method cannot override value",A.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=e}a.customData&&(o.customData=Ce(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(e=>null!=n[e]);return l.length&&Es.throwError(`cannot override ${l.map(e=>JSON.stringify(e)).join(",")}`,A.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function Ts(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then(t=>(t.events=t.logs.map(r=>{let n=$e(r),i=null;try{i=e.interface.parseLog(r)}catch(s){}return i&&(n.args=i.args,n.decode=(t,r)=>e.interface.decodeEventLog(i.eventFragment,t,r),n.event=i.name,n.eventSignature=i.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n}),t))}function Rs(e,t,r){const n=e.signer||e.provider;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return Ps(this,void 0,void 0,function*(){let i;if(s.length===t.inputs.length+1&&"object"===typeof s[s.length-1]){const e=Ce(s.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,s.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const o=yield Ms(e,t,s),a=yield n.call(o,i);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(l){throw l.code===A.errors.CALL_EXCEPTION&&(l.address=e.address,l.args=s,l.transaction=o),l}})}}function $s(e,t,r){return t.constant?Rs(e,t,r):function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ps(this,void 0,void 0,function*(){e.signer||Es.throwError("sending a transaction requires a signer",A.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const r=yield Ms(e,t,n),i=yield e.signer.sendTransaction(r);return Ts(e,i),i})}}(e,t)}function Ds(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):""):"*"}class Ls{constructor(e,t){Pe(this,"tag",e),Pe(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(r=>!(!t&&r.listener===e)||(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(t=>{const r=e.slice();return setTimeout(()=>{t.listener.apply(this,r)},0),!t.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class Is extends Ls{constructor(){super("error",null)}}class Zs extends Ls{constructor(e,t,r,n){const i={address:e};let s=t.getEventTopic(r);n?(s!==n[0]&&Es.throwArgumentError("topic mismatch","topics",n),i.topics=n.slice()):i.topics=[s],super(Ds(i),i),Pe(this,"address",e),Pe(this,"interface",t),Pe(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=function(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let s in n){const o=e.slice();o.push(s);try{r(o,n[s])}catch(i){t.push({path:o,error:i})}}};return r([],e),t}(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class Bs extends Ls{constructor(e,t){super("*",{address:e}),Pe(this,"address",e),Pe(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(t){}}}class zs{constructor(e,t,r){var n=this;Pe(this,"interface",Ee(new.target,"getInterface")(t)),null==r?(Pe(this,"provider",null),Pe(this,"signer",null)):qe.isSigner(r)?(Pe(this,"provider",r.provider||null),Pe(this,"signer",r)):tn.isProvider(r)?(Pe(this,"provider",r),Pe(this,"signer",null)):Es.throwArgumentError("invalid signer or provider","signerOrProvider",r),Pe(this,"callStatic",{}),Pe(this,"estimateGas",{}),Pe(this,"functions",{}),Pe(this,"populateTransaction",{}),Pe(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach(t=>{const r=this.interface.events[t];Pe(this.filters,t,function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return{address:n.address,topics:n.interface.encodeFilterTopics(r,t)}}),e[r.name]||(e[r.name]=[]),e[r.name].push(t)}),Object.keys(e).forEach(t=>{const r=e[t];1===r.length?Pe(this.filters,t,this.filters[r[0]]):Es.warn(`Duplicate definition of ${t} (${r.join(", ")})`)})}if(Pe(this,"_runningEvents",{}),Pe(this,"_wrappedEmits",{}),null==e&&Es.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Pe(this,"address",e),this.provider)Pe(this,"resolvedAddress",Qs(this.provider,e));else try{Pe(this,"resolvedAddress",Promise.resolve(lt(e)))}catch(o){Es.throwError("provider is required to use ENS name as contract address",A.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(e=>{});const i={},s={};Object.keys(this.interface.functions).forEach(e=>{const t=this.interface.functions[e];if(s[e])Es.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{s[e]=!0;{const r=t.name;i[`%${r}`]||(i[`%${r}`]=[]),i[`%${r}`].push(e)}null==this[e]&&Pe(this,e,$s(this,t,!0)),null==this.functions[e]&&Pe(this.functions,e,$s(this,t,!1)),null==this.callStatic[e]&&Pe(this.callStatic,e,Rs(this,t,!0)),null==this.populateTransaction[e]&&Pe(this.populateTransaction,e,function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ms(e,t,n)}}(this,t)),null==this.estimateGas[e]&&Pe(this.estimateGas,e,function(e,t){const r=e.signer||e.provider;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return Ps(this,void 0,void 0,function*(){r||Es.throwError("estimate require a provider or signer",A.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield Ms(e,t,i);return yield r.estimateGas(n)})}}(this,t))}}),Object.keys(i).forEach(e=>{const t=i[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&Pe(this,e,this[r])}catch(n){}null==this.functions[e]&&Pe(this.functions,e,this.functions[r]),null==this.callStatic[e]&&Pe(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&Pe(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&Pe(this.estimateGas,e,this.estimateGas[r])})}static getContractAddress(e){return ct(e)}static getInterface(e){return As.isInterface(e)?e:new As(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(e=>("0x"===e&&Es.throwError("contract not deployed",A.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Es.throwError("sending a transactions require a signer",A.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=Ce(e||{});return["from","to"].forEach(function(e){null!=t[e]&&Es.throwError("cannot override "+e,A.errors.UNSUPPORTED_OPERATION,{operation:e})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){"string"===typeof e&&(e=new Ue(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Pe(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Ns.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new Is);if("event"===e)return this._normalizeRunningEvent(new Ls("event",null));if("*"===e)return this._normalizeRunningEvent(new Bs(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new Zs(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!==typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new Zs(this.address,this.interface,r,e.topics))}catch(t){}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Ls(Ds(r),r))}return this._normalizeRunningEvent(new Bs(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=$e(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||Es.throwError("events require a provider or a signer with a provider",A.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(i){n.decodeError=i.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),i=Ce(n.filter);return"string"===typeof t&&L(t,32)?(null!=r&&Es.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),i.blockHash=t):(i.fromBlock=null!=t?t:0,i.toBlock=null!=r?r:"latest"),this.provider.getLogs(i).then(e=>e.map(e=>this._wrapEvent(n,e,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e){if(!this.provider)return!1;const t=this._getRunningEvent(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];const s=t.run(n)>0;return this._checkRunningEvents(t),s}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce((e,t)=>e+this._runningEvents[t].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach(t=>{e.push(t)});return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class qs extends zs{}const Us=t=>{let{contract:r,func:n,args:i,value:s}=t;const{messages:l,sendMessage:c}=o("ws://localhost:8080"),[h,u]=(0,e.useState)(null),[d,f]=(0,e.useState)(""),[m,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=l.find(e=>"simulationResult"===e.type);e&&(p(!1),e.data.success?u(e.data):f(e.data.error))},[l]);return(0,a.jsxs)("div",{className:"p-4 mt-4 border-t border-gray-700",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Transaction Simulation"}),(0,a.jsx)("button",{onClick:async()=>{p(!0),f(""),u(null);const e=new Ai(window.ethereum).getSigner(),t=await e.getAddress(),o=r.interface.encodeFunctionData(n.name,i);c({type:"simulateTransaction",data:{from:t,to:r.address,data:o,value:s}})},disabled:m,className:"bg-blue-600 hover:bg-blue-700 px-4 py-1 rounded-lg text-sm",children:m?"Simulating...":"Simulate Transaction"}),d&&(0,a.jsx)("pre",{className:"text-red-400 mt-2",children:d}),h&&(0,a.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold",children:"Simulation Result"}),(0,a.jsx)("div",{className:"p-2 rounded "+(h.success?"bg-green-900":"bg-red-900"),children:(0,a.jsxs)("p",{children:["Status: ",h.success?"Success":"Failure"]})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h5",{className:"font-semibold",children:"Return Data"}),(0,a.jsx)("pre",{className:"bg-gray-800 p-2 rounded text-sm",children:h.result})]})]})]})},Xs=t=>{let{func:r,contract:n}=t;const[i,s]=(0,e.useState)({}),[o,l]=(0,e.useState)(""),[c,h]=(0,e.useState)(""),[u,d]=(0,e.useState)({}),[f,m]=(0,e.useState)(!1),[p,g]=(0,e.useState)(!1),[x,O]=(0,e.useState)([]),v="view"===r.stateMutability||"pure"===r.stateMutability,y=(0,e.useCallback)((e,t)=>{if(void 0===t||""===t)return"Input is required";switch(e){case"address":return function(e){try{return lt(e),!0}catch(c){}return!1}(t)?"":"Invalid address";case"bool":return"true"===t||"false"===t?"":"Must be true or false";default:if(e.startsWith("uint")||e.startsWith("int"))try{return J.from(t),""}catch{return"Invalid number"}if(e.startsWith("bytes")){if(!L(t))return"Invalid hex string";const r=parseInt(e.replace("bytes",""));return isNaN(r)||B(t)===r?"":`Must be ${r} bytes`}return""}},[]),b=(e,t)=>{s(r=>{const n={...r};let i=n;for(let t=0;t<e.length-1;t++)i=i[e[t]];return i[e[e.length-1]]=t,n});const n=w(r.inputs,e.slice(0,-1)).type,i=y(n,t);d(t=>({...t,[e.join(".")]:i}))},w=(e,t)=>{let r=e;for(const n of t)r=r.components?r.components.find(e=>e.name===n):r[n];return r},k=(e,t)=>e.map(e=>{const r=t?t[e.name]:void 0;if(e.type.endsWith("[]")){if(!Array.isArray(r))throw new Error(`Expected an array for ${e.name}`);return r}return"tuple"===e.type?k(e.components,r):r}),S=function(e){const t=[...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e.name],r=`${e.type} ${e.name}`,n=u[t.join(".")];if("tuple"===e.type)return(0,a.jsxs)("div",{className:"pl-4 border-l-2 border-gray-600 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.name," (struct)"]}),e.components.map(e=>S(e,t))]},t.join("."));if(e.type.endsWith("[]")){const r=e.type.slice(0,-2),n=w(i,t)||[],s=()=>{const e=[...n,""];b(t,e)},o=e=>{const r=n.filter((t,r)=>r!==e);b(t,r)},l=(e,r)=>{const i=[...n];i[e]=r,b(t,i)};return(0,a.jsxs)("div",{className:"pl-4 border-l-2 border-gray-600 space-y-2",children:[(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.name," (",e.type,")"]}),n.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"text",placeholder:`${r} at index ${t}`,value:e,onChange:e=>l(t,e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm"}),(0,a.jsx)("button",{onClick:()=>o(t),className:"text-red-500 hover:text-red-400 text-sm",children:"Remove"})]},t)),(0,a.jsx)("button",{onClick:s,className:"text-green-500 hover:text-green-400 text-sm",children:"+ Add Element"})]},t.join("."))}return"bool"===e.type?(0,a.jsxs)("div",{children:[(0,a.jsxs)("select",{onChange:e=>b(t,e.target.value),className:"w-full bg-gray-700 border rounded px-2 py-1 text-sm "+(n?"border-red-500":"border-gray-600"),defaultValue:"",children:[(0,a.jsx)("option",{value:"",disabled:!0,children:r}),(0,a.jsx)("option",{value:"true",children:"true"}),(0,a.jsx)("option",{value:"false",children:"false"})]}),n&&(0,a.jsx)("p",{className:"text-red-400 text-xs mt-1",children:n})]},t.join(".")):(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"text",placeholder:r,onChange:e=>b(t,e.target.value),className:"w-full bg-gray-700 border rounded px-2 py-1 text-sm "+(n?"border-red-500":"border-gray-600")}),n&&(0,a.jsx)("p",{className:"text-red-400 text-xs mt-1",children:n})]},t.join("."))};return(0,a.jsxs)("div",{className:"contract-method p-6 rounded-xl border transition-all "+(v?"bg-gradient-to-br from-blue-900/20 to-blue-800/20 border-blue-700/50":"bg-gradient-to-br from-orange-900/20 to-orange-800/20 border-orange-700/50"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center "+(v?"bg-blue-600":"bg-orange-600"),children:(0,a.jsx)("i",{className:`fas ${v?"fa-eye":"fa-edit"} text-white text-sm`})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-white",children:r.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,a.jsx)("span",{className:"px-2 py-1 rounded-full "+(v?"bg-blue-600/30 text-blue-300":"bg-orange-600/30 text-orange-300"),children:v?"READ":"WRITE"}),r.payable&&(0,a.jsxs)("span",{className:"px-2 py-1 rounded-full bg-yellow-600/30 text-yellow-300 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-coins mr-1"}),"PAYABLE"]})]})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsx)("code",{className:"text-xs text-gray-400 bg-gray-800/50 px-2 py-1 rounded",children:r.format()})})]}),r.inputs.length>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-3",children:[(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-300",children:"Parameters"})]}),(0,a.jsx)("div",{className:"space-y-3 pl-4",children:r.inputs.map(e=>S(e))})]}),r.payable&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("i",{className:"fas fa-coins text-yellow-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-yellow-300",children:"ETH Value"})]}),(0,a.jsx)("div",{className:"pl-4",children:(0,a.jsx)("input",{type:"text",placeholder:"Amount in ETH (e.g., 0.1)",onChange:e=>b(["payableValue"],e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-sm text-white placeholder-gray-400 focus:outline-none focus:border-yellow-500 focus:ring-1 focus:ring-yellow-500"})})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("button",{onClick:async()=>{m(!0),l(""),h("");if(Object.values(u).some(e=>e))return h("Please fix validation errors before executing."),void m(!1);try{const e=k(r.inputs,i);if(v){const t=await n[r.name](...e);l(JSON.stringify(t,null,2))}else{const t=new Ai(window.ethereum).getSigner(),s=n.connect(t),o={};if(r.payable){const e=i.payableValue;if(!e||isNaN(parseFloat(e)))throw new Error("A valid ETH value is required for payable function.");o.value=ye(e)}const a=await s[r.name](...e,o);l(`Transaction sent: ${a.hash}`),await a.wait(),l(`Transaction confirmed: ${a.hash}`)}}catch(e){console.error(e),h(e.reason||e.message)}finally{m(!1)}},disabled:f,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all "+(f?"bg-gray-600 cursor-not-allowed":v?"bg-blue-600 hover:bg-blue-500 text-white":"bg-orange-600 hover:bg-orange-500 text-white"),children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,a.jsx)("span",{children:"Executing..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas "+(v?"fa-search":"fa-paper-plane")}),(0,a.jsx)("span",{children:v?"Query":"Execute"})]})}),!v&&(0,a.jsxs)("button",{onClick:()=>{const e=k(r.inputs,i);O(e),g(!p)},disabled:f,className:"flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium bg-indigo-600 hover:bg-indigo-500 text-white transition-all",children:[(0,a.jsx)("i",{className:"fas "+(p?"fa-eye-slash":"fa-microscope")}),(0,a.jsx)("span",{children:p?"Hide Simulator":"Simulate"})]})]}),o&&(0,a.jsxs)("div",{className:"bg-green-900/20 border border-green-700/50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("i",{className:"fas fa-check-circle text-green-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-300",children:"Result"})]}),(0,a.jsx)("pre",{className:"text-green-300 text-sm font-mono overflow-x-auto",children:o})]}),c&&(0,a.jsxs)("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400 mr-2"}),(0,a.jsx)("span",{className:"text-sm font-medium text-red-300",children:"Error"})]}),(0,a.jsx)("pre",{className:"text-red-300 text-sm font-mono overflow-x-auto",children:c})]}),p&&!v&&(0,a.jsx)("div",{className:"mt-4 border-t border-gray-700 pt-4",children:(0,a.jsx)(Us,{contract:n,func:r,args:x,value:i.payableValue})})]})},Fs=t=>{let{deployment:r,onTransactionClick:n}=t;const[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)("all"),c=(0,e.useMemo)(()=>{if(!r)return null;try{const e=new Ai(window.ethereum);return new qs(r.address,r.abi,e)}catch(e){return console.error("Error creating contract instance:",e),null}},[r]),h=(0,e.useMemo)(()=>{if(!c)return{read:[],write:[],all:[]};try{const e=c.interface.fragments.filter(e=>"function"===e.type),t=e.filter(e=>"view"===e.stateMutability||"pure"===e.stateMutability);return{read:t,write:e.filter(e=>"view"!==e.stateMutability&&"pure"!==e.stateMutability),all:e}}catch(e){return console.error("Error parsing contract functions:",e),{read:[],write:[],all:[]}}},[c]),u=(0,e.useMemo)(()=>{let e=[];switch(o){case"read":e=h.read;break;case"write":e=h.write;break;default:e=h.all}return i?e.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.format().toLowerCase().includes(i.toLowerCase())):e},[h,o,i]);return r?c?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-white flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-code text-blue-400 mr-3"}),"Contract Methods"]}),(0,a.jsxs)("p",{className:"text-gray-400 mt-1",children:["Interactive interface for ",r.contractName]})]}),(0,a.jsx)("div",{className:"flex items-center gap-3",children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Contract Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("code",{className:"text-purple-300 font-mono text-sm",children:r.address}),(0,a.jsx)(p,{text:r.address,size:"small",variant:"ghost"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:h.read.length}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Read Methods"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-400",children:h.write.length}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Write Methods"})]}),(0,a.jsxs)("div",{className:"text-center p-3 bg-gray-700/50 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-400",children:h.all.length}),(0,a.jsx)("div",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Total Methods"})]})]})]}),(0,a.jsx)("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:"Search methods by name or signature...",value:i,onChange:e=>s(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]})}),(0,a.jsx)("div",{className:"flex gap-2",children:[{key:"all",label:"All",icon:"fas fa-list",count:h.all.length},{key:"read",label:"Read",icon:"fas fa-eye",count:h.read.length},{key:"write",label:"Write",icon:"fas fa-edit",count:h.write.length}].map(e=>{let{key:t,label:r,icon:n,count:i}=e;return(0,a.jsxs)("button",{onClick:()=>l(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 "+(o===t?"bg-blue-600 text-white shadow-lg":"bg-gray-700 text-gray-300 hover:bg-gray-600"),children:[(0,a.jsx)("i",{className:n}),r,(0,a.jsx)("span",{className:"text-xs bg-black/20 px-1.5 py-0.5 rounded",children:i})]},t)})})]})}),u.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map((e,t)=>(0,a.jsx)(Xs,{func:e,contract:c,onTransactionClick:n},`${e.name}-${t}`))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-search text-gray-500 text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Methods Found"}),(0,a.jsx)("p",{className:"text-gray-400",children:i?`No methods match "${i}"`:`No ${"all"===o?"":o} methods available`}),i&&(0,a.jsx)("button",{onClick:()=>s(""),className:"mt-4 text-blue-400 hover:text-blue-300 text-sm",children:"Clear search"})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-circle text-red-400 text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Contract Load Error"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4",children:"Unable to load contract interface"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Check that your wallet is connected and you're on the correct network"})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-gray-500 text-2xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Contract Selected"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Please select a contract to view its methods"})]})},Vs=t=>{let{deployment:r}=t;const[n,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[l,c]=(0,e.useState)(!1),[h,u]=(0,e.useState)(null),[d,f]=(0,e.useState)(!0),[m,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{(async()=>{if(null!==r&&void 0!==r&&r.contractName&&null!==r&&void 0!==r&&r.network){f(!0);try{const e=await fetch(`/api/storage/${r.network}/${r.contractName}/layout`),t=await e.json();e.ok&&t.layout?u(t.layout):(console.warn("No storage layout available:",t.message),u(null))}catch(e){console.error("Error loading storage layout:",e),u(null)}finally{f(!1)}}})()},[r]);return d?(0,a.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,a.jsx)("div",{className:"spinner mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Loading Storage Layout"}),(0,a.jsx)("p",{className:"text-slate-400",children:"Fetching contract storage information..."})]}):h&&h.storage&&0!==h.storage.length?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center mr-3",children:"\ud83d\uddc4\ufe0f"}),"Storage Layout"]}),(0,a.jsxs)("button",{onClick:async()=>{if(null!==r&&void 0!==r&&r.contractName&&null!==r&&void 0!==r&&r.network){p(!0);try{const e=await fetch(`/api/storage/${r.network}/${r.contractName}/layout`),t=await e.json();e.ok&&t.layout&&u(t.layout)}catch(e){console.error("Error refreshing storage layout:",e)}finally{p(!1)}}},disabled:m,className:"glass-button px-4 py-2 rounded-lg transition-all duration-200 hover:scale-105",children:[m?"\ud83d\udd04":"\u21bb"," Refresh"]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-blue-400 mr-2",children:"\ud83d\udd0d"}),"Manual Slot Query"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,a.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),placeholder:"Enter storage slot (0, 1, 2...)",className:"flex-1 bg-slate-800/50 border border-slate-600 rounded-lg px-4 py-2 text-white placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-colors"}),(0,a.jsx)("button",{onClick:async()=>{if(n&&null!==r&&void 0!==r&&r.network&&null!==r&&void 0!==r&&r.address){c(!0);try{const e=await fetch(`/api/storage/${r.network}/${r.address}/${n}`),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch storage slot.");o(t.value)}catch(e){console.error("Error fetching storage slot:",e),o("Error fetching value.")}finally{c(!1)}}},disabled:l||!n,className:"glass-button px-6 py-2 rounded-lg transition-all duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"\ud83d\udd04 Querying...":"Query"})]}),s&&(0,a.jsxs)("div",{className:"glass-card p-4 border border-green-500/20",children:[(0,a.jsxs)("p",{className:"text-slate-400 text-sm mb-1",children:["Value at slot ",n,":"]}),(0,a.jsx)("p",{className:"font-mono text-green-400 break-all",children:s})]})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-white mb-4 flex items-center",children:[(0,a.jsx)("span",{className:"text-purple-400 mr-2",children:"\ud83d\udcca"}),"Contract Storage Variables"]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b border-slate-600/50",children:[(0,a.jsx)("th",{className:"text-left text-slate-400 text-sm font-medium pb-3 px-2",children:"Slot"}),(0,a.jsx)("th",{className:"text-left text-slate-400 text-sm font-medium pb-3 px-2",children:"Variable"}),(0,a.jsx)("th",{className:"text-left text-slate-400 text-sm font-medium pb-3 px-2",children:"Type"}),(0,a.jsx)("th",{className:"text-left text-slate-400 text-sm font-medium pb-3 px-2",children:"Current Value"}),(0,a.jsx)("th",{className:"text-left text-slate-400 text-sm font-medium pb-3 px-2",children:"Formatted"})]})}),(0,a.jsx)("tbody",{children:h.storage.map((e,t)=>(0,a.jsxs)("tr",{className:"border-b border-slate-700/30 hover:bg-slate-800/20 transition-colors",children:[(0,a.jsx)("td",{className:"py-3 px-2",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-blue-500/20 text-blue-400",children:e.slot})}),(0,a.jsx)("td",{className:"py-3 px-2",children:(0,a.jsx)("span",{className:"font-mono text-white font-medium",children:e.label})}),(0,a.jsx)("td",{className:"py-3 px-2",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-purple-500/20 text-purple-400",children:e.type})}),(0,a.jsx)("td",{className:"py-3 px-2",children:e.currentValue?(0,a.jsx)("span",{className:"font-mono text-xs text-slate-300 break-all max-w-32 block",children:e.currentValue.length>20?`${e.currentValue.slice(0,10)}...${e.currentValue.slice(-6)}`:e.currentValue}):e.error?(0,a.jsx)("span",{className:"text-red-400 text-xs",children:"Error"}):(0,a.jsx)("span",{className:"text-slate-500 text-xs",children:"No value"})}),(0,a.jsx)("td",{className:"py-3 px-2",children:e.formattedValue&&e.formattedValue!==e.currentValue?(0,a.jsx)("span",{className:"font-mono text-green-400 text-sm font-medium",children:e.formattedValue}):(0,a.jsx)("span",{className:"text-slate-500 text-xs",children:"\u2014"})})]},t))})]})})]}),(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center",children:[(0,a.jsx)("span",{className:"text-amber-400 mr-2",children:"\u2139\ufe0f"}),"Storage Layout Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Total Storage Slots:"}),(0,a.jsx)("span",{className:"text-white ml-2 font-mono",children:h.storage.length})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Contract:"}),(0,a.jsx)("span",{className:"text-white ml-2 font-mono",children:r.contractName})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("span",{className:"text-slate-400",children:"Network:"}),(0,a.jsx)("span",{className:"text-white ml-2 font-mono",children:r.network})]})]})]})]}):(0,a.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\uddc4\ufe0f"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Storage Layout Available"}),(0,a.jsx)("p",{className:"text-slate-400 mb-4",children:"Storage layout information is not available for this contract. Ensure the contract was compiled with storage layout generation enabled."}),(0,a.jsxs)("div",{className:"glass-card p-4 border border-yellow-500/20",children:[(0,a.jsx)("p",{className:"text-yellow-400 text-sm",children:"\ud83d\udca1 To enable storage layout, add this to your hardhat.config.js:"}),(0,a.jsx)("pre",{className:"text-yellow-300 text-xs mt-2 bg-black/20 p-2 rounded overflow-x-auto",children:'solidity: {\n  version: "0.8.19",\n  settings: {\n    outputSelection: {\n      "*": {\n        "*": ["storageLayout"]\n      }\n    }\n  }\n}'})]})]})},Ys=e=>{let{transaction:t,onTransactionClick:r,compact:n=!1,showFrom:i=!0,showTo:s=!0,showValue:o=!0,showMethod:l=!0,showGas:c=!1,showTimestamp:h=!1}=e;const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(!e||"0"===e)return"0";return(parseFloat(e)/Math.pow(10,t)).toFixed(6)},d=e=>e?parseInt(e).toLocaleString():"0",f=e=>{if(!e)return"Unknown";const t=new Date(1e3*e);return n?t.toLocaleTimeString():t.toLocaleString()},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e?`${e.slice(0,t)}...${e.slice(-8)}`:""},g=e=>1===e||"Success"===e?"bg-green-400":0===e||"Failed"===e?"bg-red-400":"bg-yellow-400",x=e=>1===e||"Success"===e?"Success":0===e||"Failed"===e?"Failed":"Pending",O=e=>1===e||"Success"===e?"text-green-400":0===e||"Failed"===e?"text-red-400":"text-yellow-400";return n?(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-slate-800/50 rounded-lg hover:bg-slate-700/50 transition-colors duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${g(t.status)}`}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-blue-400 hover:text-blue-300 cursor-pointer font-mono text-sm transition-colors duration-200",onClick:()=>r&&r(t.hash),title:`View details for ${t.hash}`,children:m(t.hash,12)}),l&&t.method&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-semibold bg-emerald-500/20 text-emerald-400 border border-emerald-500/30",children:t.method})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-slate-400 mt-1",children:[i&&t.from&&(0,a.jsxs)("span",{children:["From: ",m(t.from,6)]}),s&&t.to&&(0,a.jsxs)("span",{children:["To: ",m(t.to,6)]}),h&&t.timestamp&&(0,a.jsx)("span",{children:f(t.timestamp)})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[o&&t.value&&(0,a.jsxs)("span",{className:"text-sm font-mono text-slate-300",children:[u(t.value)," ETH"]}),(0,a.jsx)("span",{className:`text-xs font-semibold ${O(t.status)}`,children:x(t.status)})]})]}):(0,a.jsxs)("tr",{className:"group transition-all duration-200 hover:bg-slate-800/30",children:[(0,a.jsx)("td",{className:"font-mono text-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full animate-pulse ${g(t.status)}`}),(0,a.jsx)("span",{className:"text-blue-400 truncate max-w-[200px] hover:text-blue-300 cursor-pointer transition-colors duration-200",onClick:()=>r&&r(t.hash),title:`View details for ${t.hash}`,children:t.hash})]})}),l&&(0,a.jsx)("td",{children:(0,a.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-emerald-500/20 to-teal-500/20 text-emerald-400 border border-emerald-500/30",children:t.method||"Unknown"})}),i&&(0,a.jsx)("td",{className:"font-mono text-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-purple-400 hover:text-purple-300 cursor-pointer",title:t.from,children:m(t.from)}),(0,a.jsx)(p,{textToCopy:t.from})]})}),s&&(0,a.jsx)("td",{className:"font-mono text-sm",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-cyan-400 hover:text-cyan-300 cursor-pointer",title:t.to||"Contract Creation",children:t.to?m(t.to):"Contract Creation"}),t.to&&(0,a.jsx)(p,{textToCopy:t.to})]})}),o&&(0,a.jsx)("td",{className:"font-mono text-sm",children:(0,a.jsxs)("span",{className:"text-slate-300",children:[u(t.value)," ETH"]})}),c&&(0,a.jsx)("td",{className:"font-mono text-sm",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"text-slate-300",children:[d(t.gasUsed)," / ",d(t.gasLimit)]}),t.gasPrice&&(0,a.jsxs)("div",{className:"text-xs text-slate-400",children:[u(t.gasPrice,9)," Gwei"]})]})}),(0,a.jsx)("td",{children:t.blockNumber&&(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("div",{className:"w-6 h-6 rounded bg-amber-500/20 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-amber-400 text-xs font-bold",children:t.blockNumber})})})}),h&&(0,a.jsx)("td",{className:"text-sm text-slate-400",children:f(t.timestamp)}),(0,a.jsx)("td",{children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("div",{className:`w-2 h-2 rounded-full ${g(t.status)}`}),(0,a.jsx)("span",{className:`text-xs font-semibold ${O(t.status)}`,children:x(t.status)})]})})]})},Ws=t=>{let{deployment:r,onTransactionClick:n}=t;const[i,s]=(0,e.useState)([]),[o,l]=(0,e.useState)(!1),[c,h]=(0,e.useState)(null),[u,d]=(0,e.useState)(1),[f,m]=(0,e.useState)(1),[p,g]=(0,e.useState)({status:"all",method:"all",limit:20}),x=(0,e.useCallback)(async()=>{if(r){l(!0),h(null);try{const e=new URLSearchParams({contract:r.address,limit:p.limit.toString(),..."all"!==p.status&&{status:p.status},..."all"!==p.method&&{method:p.method}}),t=await fetch(`/api/transactions?${e}`);if(!t.ok)throw new Error(`Failed to fetch transactions: ${t.statusText}`);const n=await t.json();s(n);const i=p.limit;m(Math.ceil(n.length/i))}catch(e){h(e.message),s([])}finally{l(!1)}}},[r,p]);(0,e.useEffect)(()=>{x()},[x]);const O=(e,t)=>{g(r=>({...r,[e]:t})),d(1)},v=e=>{d(e)};return r?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Transaction History"}),(0,a.jsxs)("p",{className:"text-slate-400 mt-1",children:["Transactions for contract ",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e?`${e.slice(0,t)}...${e.slice(-8)}`:""}(r.address)]})]}),(0,a.jsxs)("button",{onClick:x,disabled:o,className:"inline-flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-600/50 text-white rounded-lg transition-colors duration-200",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt mr-2 "+(o?"animate-spin":"")}),"Refresh"]})]}),(0,a.jsx)("div",{className:"bg-slate-800/50 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),(0,a.jsxs)("select",{value:p.status,onChange:e=>O("status",e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Status"}),(0,a.jsx)("option",{value:"success",children:"Success"}),(0,a.jsx)("option",{value:"failed",children:"Failed"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Method"}),(0,a.jsxs)("select",{value:p.method,onChange:e=>O("method",e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"all",children:"All Methods"}),(y="method",[...new Set(i.map(e=>e[y]).filter(Boolean))].sort()).map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Results per page"}),(0,a.jsxs)("select",{value:p.limit,onChange:e=>O("limit",parseInt(e.target.value)),className:"w-full bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:10,children:"10"}),(0,a.jsx)("option",{value:20,children:"20"}),(0,a.jsx)("option",{value:50,children:"50"}),(0,a.jsx)("option",{value:100,children:"100"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Total Found"}),(0,a.jsxs)("div",{className:"bg-slate-700 border border-slate-600 rounded-lg px-3 py-2 text-slate-300",children:[i.length," transactions"]})]})]})}),o&&(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("span",{className:"text-slate-400",children:"Loading transactions..."})]})}),c&&(0,a.jsxs)("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-red-400 font-medium",children:"Error loading transactions"}),(0,a.jsx)("p",{className:"text-red-300 text-sm mt-1",children:c})]})]}),(0,a.jsxs)("button",{onClick:x,className:"mt-3 inline-flex items-center px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm transition-colors duration-200",children:[(0,a.jsx)("i",{className:"fas fa-redo mr-2"}),"Retry"]})]}),!o&&!c&&0===i.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-history text-slate-500 text-xl"})}),(0,a.jsx)("p",{className:"text-slate-400 text-lg mb-2",children:"No transactions found"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm",children:"This contract hasn't been interacted with yet, or no transactions match your filters."})]}),!o&&!c&&i.length>0&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"bg-slate-800/30 rounded-lg overflow-hidden",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-slate-700/50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Transaction Hash"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Method"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"From"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Value"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Gas Used"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Block"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-700/50",children:(()=>{const e=(u-1)*p.limit,t=e+p.limit;return i.slice(e,t)})().map((e,t)=>(0,a.jsx)(Ys,{transaction:e,onTransactionClick:n,showFrom:!0,showTo:!1,showValue:!0,showMethod:!0,showGas:!0,showTimestamp:!1},`${e.hash}-${t}`))})]})})}),f>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-slate-400",children:["Showing ",(u-1)*p.limit+1," to"," ",Math.min(u*p.limit,i.length)," of"," ",i.length," transactions"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>v(u-1),disabled:1===u,className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-700/50 disabled:text-slate-500 text-white rounded transition-colors duration-200",children:(0,a.jsx)("i",{className:"fas fa-chevron-left"})}),Array.from({length:f},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>v(e),className:"px-3 py-1 rounded transition-colors duration-200 "+(e===u?"bg-blue-600 text-white":"bg-slate-700 hover:bg-slate-600 text-white"),children:e},e)),(0,a.jsx)("button",{onClick:()=>v(u+1),disabled:u===f,className:"px-3 py-1 bg-slate-700 hover:bg-slate-600 disabled:bg-slate-700/50 disabled:text-slate-500 text-white rounded transition-colors duration-200",children:(0,a.jsx)("i",{className:"fas fa-chevron-right"})})]})]})]})]}):(0,a.jsx)("div",{className:"p-8 text-center",children:(0,a.jsx)("p",{className:"text-slate-400",children:"No contract selected"})});var y},Gs=t=>{let{contract:r}=t;const[n,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(0),[l,c]=(0,e.useState)(""),[h,u]=(0,e.useState)(""),[d,f]=(0,e.useState)(""),[m,p]=(0,e.useState)(!1);return(0,a.jsxs)("div",{className:"p-4 border border-gray-700 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-lg font-bold mb-2",children:"Diamond Cut"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("select",{value:s,onChange:e=>o(parseInt(e.target.value)),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:0,children:"Add"}),(0,a.jsx)("option",{value:1,children:"Replace"}),(0,a.jsx)("option",{value:2,children:"Remove"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Facet Address",value:n,onChange:e=>i(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm"}),(0,a.jsx)("textarea",{placeholder:"Function signatures, comma-separated",value:l,onChange:e=>c(e.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm"})]}),(0,a.jsx)("button",{onClick:async()=>{p(!0),u(""),f("");try{const e=[{facetAddress:n,action:s,functionSelectors:l.split(",").map(e=>e.trim())}],t=new Ai(window.ethereum).getSigner(),i=r.connect(t),o=await i.diamondCut(e,In,"0x");u(`Diamond cut transaction sent: ${o.hash}`),await o.wait(),u(`Diamond cut transaction confirmed: ${o.hash}`)}catch(e){console.error(e),f(e.reason||e.message)}finally{p(!1)}},disabled:m,className:"mt-2 bg-primary hover:bg-indigo-700 px-4 py-1 rounded-lg text-sm",children:m?"Executing...":"Execute Diamond Cut"}),h&&(0,a.jsx)("pre",{className:"text-green-400 mt-2",children:h}),d&&(0,a.jsx)("pre",{className:"text-red-400 mt-2",children:d})]})},Hs=t=>{var r;let{deployment:n}=t;const i=n.abi.some(e=>"diamondCut"===e.name),s=(0,e.useMemo)(()=>{if(!n)return null;const e=new Ai(window.ethereum);return new qs(n.address,n.abi,e)},[n]);return i?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-gem text-yellow-500 mr-2"}),"Diamond Facets"]}),(0,a.jsx)("div",{className:"space-y-4",children:null===(r=n.facets)||void 0===r?void 0:r.map(e=>(0,a.jsxs)("div",{className:"diamond-item p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-bold text-pink-300",children:e.name}),(0,a.jsx)("p",{className:"font-mono text-sm text-gray-400",children:e.address}),(0,a.jsx)("div",{className:"mt-2 space-y-1",children:e.functions.map(e=>(0,a.jsx)("p",{className:"text-xs font-mono text-gray-300",children:e},e))})]},e.name))})]}),s&&(0,a.jsx)(Gs,{contract:s})]}):null},Ks=e=>{let{deployment:t}=e;const{devdoc:r,userdoc:n}=t,i=(e,t,r)=>t&&0!==Object.keys(t).length?(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-book text-white text-sm"})}),(0,a.jsx)("span",{className:"gradient-text",children:e})]}),t.title&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Title"}),(0,a.jsx)("p",{className:"text-gray-300",children:t.title})]}),t.details&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Details"}),(0,a.jsx)("p",{className:"text-gray-300",children:t.details})]}),t.methods&&Object.keys(t.methods).length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Methods"}),(0,a.jsx)("div",{className:"space-y-4",children:Object.entries(t.methods).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600/30",children:[(0,a.jsx)("h5",{className:"text-md font-semibold text-purple-400 mb-2 font-mono",children:t}),r.details&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Details:"}),(0,a.jsx)("p",{className:"text-gray-300 mt-1",children:r.details})]}),r.params&&Object.keys(r.params).length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Parameters:"}),(0,a.jsx)("div",{className:"mt-1 space-y-1",children:Object.entries(r.params).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-yellow-400 font-mono",children:t}),(0,a.jsxs)("span",{className:"text-gray-300 ml-2",children:["- ",r]})]},t)})})]}),r.returns&&Object.keys(r.returns).length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-400",children:"Returns:"}),(0,a.jsx)("div",{className:"mt-1 space-y-1",children:Object.entries(r.returns).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-green-400 font-mono",children:t}),(0,a.jsxs)("span",{className:"text-gray-300 ml-2",children:["- ",r]})]},t)})})]})]},t)})})]}),t.version&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Version"}),(0,a.jsx)("p",{className:"text-gray-300",children:t.version})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Raw Documentation"}),(0,a.jsx)(Se,{code:JSON.stringify(t,null,2),language:"json"})]})]}):(0,a.jsxs)("div",{className:"glass-card p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-book text-white text-sm"})}),(0,a.jsx)("span",{className:"gradient-text",children:e})]}),(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-file-alt text-slate-500 text-xl"})}),(0,a.jsxs)("p",{className:"text-slate-400",children:["No ",r," documentation available"]})]})]});return(0,a.jsxs)("div",{className:"space-y-6",children:[i("Developer Documentation",r,"developer"),i("User Documentation",n,"user")]})},Js=t=>{let{deployment:r}=t;const{abi:n,network:i="localhost"}=r,[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(!0),[h,u]=(0,e.useState)(null),[d,f]=(0,e.useState)("logs"),[m,g]=(0,e.useState)(""),x=(null===n||void 0===n?void 0:n.filter(e=>"event"===e.type))||[];(0,e.useEffect)(()=>{null!==r&&void 0!==r&&r.contractName&&(async()=>{try{c(!0),u(null);const e=await fetch(`/api/contracts/${i}/${r.contractName}/events?limit=50`);if(!e.ok)throw new Error("Failed to fetch event logs");const t=await e.json();o(t.events||[])}catch(e){console.error("Error fetching event logs:",e),u(e.message)}finally{c(!1)}})()},[null===r||void 0===r?void 0:r.contractName,i]);const O=s.filter(e=>{var t,r;return!m||(null===(t=e.eventName)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(r=e.transactionHash)||void 0===r?void 0:r.toLowerCase().includes(m.toLowerCase()))}),v=x.filter(e=>{var t;return!m||(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))}),y=e=>{const t=(e.inputs||[]).map(e=>`${e.type} ${e.indexed?"indexed ":""}${e.name||""}`).join(", ");return`${e.name}(${t})`};if(null===r||void 0===r||!r.abi)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-file-contract text-gray-300 text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No ABI Available"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4 max-w-md",children:"Contract ABI is required to view event information."})]})});if(0===x.length)return(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-8 border border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-bolt text-white"})}),"Contract Events"]}),(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,a.jsx)("i",{className:"fas fa-bolt text-gray-400 text-2xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No Events Defined"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm max-w-md mx-auto leading-relaxed mb-6",children:"This contract doesn't define any events. Events are useful for logging important contract state changes."}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("div",{className:"px-4 py-2 bg-gray-700/50 rounded-lg border border-gray-600",children:(0,a.jsxs)("p",{className:"text-xs text-gray-400",children:[(0,a.jsx)("i",{className:"fas fa-info-circle mr-1"}),"Consider adding events to track contract interactions"]})})})]})]});return(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-bolt text-white"})}),"Contract Events"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 text-sm"}),(0,a.jsx)("input",{type:"text",placeholder:"Search events...",value:m,onChange:e=>g(e.target.value),className:"pl-10 pr-4 py-2 bg-gray-900 border border-gray-600 rounded-lg text-white text-sm focus:outline-none focus:border-amber-500 transition-colors"})]}),(0,a.jsxs)("div",{className:"flex bg-gray-900/60 rounded-lg p-1 border border-gray-700",children:[(0,a.jsxs)("button",{onClick:()=>f("logs"),className:"px-4 py-2 rounded text-sm font-medium transition-all "+("logs"===d?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-list mr-2"}),"Logs (",O.length,")"]}),(0,a.jsxs)("button",{onClick:()=>f("definitions"),className:"px-4 py-2 rounded text-sm font-medium transition-all "+("definitions"===d?"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"),children:[(0,a.jsx)("i",{className:"fas fa-code mr-2"}),"Definitions (",v.length,")"]})]})]})]}),"logs"===d&&(0,a.jsxs)("div",{children:[l&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-3xl text-amber-400 mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading event logs..."})]}),h&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-3xl text-red-500 mb-4"}),(0,a.jsxs)("p",{className:"text-red-400",children:["Error loading event logs: ",h]})]}),!l&&!h&&0===s.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-bolt text-slate-500 text-xl"})}),(0,a.jsx)("p",{className:"text-slate-400 text-lg",children:"No events emitted"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"This contract hasn't emitted any events yet"})]}),!l&&!h&&O.length>0&&(0,a.jsx)("div",{className:"space-y-4",children:O.map((e,t)=>((e,t)=>{var r;const n=e=>"string"===typeof e&&e.length>42?`${e.slice(0,10)}...${e.slice(-8)}`:String(e),i=e=>"string"===typeof e&&e.match(/^0x[a-fA-F0-9]{40}$/),s=e=>"string"===typeof e&&e.match(/^0x[a-fA-F0-9]{64}$/);return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-all duration-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-green-500 to-emerald-600 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-bolt text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-green-300 font-mono",children:e.eventName}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 border border-blue-500/30",children:[(0,a.jsx)("i",{className:"fas fa-cube mr-1"}),"Block #",e.blockNumber]}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 border border-purple-500/30",children:[(0,a.jsx)("i",{className:"fas fa-hashtag mr-1"}),"Log #",e.logIndex]})]})]})]}),(0,a.jsxs)("div",{className:"text-right text-sm",children:[e.blockTimestamp&&(0,a.jsx)("div",{className:"text-gray-300 font-medium mb-1",children:new Date(1e3*e.blockTimestamp).toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("code",{className:"text-xs text-blue-300",children:[null===(r=e.transactionHash)||void 0===r?void 0:r.slice(0,10),"..."]}),e.transactionHash&&(0,a.jsx)(p,{text:e.transactionHash,size:"small",variant:"ghost"})]})]})]}),e.args&&Object.keys(e.args).length>0&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h5",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-database mr-2"}),"Event Data"]}),(0,a.jsx)("div",{className:"bg-gray-900/60 rounded-lg p-4 border border-gray-700",children:(0,a.jsx)("div",{className:"space-y-3",children:Object.entries(e.args).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-800/50 rounded border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("span",{className:"text-yellow-300 font-mono text-sm font-medium",children:t}),(0,a.jsx)("span",{className:"text-gray-500",children:":"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("code",{className:"text-blue-300 text-sm break-all max-w-xs",children:n(r)}),(i(r)||s(r))&&(0,a.jsx)(p,{text:String(r),size:"small",variant:"ghost"})]})]},t)})})})]}),e.parseError&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-gradient-to-r from-red-900/30 to-red-800/30 border border-red-500/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center text-red-300",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle mr-3 text-lg"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Parse Error"}),(0,a.jsx)("p",{className:"text-sm text-red-400 mt-1",children:e.parseError})]})]})}),(0,a.jsx)("div",{className:"pt-4 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Transaction Hash"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("code",{className:"text-blue-300 text-sm break-all flex-1",children:e.transactionHash}),e.transactionHash&&(0,a.jsx)(p,{text:e.transactionHash,size:"small",variant:"ghost"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Gas Used"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-orange-300 text-sm font-bold",children:e.gasUsed?parseInt(e.gasUsed).toLocaleString():"N/A"}),(0,a.jsx)("i",{className:"fas fa-gas-pump text-orange-400"})]})]})]})})]},e.id||t)})(e,t))}),!l&&!h&&m&&0===O.length&&s.length>0&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-search text-gray-400 text-xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No Matching Events"}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:['No events found matching "',m,'"']}),(0,a.jsx)("button",{onClick:()=>g(""),className:"mt-3 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition-colors text-sm",children:"Clear Search"})]})]}),"definitions"===d&&(0,a.jsxs)("div",{children:[0===x.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-bolt text-slate-500 text-xl"})}),(0,a.jsx)("p",{className:"text-slate-400 text-lg",children:"No events defined"}),(0,a.jsx)("p",{className:"text-slate-500 text-sm mt-2",children:"This contract doesn't define any events"})]}):(0,a.jsx)("div",{className:"space-y-4",children:v.map((e,t)=>{var r,n;return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-800 to-gray-900 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-all duration-200 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500 to-orange-600 flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-bolt text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-amber-300 font-mono",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[e.anonymous?(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-gray-500/20 to-gray-600/20 text-gray-400 border border-gray-500/30",children:[(0,a.jsx)("i",{className:"fas fa-eye-slash mr-1"}),"Anonymous"]}):(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-blue-500/20 to-cyan-500/20 text-blue-300 border border-blue-500/30",children:[(0,a.jsx)("i",{className:"fas fa-eye mr-1"}),"Logged"]}),(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-purple-500/20 to-pink-500/20 text-purple-300 border border-purple-500/30",children:[(0,a.jsx)("i",{className:"fas fa-hashtag mr-1"}),(null===(r=e.inputs)||void 0===r?void 0:r.length)||0," params"]})]})]})]}),(0,a.jsx)(p,{text:e.name,size:"small",variant:"ghost"})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h5",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-signature mr-2"}),"Event Signature"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Se,{code:y(e),language:"solidity"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(p,{text:y(e),size:"small",variant:"ghost"})})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("h5",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-list-ul mr-2"}),"Parameters"]}),(0,a.jsx)("div",{className:"bg-gray-900/60 rounded-lg p-4 border border-gray-700",children:(n=e.inputs,n&&0!==n.length?(0,a.jsx)("div",{className:"space-y-2",children:n.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsx)("span",{className:"text-yellow-400 font-mono min-w-0 flex-1",children:e.name||`param${t}`}),(0,a.jsx)("span",{className:"text-blue-400 font-mono",children:e.type}),e.indexed&&(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold bg-purple-500/20 text-purple-400 border border-purple-500/30",children:"indexed"})]},t))}):(0,a.jsx)("span",{className:"text-gray-500 italic",children:"No parameters"}))})]}),e.inputs&&e.inputs.some(e=>e.indexed)&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-900/30 to-purple-800/30 border border-purple-500/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3 text-purple-300",children:[(0,a.jsx)("i",{className:"fas fa-info-circle text-lg"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Indexed Parameters"}),(0,a.jsx)("p",{className:"text-sm text-purple-400 mt-1",children:"Indexed parameters can be used as filters when querying event logs for efficient searching."})]})]})}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-700",children:[(0,a.jsxs)("h5",{className:"text-sm font-medium text-gray-400 mb-3 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-code mr-2"}),"Raw ABI"]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(Se,{code:JSON.stringify(e,null,2),language:"json"}),(0,a.jsx)("div",{className:"absolute top-2 right-2",children:(0,a.jsx)(p,{text:JSON.stringify(e,null,2),size:"small",variant:"ghost"})})]})]})]},t)})}),!l&&!h&&m&&0===v.length&&x.length>0&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-700 to-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-search text-gray-400 text-xl"})}),(0,a.jsx)("h4",{className:"text-gray-300 text-lg font-semibold mb-2",children:"No Matching Event Definitions"}),(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:['No event definitions found matching "',m,'"']}),(0,a.jsx)("button",{onClick:()=>g(""),className:"mt-3 px-4 py-2 bg-amber-600 hover:bg-amber-500 text-white rounded-lg transition-colors text-sm",children:"Clear Search"})]})]})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-teal-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-chart-line text-white"})}),"Event Statistics"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-amber-900/30 to-amber-800/30 rounded-lg border border-amber-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-amber-300 text-sm font-medium",children:"Event Definitions"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:x.length})]}),(0,a.jsx)("i",{className:"fas fa-code text-amber-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Events Emitted"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:s.length})]}),(0,a.jsx)("i",{className:"fas fa-broadcast-tower text-green-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Indexed Parameters"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:x.reduce((e,t)=>{var r;return e+((null===(r=t.inputs)||void 0===r?void 0:r.filter(e=>e.indexed).length)||0)},0)})]}),(0,a.jsx)("i",{className:"fas fa-search text-purple-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-gray-900/30 to-gray-800/30 rounded-lg border border-gray-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-300 text-sm font-medium",children:"Anonymous Events"}),(0,a.jsx)("p",{className:"text-white text-2xl font-bold",children:x.filter(e=>e.anonymous).length})]}),(0,a.jsx)("i",{className:"fas fa-eye-slash text-gray-400 text-xl"})]})})]})]})]})},eo=e=>{let{activeTab:t,deployment:r,onTransactionClick:n}=e;return(0,a.jsx)("div",{className:"tab-content active",children:(()=>{switch(t){case"overview":return(0,a.jsx)(ke,{deployment:r,onTransactionClick:n});case"abi":return(0,a.jsx)(Ne,{abi:r.abi});case"bytecode":return(0,a.jsx)(je,{bytecode:r.bytecode});case"methods":return(0,a.jsx)(Fs,{deployment:r});case"storage":return(0,a.jsx)(Vs,{storageLayout:r.storageLayout,deployment:r});case"transactions":return(0,a.jsx)(Ws,{deployment:r,onTransactionClick:n});case"docs":return(0,a.jsx)(Ks,{deployment:r});case"events":return(0,a.jsx)(Js,{deployment:r});case"diamond":return(0,a.jsx)(Hs,{deployment:r});default:return null}})()})},to=t=>{let{deployment:r,selectedFacet:n,onSelectFacet:i,network:s,activeTab:o,onTabClick:l,onTransactionClick:c}=t;const[h,u]=(0,e.useState)([]),[d,f]=(0,e.useState)(!0),[g,x]=(0,e.useState)(null),[O,v]=(0,e.useState)("overview"),[y,b]=(0,e.useState)("overview");if((0,e.useEffect)(()=>{null!==r&&void 0!==r&&r.address&&(async()=>{try{f(!0);const e=await fetch(`/api/diamonds/${s}/${r.address}/facets`);if(!e.ok)throw new Error("Failed to fetch facets");const t=await e.json();u(t.facets||[])}catch(e){x(e.message)}finally{f(!1)}})()},[null===r||void 0===r?void 0:r.address,s]),d)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-3xl text-primary mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading Diamond facets..."})]})});if(g)return(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-3xl text-red-500 mb-4"}),(0,a.jsxs)("p",{className:"text-red-400",children:["Error loading facets: ",g]})]})});const w=(()=>{if(null!==o&&void 0!==o&&o.startsWith("facet-")){const e=o.replace("facet-","");return h.find(t=>t.address===e)}return null})();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{activeTab:o,onTabClick:l,deployment:r,isDiamondView:!0,facets:h}),function(){if("diamond-overview"===o)return function(){var e,t,n;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("i",{className:"fas fa-gem text-purple-400 mr-3 text-lg"}),"Diamond Information"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:"Diamond Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("code",{className:"font-mono text-purple-300 text-sm flex-1 break-all",children:r.address}),(0,a.jsx)(p,{text:r.address})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:"Network"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("i",{className:"fas fa-network-wired text-green-400"}),(0,a.jsx)("span",{className:"text-green-300 capitalize font-medium",children:s})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:"Total Facets"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("i",{className:"fas fa-cubes text-yellow-400"}),(0,a.jsx)("span",{className:"text-yellow-300 font-bold text-lg",children:h.length})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:"Total Functions"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("i",{className:"fas fa-code text-blue-400"}),(0,a.jsx)("span",{className:"text-blue-300 font-bold text-lg",children:h.reduce((e,t)=>e+(t.selectorCount||0),0)})]})]})]}),(0,a.jsx)("div",{className:"mt-6 pt-6 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-indigo-400",children:null!==(e=r.receipt)&&void 0!==e&&e.gasUsed?Number(r.receipt.gasUsed).toLocaleString():"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Gas Used"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-pink-400",children:null!==(t=r.receipt)&&void 0!==t&&t.blockNumber?Number(r.receipt.blockNumber).toLocaleString():"N/A"}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Block"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-emerald-400",children:(null===(n=r.receipt)||void 0===n?void 0:n.confirmations)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"Confirmations"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-amber-400",children:r.abi?r.abi.length:0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase tracking-wide",children:"ABI Items"})]})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-cubes text-pink-400 mr-3"}),"Diamond Facets (",h.length,")"]}),(0,a.jsx)("div",{className:"text-sm text-gray-400",children:"Click any facet to explore its interface"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:h.map((e,t)=>(0,a.jsxs)("div",{className:"group artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 cursor-pointer border border-gray-700 hover:border-pink-500/50 transition-all duration-300 hover:shadow-lg hover:shadow-pink-500/10 hover:scale-[1.02]",onClick:()=>l(`facet-${e.address}`),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-pink-500 to-purple-600 rounded-lg flex items-center justify-center mr-3 group-hover:scale-110 transition-transform",children:(0,a.jsx)("i",{className:"fas fa-cube text-white text-sm"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-bold text-pink-300 group-hover:text-pink-200 transition-colors",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["Facet #",t+1]})]})]}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-500 group-hover:text-pink-400 group-hover:translate-x-1 transition-all"})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide block mb-1",children:"Address"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("code",{className:"font-mono text-purple-300 text-xs flex-1 break-all",children:e.address}),(0,a.jsx)(p,{text:e.address,size:"small"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-green-400",children:e.selectorCount||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Functions"})]}),(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-900/30 rounded-lg",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-400",children:e.functions?e.functions.filter(e=>"view"===e.stateMutability||"pure"===e.stateMutability).length:0}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Read-Only"})]})]})]}),e.functions&&e.functions.length>0&&(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-3",children:[(0,a.jsx)("p",{className:"text-xs text-gray-400 mb-2 font-medium",children:"Recent Functions:"}),(0,a.jsxs)("div",{className:"space-y-1",children:[e.functions.slice(0,3).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsxs)("code",{className:"font-mono text-blue-300 truncate mr-2",children:[e.name,"()"]}),(0,a.jsx)("span",{className:"px-1.5 py-0.5 rounded text-xs "+("view"===e.stateMutability||"pure"===e.stateMutability?"bg-blue-900/50 text-blue-300":"bg-orange-900/50 text-orange-300"),children:e.stateMutability||"nonpayable"})]},t)),e.functions.length>3&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 italic text-center pt-1",children:["+",e.functions.length-3," more functions..."]})]})]}),(!e.functions||0===e.functions.length)&&(0,a.jsxs)("div",{className:"border-t border-gray-700 pt-3 text-center",children:[(0,a.jsx)("i",{className:"fas fa-info-circle text-gray-500 mb-1"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"No functions available"})]})]},e.address))})]})]})}();if("diamond-contract"===o)return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"border-b border-gray-700",children:(0,a.jsx)("div",{className:"flex px-4",children:["overview","abi","bytecode","methods","storage","transactions","events"].map(e=>(0,a.jsx)("button",{className:"tab-button px-4 py-3 font-medium capitalize "+(y===e?"border-b-2 border-primary text-primary highlight-text":"text-gray-400 hover:text-blue-300"),onClick:()=>b(e),children:e},e))})}),(0,a.jsx)(eo,{activeTab:y,deployment:r,onTransactionClick:c})]});if("diamond-methods"===o)return function(){const e=h.reduce((e,t)=>{if(t.functions&&t.functions.length>0){const r=t.functions.map(e=>({...e,facetName:t.name,facetAddress:t.address}));return[...e,...r]}return e},[]);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("h3",{className:"text-lg font-bold flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-code text-green-400 mr-2"}),"All Diamond Methods (",e.length,")"]})}),e.length>0?(0,a.jsx)("div",{className:"space-y-4",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"artifact-card bg-gray-800 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("h4",{className:"font-mono text-blue-300 font-bold",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"from"}),(0,a.jsx)("span",{className:"text-pink-300 cursor-pointer hover:text-pink-200",onClick:()=>l(`facet-${e.facetAddress}`),children:e.facetName})]})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"Type:"}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs "+("view"===e.stateMutability||"pure"===e.stateMutability?"bg-blue-900 text-blue-300":"bg-orange-900 text-orange-300"),children:e.stateMutability||"nonpayable"})]}),e.inputs&&e.inputs.length>0&&(0,a.jsxs)("div",{className:"mb-2",children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"Inputs:"}),(0,a.jsx)("div",{className:"font-mono text-xs text-green-300",children:e.inputs.map(e=>`${e.type} ${e.name}`).join(", ")})]}),e.outputs&&e.outputs.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"Outputs:"}),(0,a.jsx)("div",{className:"font-mono text-xs text-purple-300",children:e.outputs.map(e=>`${e.type} ${e.name||""}`).join(", ")})]})]})]},t))}):(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("i",{className:"fas fa-code text-6xl text-gray-600 mb-4"}),(0,a.jsx)("h3",{className:"text-xl text-gray-400 mb-2",children:"No Methods Found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No methods found in any facets."})]})]})}();if(w){const t=(e=w,{...r,contractName:e.name,address:e.address,abi:e.abi||[],functions:e.functions||[]});return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"border-b border-gray-700",children:(0,a.jsx)("div",{className:"flex px-4",children:["overview","abi","methods","storage","transactions","events"].map(e=>(0,a.jsx)("button",{className:"tab-button px-4 py-3 font-medium capitalize "+(O===e?"border-b-2 border-primary text-primary highlight-text":"text-gray-400 hover:text-blue-300"),onClick:()=>v(e),children:e},e))})}),(0,a.jsx)(eo,{activeTab:O,deployment:t,onTransactionClick:c})]})}var e;return null}()]})},ro=e=>!!e&&("Diamond"===e.contractName||e.abi.some(e=>"diamondCut"===e.name||"facets"===e.name||"facetAddress"===e.name||"facetFunctionSelectors"===e.name||"event"===e.type&&"DiamondCut"===e.name||"fallback"===e.type||"function"===e.type&&"diamondAddress"===e.name)),no=t=>{let{deployments:r,network:n,onNavigateToContracts:i,onNavigateToTransactions:s,onNavigateToEvents:o,onNavigateToScenarios:l,onSelectDeployment:c,onNavigateToScenarioRunner:h}=t;const[u,d]=(0,e.useState)({totalContracts:0,totalTransactions:0,totalEvents:0,totalEthSpent:"0",recentTransactions:[],contractTypes:{},loading:!0,error:null,recentScenarioRuns:[]});(0,e.useEffect)(()=>{(async()=>{try{d(e=>({...e,loading:!0,error:null}));let r=0;try{const e=await fetch("/api/scenarios");if(e.ok){const t=await e.json();r=t.length}}catch(e){console.warn("Failed to fetch scenarios count:",e)}const i=await fetch(`/api/dashboard/${n}`);if(!i.ok)throw new Error("Failed to fetch dashboard data");const s=await i.json();let o=[];try{const e=await fetch("/api/scenarios/history");e.ok&&(o=await e.json())}catch(t){console.warn("Failed to fetch scenario history:",t)}d(e=>({...e,...s,totalScenarios:r,recentScenarioRuns:o,loading:!1}))}catch(i){console.error("Error fetching dashboard data:",i);const t=r.length,n=r.reduce((e,t)=>(e[t.contractName]=(e[t.contractName]||0)+1,e),{});let s=0;try{const e=await fetch("/api/scenarios");if(e.ok){const t=await e.json();s=t.length}}catch(e){console.warn("Failed to fetch scenarios count in fallback:",e)}d(e=>({...e,totalContracts:t,contractTypes:n,totalScenarios:s,loading:!1,error:"Some dashboard data unavailable"}))}})()},[n,r]);return u.loading?(0,a.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full animate-pulse"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full animate-ping opacity-20"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Loading Dashboard"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Fetching deployment statistics..."})]})]})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white mb-2",children:[(0,a.jsx)("i",{className:"fas fa-tachometer-alt text-primary mr-3"}),"Dashboard"]}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Overview of your ",n," deployment"]})]}),"localhost"!==n&&(0,a.jsxs)("button",{onClick:async()=>{if("localhost"!==n)try{if(!(await fetch(`/api/verify-contracts/${n}`,{method:"POST"})).ok)throw new Error("Failed to initiate verification");alert("Contract verification initiated successfully")}catch(e){alert(`Error verifying contracts: ${e.message}`)}else alert("Contract verification is not available for localhost network")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-shield-check mr-2"}),"Verify All Contracts"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-blue-900 to-blue-800 rounded-xl p-6 cursor-pointer hover:from-blue-800 hover:to-blue-700 transition-all",onClick:()=>i&&i(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"bg-blue-500 bg-opacity-20 p-3 rounded-lg",children:(0,a.jsx)("i",{className:"fas fa-file-contract text-2xl text-blue-300"})}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-400"})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:u.totalContracts}),(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Deployed Contracts"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to view all contracts"})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-green-900 to-green-800 rounded-xl p-6 cursor-pointer hover:from-green-800 hover:to-green-700 transition-all",onClick:()=>s&&s(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"bg-green-500 bg-opacity-20 p-3 rounded-lg",children:(0,a.jsx)("i",{className:"fas fa-exchange-alt text-2xl text-green-300"})}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-400"})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:u.totalTransactions}),(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Total Transactions"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to view transaction history"})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-purple-900 to-purple-800 rounded-xl p-6 cursor-pointer hover:from-purple-800 hover:to-purple-700 transition-all",onClick:()=>o&&o(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"bg-purple-500 bg-opacity-20 p-3 rounded-lg",children:(0,a.jsx)("i",{className:"fas fa-bell text-2xl text-purple-300"})}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-400"})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:u.totalEvents}),(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Events Generated"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to view event logs"})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-indigo-900 to-purple-800 rounded-xl p-6 cursor-pointer hover:from-indigo-800 hover:to-purple-700 transition-all",onClick:()=>h&&h(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("div",{className:"bg-indigo-500 bg-opacity-20 p-3 rounded-lg",children:(0,a.jsx)("i",{className:"fas fa-play-circle text-2xl text-indigo-300"})}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-400"})]}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:u.totalScenarios||0}),(0,a.jsx)("p",{className:"text-indigo-300 text-sm font-medium",children:"Test Scenarios"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Click to run test scenarios"})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-yellow-900 to-orange-800 rounded-xl p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsx)("div",{className:"bg-yellow-500 bg-opacity-20 p-3 rounded-lg",children:(0,a.jsx)("i",{className:"fab fa-ethereum text-2xl text-yellow-300"})})}),(0,a.jsx)("h3",{className:"text-2xl font-bold text-white mb-1",children:u.totalEthSpent}),(0,a.jsx)("p",{className:"text-yellow-300 text-sm font-medium",children:"ETH Spent"}),(0,a.jsx)("p",{className:"text-gray-400 text-xs mt-2",children:"Total gas costs"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-chart-pie text-blue-400 mr-2"}),"Contract Types"]}),(0,a.jsxs)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:[Object.entries(u.contractTypes).map(e=>{let[t,n]=e;const i=r.find(e=>e.contractName===t),s=i&&ro(i);return(0,a.jsxs)("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-gray-700 to-gray-800 rounded-lg cursor-pointer hover:from-blue-900/50 hover:to-purple-900/50 transition-all border border-gray-600 hover:border-blue-500/50",onClick:()=>c&&c(i),children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg flex items-center justify-center mr-3 "+(s?"bg-yellow-500/20":"bg-blue-500/20"),children:(0,a.jsx)("i",{className:""+(s?"fas fa-gem text-yellow-400":"fas fa-file-contract text-blue-400")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-white font-medium group-hover:text-blue-300 transition-colors truncate",children:t}),s&&(0,a.jsx)("span",{className:"flex-shrink-0 text-xs bg-gradient-to-r from-yellow-500 to-amber-500 text-white px-2 py-1 rounded-full font-medium",children:"DIAMOND"})]}),(null===i||void 0===i?void 0:i.address)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)("code",{className:"text-xs font-mono text-gray-400 truncate",children:i.address}),(0,a.jsx)(p,{text:i.address,size:"small",variant:"ghost",showLabel:!1})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-lg font-bold text-blue-300",children:n}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"instances"})]}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-500 group-hover:text-blue-400 group-hover:translate-x-1 transition-all"})]})]},t)}),0===Object.keys(u.contractTypes).length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-file-contract text-gray-500 text-2xl"})}),(0,a.jsx)("h4",{className:"text-white font-medium mb-2",children:"No Contracts Deployed"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Deploy your first contract to see it here"})]})]})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-history text-indigo-400 mr-2"}),"Recent Scenario Runs"]}),u.recentScenarioRuns.length>0?(0,a.jsx)("div",{className:"space-y-3 max-h-80 overflow-y-auto",children:u.recentScenarioRuns.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"group flex items-center justify-between p-4 bg-gradient-to-r from-gray-700 to-gray-800 rounded-lg hover:from-gray-600 hover:to-gray-700 transition-all border border-gray-600 hover:border-indigo-500/50",children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-indigo-500/20 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas "+("completed"===e.status?"fa-check-circle text-green-400":"fa-times-circle text-red-400")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-white font-medium text-sm group-hover:text-indigo-300 transition-colors truncate",children:e.id}),(0,a.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:new Date(e.timestamp).toLocaleString()})})]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"font-bold "+("completed"===e.status?"text-green-400":"text-red-400"),children:[e.summary.passed,"/",e.summary.total," passed"]})})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-history text-gray-500 text-2xl"})}),(0,a.jsx)("h4",{className:"text-white font-medium mb-2",children:"No Scenario Runs"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Run scenarios to see history here"})]}),(0,a.jsx)("button",{onClick:()=>h&&h(),className:"mt-4 w-full bg-indigo-600 text-white px-4 py-2 rounded-lg",children:"Run All Scenarios"})]})]}),u.error&&(0,a.jsx)("div",{className:"bg-yellow-900 border border-yellow-700 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-yellow-400 mr-2"}),(0,a.jsx)("span",{className:"text-yellow-200",children:u.error})]})})]})},io=(0,e.createContext)(),so=()=>(0,e.useContext)(io),oo=t=>{let{children:r}=t;const[n,i]=(0,e.useState)(null),[s,o]=(0,e.useState)(null),l={selectedScenario:n,setSelectedScenario:i,report:s,setReport:o};return(0,a.jsx)(io.Provider,{value:l,children:r})},ao=()=>{const[t,r]=(0,e.useState)([]),[n,i]=(0,e.useState)(!0),[s,o]=(0,e.useState)(null),[l,c]=(0,e.useState)(""),{selectedScenario:h,setSelectedScenario:u}=so();(0,e.useEffect)(()=>{d()},[]),(0,e.useEffect)(()=>{const e=()=>{d()};return window.addEventListener("focus",e),()=>window.removeEventListener("focus",e)},[]);const d=async()=>{try{i(!0);const e=await fetch("/api/scenarios");if(!e.ok)throw new Error("Failed to load scenarios");const t=await e.json();r(t),o(null)}catch(e){o(e.message),console.error("Error loading scenarios:",e)}finally{i(!1)}},f=t.filter(e=>e.toLowerCase().includes(l.toLowerCase())),m=e=>e.toLowerCase().includes("security")?"fas fa-shield-alt":e.toLowerCase().includes("performance")?"fas fa-tachometer-alt":e.toLowerCase().includes("integration")?"fas fa-link":e.toLowerCase().includes("stress")?"fas fa-weight-hanging":"fas fa-play";return(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold mb-6 flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-list text-white"})}),"Scenario Explorer"]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search scenarios...",value:l,onChange:e=>c(e.target.value),className:"w-full bg-gray-900/50 border border-gray-700 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500"}),(0,a.jsx)("i",{className:"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("button",{onClick:d,disabled:n,className:"w-full px-3 py-2 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt "+(n?"fa-spin":"")}),n?"Loading...":"Refresh"]})}),n&&(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,a.jsx)("div",{className:"h-16 bg-gray-700 rounded-lg animate-pulse"},e))}),s&&!n&&(0,a.jsxs)("div",{className:"p-4 bg-red-900/30 border border-red-700 rounded-lg text-center",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400 text-lg mb-2"}),(0,a.jsx)("p",{className:"text-red-300 text-sm",children:s}),(0,a.jsx)("button",{onClick:d,className:"mt-2 px-3 py-1 bg-red-600 hover:bg-red-500 text-white rounded text-xs transition-colors",children:"Retry"})]}),!n&&!s&&0===t.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"fas fa-folder-open text-gray-500 text-3xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"No scenarios found"}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Create scenario files in the /scenarios directory"})]}),!n&&!s&&t.length>0&&0===f.length&&(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("i",{className:"fas fa-search text-gray-500 text-3xl mb-3"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"No scenarios match your search"}),(0,a.jsx)("button",{onClick:()=>c(""),className:"mt-2 text-blue-400 hover:text-blue-300 text-xs",children:"Clear search"})]}),!n&&!s&&f.length>0&&(0,a.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:f.map(e=>{const t=(r=e).toLowerCase().includes("security")?{label:"Security",color:"red"}:r.toLowerCase().includes("performance")?{label:"Performance",color:"yellow"}:r.toLowerCase().includes("integration")?{label:"Integration",color:"blue"}:r.toLowerCase().includes("stress")?{label:"Stress",color:"purple"}:{label:"Test",color:"green"};var r;const n=h===e;return(0,a.jsx)("div",{onClick:()=>(e=>{u(e)})(e),className:"p-3 rounded-lg border cursor-pointer transition-all hover:scale-[1.02] "+(n?"bg-blue-600/20 border-blue-500 shadow-lg":"bg-gray-900/50 border-gray-700 hover:bg-gray-900/70 hover:border-gray-600"),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center mr-3 "+(n?"bg-blue-500":"bg-gray-700"),children:(0,a.jsx)("i",{className:`${m(e)} text-white text-sm`})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate "+(n?"text-blue-300":"text-white"),children:e}),(0,a.jsx)("div",{className:"flex items-center mt-1",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full "+("red"===t.color?"bg-red-600/20 text-red-300":"yellow"===t.color?"bg-yellow-600/20 text-yellow-300":"blue"===t.color?"bg-blue-600/20 text-blue-300":"purple"===t.color?"bg-purple-600/20 text-purple-300":"bg-green-600/20 text-green-300"),children:t.label})})]})]}),n&&(0,a.jsx)("i",{className:"fas fa-check text-blue-400 ml-2"})]})},e)})}),!n&&!s&&t.length>0&&(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[(0,a.jsxs)("span",{children:[f.length," scenario",1!==f.length?"s":""]}),h&&(0,a.jsxs)("span",{className:"text-blue-400",children:["Selected: ",h]})]})})]})},lo=t=>{var r,n,i;let{scenarioName:s}=t;const[o,l]=(0,e.useState)("idle"),[c,h]=(0,e.useState)(null),[u,d]=(0,e.useState)(null),[f,m]=(0,e.useState)(!1),[p,g]=(0,e.useState)(0),[x,O]=(0,e.useState)(""),{setReport:v}=so(),y=(0,e.useCallback)(async()=>{try{m(!0);const e=await fetch(`/api/scenarios/${s}`);if(e.ok){const t=await e.json();d(t)}}catch(e){console.error("Error loading scenario details:",e)}finally{m(!1)}},[s]);(0,e.useEffect)(()=>{s&&y()},[s,y]);const b=()=>{switch(o){case"running":return"fas fa-spinner fa-spin";case"finished":return"fas fa-check-circle";case"error":return"fas fa-exclamation-circle";default:return"fas fa-play"}},w=()=>{switch(o){case"running":return"text-blue-400";case"finished":return"text-green-400";case"error":return"text-red-400";default:return"text-gray-400"}};return(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-rocket text-white"})}),"Scenario Runner"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:`${b()} ${w()}`}),(0,a.jsx)("span",{className:`text-sm font-medium ${w()}`,children:(()=>{switch(o){case"running":return"Running";case"finished":return"Completed";case"error":return"Failed";default:return"Ready"}})()})]})]}),s&&(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Selected Scenario"}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-mono text-blue-300 font-semibold",children:s}),f&&(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-gray-400"})]})]})}),u&&(0,a.jsxs)("div",{className:"mb-6 space-y-3",children:[(null===(r=u.metadata)||void 0===r?void 0:r.description)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Description"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:u.metadata.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[u.scenarios&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Test Cases"}),(0,a.jsx)("p",{className:"text-green-300 font-bold text-lg",children:u.scenarios.length})]}),(null===(n=u.metadata)||void 0===n?void 0:n.tags)&&(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700 text-center",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:"Tags"}),(0,a.jsx)("p",{className:"text-purple-300 font-bold text-lg",children:u.metadata.tags.length})]})]}),(null===(i=u.metadata)||void 0===i?void 0:i.tags)&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:u.metadata.tags.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-blue-600/20 text-blue-300",children:e},t))})]}),"running"===o&&(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Progress"}),(0,a.jsxs)("span",{className:"text-sm text-blue-400",children:[Math.round(p),"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-700 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),x&&(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:x})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:async()=>{let e=null;try{l("running"),g(0),O("Initializing scenario..."),h(null);const t=["Validating scenario configuration...","Setting up test environment...","Loading contracts and dependencies...","Executing scenario steps...","Collecting results and metrics...","Generating test report..."];let r=0;e=setInterval(()=>{g(n=>{const i=n+15*Math.random()+5,s=Math.floor(i/100*t.length);return s<t.length&&s!==r&&(r=s,O(t[r])),i>=90?(clearInterval(e),90):i})},800);const n=await fetch(`/api/scenarios/${s}/run`,{method:"POST",headers:{"Content-Type":"application/json"}});if(clearInterval(e),g(100),O("Completed"),!n.ok){const e=await n.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${n.status}`)}const i={...await n.json(),executedAt:(new Date).toISOString(),scenario:s,duration:5*Math.random()+2,testsCount:Math.floor(10*Math.random())+3,gasUsed:Math.floor(5e5*Math.random())+1e5};h(i),v(i),l("finished")}catch(t){clearInterval(e);const r={error:t.message,executedAt:(new Date).toISOString(),scenario:s,status:"failed"};h(r),l("error"),O("Failed"),console.error("Error running scenario:",t)}},disabled:!s||"running"===o,className:"w-full px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2 "+(s&&"running"!==o?"bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-500 hover:to-teal-500 text-white hover:shadow-lg hover:scale-[1.02]":"bg-gray-600 cursor-not-allowed text-gray-400"),children:"running"===o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Running Scenario..."]}):s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-play"}),"Run Scenario"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),"No Scenario Selected"]})})}),c&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg border "+("error"===o?"bg-red-900/30 border-red-700":"bg-green-900/30 border-green-700"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:`${b()} ${w()}`}),(0,a.jsx)("span",{className:`font-medium ${w()}`,children:"error"===o?"Execution Failed":"Execution Completed"})]}),"finished"===o&&(0,a.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-1 rounded-full",children:"SUCCESS"})]}),c.message&&(0,a.jsx)("p",{className:"text-sm mt-2 "+("error"===o?"text-red-300":"text-green-300"),children:c.message}),c.error&&(0,a.jsxs)("p",{className:"text-sm mt-2 text-red-300",children:["Error: ",c.error]})]}),(0,a.jsxs)("button",{onClick:()=>v(c),className:"w-full px-4 py-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white rounded-lg font-medium transition-all flex items-center justify-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-chart-bar"}),"View Full Report"]})]}),!s&&(0,a.jsxs)("div",{className:"text-center py-4",children:[(0,a.jsx)("i",{className:"fas fa-info-circle text-gray-500 text-2xl mb-2"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Select a scenario from the explorer to run tests"})]})]})},co=t=>{let{report:r}=t;const[n,i]=(0,e.useState)("summary");if(!r)return null;const s=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"success":case"passed":case"completed":return"text-green-400";case"failed":case"error":return"text-red-400";case"running":case"pending":return"text-blue-400";case"warning":return"text-yellow-400";default:return"text-gray-400"}},o=e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"success":case"passed":case"completed":return"fas fa-check-circle";case"failed":case"error":return"fas fa-times-circle";case"running":case"pending":return"fas fa-clock";case"warning":return"fas fa-exclamation-triangle";default:return"fas fa-info-circle"}};return(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 shadow-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center text-white",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-600 rounded-lg flex items-center justify-center mr-3",children:(0,a.jsx)("i",{className:"fas fa-chart-bar text-white"})}),"Test Report"]}),(0,a.jsxs)("button",{onClick:()=>{const e=JSON.stringify(r,null,2),t=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(t),i=document.createElement("a");i.href=n,i.download=`scenario-report-${Date.now()}.json`,i.click(),URL.revokeObjectURL(n)},className:"px-3 py-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-download"}),"Export"]})]}),(0,a.jsx)("div",{className:"flex space-x-1 mb-6 p-1 bg-gray-900/50 rounded-lg",children:[{id:"summary",label:"Summary",icon:"fas fa-chart-pie"},{id:"details",label:"Details",icon:"fas fa-list-ul"},{id:"raw",label:"Raw Data",icon:"fas fa-code"}].map(e=>(0,a.jsxs)("button",{onClick:()=>i(e.id),className:"flex-1 px-3 py-2 rounded-md font-medium transition-all flex items-center justify-center gap-2 "+(n===e.id?"bg-blue-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800/50"),children:[(0,a.jsx)("i",{className:e.icon}),e.label]},e.id))}),(0,a.jsxs)("div",{className:"space-y-4",children:["summary"===n&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("i",{className:`${o(r.status)} ${s(r.status)} text-xl`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-semibold",children:r.status||"Unknown Status"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:r.message||"No additional information"})]})]}),r.timestamp&&(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs",children:"Completed"}),(0,a.jsx)("p",{className:"text-gray-300 text-sm",children:(l=r.timestamp,l?new Date(l).toLocaleString():"N/A")})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[void 0!==r.duration&&(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-lg border border-blue-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Duration"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:"number"===typeof r.duration?`${r.duration.toFixed(2)}s`:r.duration})]}),(0,a.jsx)("i",{className:"fas fa-clock text-blue-400 text-xl"})]})}),void 0!==r.testsCount&&(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Tests Run"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:r.testsCount})]}),(0,a.jsx)("i",{className:"fas fa-vial text-green-400 text-xl"})]})}),void 0!==r.gasUsed&&(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Gas Used"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:"number"===typeof r.gasUsed?r.gasUsed.toLocaleString():r.gasUsed})]}),(0,a.jsx)("i",{className:"fas fa-gas-pump text-purple-400 text-xl"})]})})]}),r.error&&(0,a.jsx)("div",{className:"p-4 bg-red-900/30 border border-red-700 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400 text-lg mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-red-300 font-medium mb-2",children:"Error Details"}),(0,a.jsx)("p",{className:"text-red-200 text-sm font-mono bg-red-900/50 p-3 rounded border border-red-800",children:r.error})]})]})})]}),"details"===n&&(0,a.jsxs)("div",{className:"space-y-4",children:[r.tests&&Array.isArray(r.tests)&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-list-check"}),"Test Results"]}),(0,a.jsx)("div",{className:"space-y-2",children:r.tests.map((e,t)=>(0,a.jsx)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("i",{className:`${o(e.status)} ${s(e.status)}`}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-white font-medium",children:e.name||`Test ${t+1}`}),e.description&&(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.description})]})]}),e.duration&&(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:e.duration})]})},t))})]}),Object.entries(r).filter(e=>{let[t]=e;return!["status","message","timestamp","duration","testsCount","gasUsed","error","tests"].includes(t)}).map(e=>{let[t,r]=e;return(0,a.jsxs)("div",{className:"p-3 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsx)("p",{className:"text-gray-400 text-xs font-medium uppercase tracking-wide mb-1",children:t}),(0,a.jsx)("p",{className:"text-gray-300 text-sm break-all",children:"object"===typeof r?JSON.stringify(r,null,2):String(r)})]},t)})]}),"raw"===n&&(0,a.jsxs)("div",{className:"p-4 bg-gray-900/50 rounded-lg border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("p",{className:"text-gray-400 text-sm font-medium",children:"Raw JSON Data"}),(0,a.jsx)(p,{text:JSON.stringify(r,null,2),size:"small",variant:"ghost"})]}),(0,a.jsx)("pre",{className:"text-gray-300 text-xs overflow-x-auto whitespace-pre-wrap bg-gray-900 p-3 rounded border border-gray-800 max-h-96 overflow-y-auto",children:JSON.stringify(r,null,2)})]})]})]});var l},ho=t=>{let{isLoading:r=!1,error:n=null}=t;const{selectedScenario:i,report:s}=so(),[o,l]=(0,e.useState)(0),[c,h]=(0,e.useState)({totalScenarios:0,recentRuns:0,successRate:0});(0,e.useEffect)(()=>{l(0),u()},[]);const u=async()=>{try{const e=await fetch("/api/scenarios");if(e.ok){const t=await e.json();h(e=>({...e,totalScenarios:t.length}))}h(e=>({...e,recentRuns:Math.floor(.6*e.totalScenarios),successRate:e.totalScenarios>0?85:0}))}catch(n){console.error("Error loading scenario stats:",n)}};return r?(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg mr-3"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-32"})]}),(0,a.jsx)("div",{className:"space-y-3",children:[1,2,3,4].map(e=>(0,a.jsx)("div",{className:"h-12 bg-gray-700 rounded-lg"},e))})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700 animate-pulse",children:[(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-gray-700 rounded-lg mr-3"}),(0,a.jsx)("div",{className:"h-6 bg-gray-700 rounded w-40"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-32 bg-gray-700 rounded-lg"}),(0,a.jsx)("div",{className:"h-10 bg-gray-700 rounded-lg"})]})]})]})}):n?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-white text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-400 mb-2",children:"Error Loading Scenarios"}),(0,a.jsx)("p",{className:"text-gray-400 mb-4 max-w-md",children:n.message||"An unexpected error occurred while loading scenarios."}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg hover:from-red-500 hover:to-red-600 transition-all",children:[(0,a.jsx)("i",{className:"fas fa-redo mr-2"}),"Retry"]})]})}):(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-indigo-600 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)("i",{className:"fas fa-play-circle text-white text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"Scenario Runner"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Execute and manage test scenarios for your contracts"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o}ms`},children:(0,a.jsx)(ao,{})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o+100}ms`},children:i?(0,a.jsx)(lo,{scenarioName:i}):(0,a.jsx)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-8 border border-gray-700",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-gray-600 to-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-mouse-pointer text-gray-300 text-xl"})}),(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Select a Scenario"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4 max-w-md",children:"Choose a scenario from the explorer to run tests and view results."}),(0,a.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-400",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left"}),(0,a.jsx)("span",{children:"Select a scenario to get started"})]})]})})}),s&&(0,a.jsx)("div",{className:"animate-slide-up",style:{animationDelay:`${o+200}ms`},children:(0,a.jsx)(co,{report:s})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 animate-slide-up",style:{animationDelay:`${o+300}ms`},children:[(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-green-900/30 to-green-800/30 rounded-lg border border-green-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-green-300 text-sm font-medium",children:"Available Scenarios"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:c.totalScenarios})]}),(0,a.jsx)("i",{className:"fas fa-list text-green-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-blue-900/30 to-blue-800/30 rounded-lg border border-blue-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-blue-300 text-sm font-medium",children:"Recent Runs"}),(0,a.jsx)("p",{className:"text-white text-lg font-bold",children:c.recentRuns})]}),(0,a.jsx)("i",{className:"fas fa-clock text-blue-400 text-xl"})]})}),(0,a.jsx)("div",{className:"p-4 bg-gradient-to-br from-purple-900/30 to-purple-800/30 rounded-lg border border-purple-700/50",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-purple-300 text-sm font-medium",children:"Success Rate"}),(0,a.jsxs)("p",{className:"text-white text-lg font-bold",children:[c.successRate,"%"]})]}),(0,a.jsx)("i",{className:"fas fa-chart-line text-purple-400 text-xl"})]})})]})]})};var uo=__webpack_require__(335),fo=__webpack_require__(653),mo=__webpack_require__(567);const po=t=>{let{onSave:r,onCancel:n}=t;const[i,s]=(0,e.useState)(""),[o,l]=(0,e.useState)('export const metadata = {\n  name: "New Scenario",\n  description: "A new test scenario for smart contract testing",\n  tags: ["integration", "basic"],\n  version: "1.0.0"\n};\n\nexport const scenarios = [\n  {\n    name: "Basic Contract Interaction",\n    description: "Test basic contract deployment and interaction",\n    steps: [\n      {\n        name: "Deploy Contract",\n        action: "deploy",\n        contract: "YourContract",\n        args: []\n      },\n      {\n        name: "Call Function",\n        action: "call",\n        function: "yourFunction",\n        args: [],\n        expect: {\n          success: true\n        }\n      }\n    ]\n  }\n];\n\nexport const setup = async (hre) => {\n  // Setup code before running scenarios\n  console.log("Setting up scenario environment...");\n  \n  // Return any setup data needed by scenarios\n  return {};\n};\n\nexport const teardown = async (hre, setupData) => {\n  // Cleanup code after running scenarios\n  console.log("Cleaning up scenario environment...");\n};\n'),[c,h]=(0,e.useState)(!1),[u,d]=(0,e.useState)({});return(0,a.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center mr-4",children:(0,a.jsx)("i",{className:"fas fa-plus text-white text-xl"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white",children:"New Scenario"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Create a new test scenario for your contracts"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("button",{onClick:n,disabled:c,className:"px-4 py-2 bg-gray-600 hover:bg-gray-500 disabled:bg-gray-700 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),(0,a.jsx)("button",{onClick:async()=>{if((()=>{const e={};i.trim()?/^[a-zA-Z0-9-_]+$/.test(i)||(e.name="Scenario name can only contain letters, numbers, hyphens, and underscores"):e.name="Scenario name is required",o.trim()||(e.content="Scenario content is required");try{new Function(o)}catch(t){e.content=`Syntax error: ${t.message}`}return d(e),0===Object.keys(e).length})())try{h(!0);if(!(await fetch("/api/scenarios",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,content:o})})).ok)throw new Error("Failed to save scenario");r&&r(i)}catch(e){d({save:e.message})}finally{h(!1)}},disabled:c||!i.trim(),className:"px-4 py-2 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 disabled:from-gray-600 disabled:to-gray-700 text-white rounded-lg font-medium transition-all flex items-center gap-2",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-save"}),"Save Scenario"]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center text-white",children:[(0,a.jsx)("i",{className:"fas fa-tag text-blue-400 mr-2"}),"Scenario Details"]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-gray-400 text-sm font-medium mb-2",children:["Scenario Name ",(0,a.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"my-awesome-scenario",className:"w-full bg-gray-900/50 border rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:ring-1 "+(u.name?"border-red-500 focus:border-red-500 focus:ring-red-500":"border-gray-700 focus:border-blue-500 focus:ring-blue-500")}),u.name&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-1",children:u.name}),(0,a.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Use lowercase letters, numbers, hyphens, and underscores only"})]})})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gradient-to-br from-gray-800 to-gray-900 rounded-xl p-6 border border-gray-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold flex items-center text-white",children:[(0,a.jsx)("i",{className:"fas fa-code text-purple-400 mr-2"}),"Scenario Code"]}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:"JavaScript/TypeScript"})]}),(0,a.jsx)("div",{className:"border border-gray-700 rounded-lg overflow-hidden",children:(0,a.jsx)(uo.Ay,{value:o,onChange:e=>l(e),extensions:[(0,fo.Q2)()],theme:mo.bM,style:{fontSize:"14px",minHeight:"400px"},basicSetup:{lineNumbers:!0,foldGutter:!0,dropCursor:!1,allowMultipleSelections:!1,indentOnInput:!0,bracketMatching:!0,closeBrackets:!0,autocompletion:!0,highlightSelectionMatches:!1}})}),u.content&&(0,a.jsx)("p",{className:"text-red-400 text-sm mt-2",children:u.content}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-900/30 border border-blue-700 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("i",{className:"fas fa-info-circle text-blue-400 mt-1"}),(0,a.jsxs)("div",{className:"text-sm text-blue-200",children:[(0,a.jsx)("strong",{children:"Template Structure:"}),(0,a.jsxs)("ul",{className:"mt-1 space-y-1 text-xs",children:[(0,a.jsxs)("li",{children:["\u2022 ",(0,a.jsx)("code",{children:"metadata"})," - Scenario information and tags"]}),(0,a.jsxs)("li",{children:["\u2022 ",(0,a.jsx)("code",{children:"scenarios"})," - Array of test scenarios with steps"]}),(0,a.jsxs)("li",{children:["\u2022 ",(0,a.jsx)("code",{children:"setup"})," - Initialization function (optional)"]}),(0,a.jsxs)("li",{children:["\u2022 ",(0,a.jsx)("code",{children:"teardown"})," - Cleanup function (optional)"]})]})]})]})})]})]}),u.save&&(0,a.jsx)("div",{className:"p-4 bg-red-900/30 border border-red-700 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400"}),(0,a.jsx)("span",{className:"text-red-300",children:u.save})]})})]})};var go=__webpack_require__(768);const xo=()=>{const[t,r]=(0,e.useState)([]),[n,i]=(0,e.useState)([]),[s,o]=(0,e.useState)([]),[l,c]=(0,e.useState)(null),[h,u]=(0,e.useState)(!0),[d,f]=(0,e.useState)(null),[m,p]=(0,e.useState)(!1);(0,e.useEffect)(()=>{(async()=>{try{u(!0),f(null);const[e,t]=await Promise.all([fetch("/api/scenarios"),fetch("/api/scenarios/history")]);if(!e.ok)throw new Error("Failed to fetch scenarios");{const t=await e.json();r(t)}if(t.ok){const e=await t.json();o(e)}else console.warn("Failed to fetch execution history")}catch(e){console.error("Failed to fetch initial data:",e),f(e.message||"Failed to load scenario data")}finally{u(!1)}})()},[]);const g=async e=>{let t=0;const r=setInterval(async()=>{try{if(t++,t>150)return clearInterval(r),p(!1),void f("Execution timed out. Check the execution history for details.");const i=await fetch(`/api/scenarios/history/${e}`);if(i.ok){const e=await i.json();if(c(e),"completed"===e.status||"failed"===e.status){clearInterval(r),p(!1);try{const e=await fetch("/api/scenarios/history");e.ok&&o(await e.json())}catch(n){console.warn("Failed to refresh execution history:",n)}}}else console.warn("Failed to poll execution status")}catch(i){console.error("Error polling execution result:",i)}},2e3)};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[(0,a.jsx)("i",{className:"fas fa-rocket text-primary mr-3"}),"Scenario Runner"]}),(0,a.jsxs)("button",{onClick:()=>window.location.hash="#dashboard",className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Dashboard"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1 artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-list-ul text-blue-400 mr-2"}),"Available Scenarios"]}),h?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-blue-400 mb-2"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading scenarios..."})]})}):d?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-400 text-xl"})}),(0,a.jsx)("p",{className:"text-red-400 mb-2",children:"Failed to Load Scenarios"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:d}),(0,a.jsxs)("button",{onClick:()=>window.location.reload(),className:"mt-3 text-blue-400 hover:text-blue-300 text-sm",children:[(0,a.jsx)("i",{className:"fas fa-refresh mr-1"}),"Retry"]})]}):0===t.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-play-circle text-gray-500 text-xl"})}),(0,a.jsx)("p",{className:"text-gray-400 mb-2",children:"No Scenarios Available"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Create scenarios in your project's scenarios/ directory"})]}):(0,a.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center bg-gray-700 p-3 rounded-lg hover:bg-gray-600 transition-colors",children:[(0,a.jsx)("input",{type:"checkbox",id:`scenario-${e}`,checked:n.includes(e),onChange:()=>{return t=e,void i(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},disabled:m,className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500 disabled:opacity-50"}),(0,a.jsx)("label",{htmlFor:`scenario-${e}`,className:"ml-3 block text-sm font-medium text-gray-300 cursor-pointer flex-1",children:e})]},e))}),(0,a.jsx)("button",{onClick:async()=>{if(0!==n.length)try{p(!0),f(null);const e=await fetch("/api/scenarios/run-batch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenarios:n})});if(!e.ok)throw new Error("Failed to start scenario execution");const t=await e.json();g(t.executionId)}catch(e){console.error("Failed to run scenarios:",e),f(e.message||"Failed to start scenario execution"),p(!1)}},disabled:0===n.length||m||h,className:"mt-4 w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:bg-gray-500 disabled:cursor-not-allowed flex items-center justify-center transition-colors",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Running..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-play mr-2"}),"Run Selected (",n.length,")"]})})]}),(0,a.jsxs)("div",{className:"lg:col-span-2 artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-chart-line text-green-400 mr-2"}),"Execution Results"]}),l?(0,a.jsx)(co,{report:l}):m?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-rocket text-blue-400 text-xl animate-pulse"})}),(0,a.jsx)("p",{className:"text-blue-400 font-medium mb-2",children:"Execution in Progress"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Running ",n.length," scenario(s)..."]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-chart-line text-gray-500 text-xl"})}),(0,a.jsx)("p",{className:"text-gray-400 mb-2",children:"Ready to Run Scenarios"}),(0,a.jsx)("p",{className:"text-gray-500",children:'Select scenarios and click "Run Selected" to see the results.'})]})]})]}),(0,a.jsxs)("div",{className:"artifact-card bg-gray-800 rounded-xl p-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-history text-indigo-400 mr-2"}),"Execution History"]}),0===s.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("i",{className:"fas fa-history text-gray-500 text-xl"})}),(0,a.jsx)("p",{className:"text-gray-400 mb-2",children:"No Execution History"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Run scenarios to see execution history here"})]}):(0,a.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gray-700 p-4 rounded-lg hover:bg-gray-600 transition-colors",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-white truncate",children:e.id}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:new Date(e.timestamp).toLocaleString()}),e.duration&&(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:["Duration: ",Math.round(e.duration/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"text-right mx-4",children:[(0,a.jsx)("p",{className:"font-bold "+("completed"===e.status?"text-green-400":"failed"===e.status?"text-red-400":"text-yellow-400"),children:e.status.toUpperCase()}),(0,a.jsxs)("p",{className:"text-sm text-gray-400",children:[e.summary.passed,"/",e.summary.total," passed"]})]}),(0,a.jsxs)("button",{onClick:()=>c(e),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded-lg flex items-center transition-colors flex-shrink-0",children:[(0,a.jsx)("i",{className:"fas fa-eye mr-1"}),"View"]})]},e.id))})]})]})},Oo=t=>{var r;let{isOpen:n,onClose:i,transactionHash:s,network:o}=t;const[l,c]=(0,e.useState)(null),[h,u]=(0,e.useState)(!1),[d,f]=(0,e.useState)(null),[m,g]=(0,e.useState)("overview"),x=(0,e.useCallback)(async()=>{u(!0),f(null);try{const e=await fetch(`/api/transactions/${s}`);if(!e.ok)throw new Error(`Failed to fetch transaction details: ${e.statusText}`);const t=await e.json();c(t)}catch(e){f(e.message)}finally{u(!1)}},[s]);(0,e.useEffect)(()=>{n&&s&&x()},[n,s,o,x]);const O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;if(!e||"0"===e)return"0";return(parseFloat(e)/Math.pow(10,t)).toFixed(6)},v=e=>e?parseInt(e).toLocaleString():"0",y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e?`${e.slice(0,t)}...${e.slice(-8)}`:""};return n?(0,a.jsx)("div",{className:"transaction-modal-overlay",onClick:i,children:(0,a.jsxs)("div",{className:"transaction-modal",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"transaction-modal-header",children:[(0,a.jsx)("h2",{children:"Transaction Details"}),(0,a.jsx)("button",{className:"close-button",onClick:i,children:"\xd7"})]}),h&&(0,a.jsxs)("div",{className:"transaction-modal-loading",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("p",{children:"Loading transaction details..."})]}),d&&(0,a.jsxs)("div",{className:"transaction-modal-error",children:[(0,a.jsxs)("p",{children:["Error: ",d]}),(0,a.jsx)("button",{onClick:x,children:"Retry"})]}),l&&(0,a.jsxs)("div",{className:"transaction-modal-content",children:[(0,a.jsxs)("div",{className:"transaction-header",children:[(0,a.jsxs)("div",{className:"transaction-hash",children:[(0,a.jsx)("span",{className:"label",children:"Transaction Hash:"}),(0,a.jsxs)("div",{className:"hash-container",children:[(0,a.jsx)("code",{children:l.hash}),(0,a.jsx)(p,{text:l.hash})]})]}),(0,a.jsx)("div",{className:"transaction-status",style:{backgroundColor:(w=l.status,1===w?"#10b981":"#ef4444")},children:(e=>1===e?"Success":"Failed")(l.status)})]}),(0,a.jsxs)("div",{className:"transaction-tabs",children:[(0,a.jsx)("button",{className:"tab "+("overview"===m?"active":""),onClick:()=>g("overview"),children:"Overview"}),l.decodedFunction&&(0,a.jsx)("button",{className:"tab "+("function"===m?"active":""),onClick:()=>g("function"),children:"Function Call"}),l.decodedEvents&&l.decodedEvents.length>0&&(0,a.jsxs)("button",{className:"tab "+("events"===m?"active":""),onClick:()=>g("events"),children:["Events (",l.decodedEvents.length,")"]}),(0,a.jsx)("button",{className:"tab "+("raw"===m?"active":""),onClick:()=>g("raw"),children:"Raw Data"})]}),(0,a.jsxs)("div",{className:"tab-content",children:["overview"===m&&(0,a.jsx)("div",{className:"overview-tab",children:(0,a.jsxs)("div",{className:"info-grid",children:[(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Block Number:"}),(0,a.jsx)("span",{className:"value",children:null===(r=l.blockNumber)||void 0===r?void 0:r.toLocaleString()})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Confirmations:"}),(0,a.jsx)("span",{className:"value",children:l.confirmations})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Timestamp:"}),(0,a.jsx)("span",{className:"value",children:(b=l.timestamp,b?new Date(1e3*b).toLocaleString():"Unknown")})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"From:"}),(0,a.jsxs)("div",{className:"address-container",children:[(0,a.jsx)("code",{children:l.from}),(0,a.jsx)(p,{text:l.from})]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"To:"}),(0,a.jsxs)("div",{className:"address-container",children:[(0,a.jsx)("code",{children:l.to||"Contract Creation"}),l.to&&(0,a.jsx)(p,{text:l.to})]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Value:"}),(0,a.jsxs)("span",{className:"value",children:[O(l.value)," ETH"]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Gas Limit:"}),(0,a.jsx)("span",{className:"value",children:v(l.gasLimit)})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Gas Used:"}),(0,a.jsx)("span",{className:"value",children:v(l.gasUsed)})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Gas Price:"}),(0,a.jsxs)("span",{className:"value",children:[O(l.gasPrice,9)," Gwei"]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Transaction Fee:"}),(0,a.jsxs)("span",{className:"value",children:[O(l.transactionFee)," ETH"]})]}),(0,a.jsxs)("div",{className:"info-row",children:[(0,a.jsx)("span",{className:"label",children:"Nonce:"}),(0,a.jsx)("span",{className:"value",children:l.nonce})]})]})}),"function"===m&&l.decodedFunction&&(0,a.jsxs)("div",{className:"function-tab",children:[(0,a.jsxs)("div",{className:"function-info",children:[(0,a.jsxs)("h3",{children:["Function Call: ",l.decodedFunction.name]}),(0,a.jsxs)("p",{className:"function-signature",children:[(0,a.jsx)("strong",{children:"Signature:"})," ",l.decodedFunction.signature]})]}),l.decodedFunction.inputs&&(0,a.jsxs)("div",{className:"function-inputs",children:[(0,a.jsx)("h4",{children:"Parameters:"}),(0,a.jsx)("div",{className:"inputs-list",children:l.decodedFunction.inputs.map((e,t)=>(0,a.jsxs)("div",{className:"input-item",children:[(0,a.jsxs)("div",{className:"input-header",children:[(0,a.jsx)("span",{className:"input-name",children:e.name||`param${t}`}),(0,a.jsx)("span",{className:"input-type",children:e.type})]}),(0,a.jsx)("div",{className:"input-value",children:(0,a.jsx)(Se,{code:JSON.stringify(e.value,null,2),language:"json"})})]},t))})]})]}),"events"===m&&l.decodedEvents&&(0,a.jsxs)("div",{className:"events-tab",children:[(0,a.jsx)("h3",{children:"Events & Logs"}),(0,a.jsx)("div",{className:"events-list",children:l.decodedEvents.map((e,t)=>{var r,n,i;return(0,a.jsxs)("div",{className:"event-item",children:[(0,a.jsx)("div",{className:"event-header",children:(0,a.jsxs)("div",{className:"event-info",children:[(0,a.jsx)("h4",{children:(null===(r=e.decoded)||void 0===r?void 0:r.name)||"Unknown Event"}),(0,a.jsxs)("div",{className:"event-address",children:[(0,a.jsx)("span",{children:"Contract: "}),(0,a.jsx)("code",{children:y(e.address)}),(0,a.jsx)(p,{text:e.address})]})]})}),(null===(n=e.decoded)||void 0===n?void 0:n.signature)&&(0,a.jsxs)("p",{className:"event-signature",children:[(0,a.jsx)("strong",{children:"Signature:"})," ",e.decoded.signature]}),(null===(i=e.decoded)||void 0===i?void 0:i.inputs)&&(0,a.jsxs)("div",{className:"event-inputs",children:[(0,a.jsx)("h5",{children:"Parameters:"}),e.decoded.inputs.map((e,t)=>(0,a.jsxs)("div",{className:"input-item",children:[(0,a.jsxs)("div",{className:"input-header",children:[(0,a.jsx)("span",{className:"input-name",children:e.name||`param${t}`}),(0,a.jsx)("span",{className:"input-type",children:e.type}),e.indexed&&(0,a.jsx)("span",{className:"indexed-badge",children:"indexed"})]}),(0,a.jsx)("div",{className:"input-value",children:(0,a.jsx)(Se,{code:JSON.stringify(e.value,null,2),language:"json"})})]},t))]}),!e.decoded&&(0,a.jsxs)("div",{className:"raw-log",children:[(0,a.jsx)("h5",{children:"Raw Log Data:"}),(0,a.jsxs)("div",{className:"log-topics",children:[(0,a.jsx)("strong",{children:"Topics:"}),e.topics.map((e,t)=>(0,a.jsx)("div",{className:"topic",children:(0,a.jsx)("code",{children:e})},t))]}),(0,a.jsxs)("div",{className:"log-data",children:[(0,a.jsx)("strong",{children:"Data:"}),(0,a.jsx)(Se,{code:e.data||"0x",language:"text"})]})]})]},t)})})]}),"raw"===m&&(0,a.jsxs)("div",{className:"raw-tab",children:[(0,a.jsx)("h3",{children:"Raw Transaction Data"}),(0,a.jsxs)("div",{className:"raw-data",children:[(0,a.jsxs)("div",{className:"raw-section",children:[(0,a.jsx)("h4",{children:"Input Data:"}),(0,a.jsx)(Se,{code:l.data||"0x",language:"text"})]}),(0,a.jsxs)("div",{className:"raw-section",children:[(0,a.jsx)("h4",{children:"Complete Transaction Object:"}),(0,a.jsx)(Se,{code:JSON.stringify({hash:l.hash,blockNumber:l.blockNumber,blockHash:l.blockHash,from:l.from,to:l.to,value:l.value,gasLimit:l.gasLimit,gasUsed:l.gasUsed,gasPrice:l.gasPrice,nonce:l.nonce,data:l.data,status:l.status},null,2),language:"json"})]})]})]})]})]})]})}):null;var b,w},vo=e=>"Diamond"===e.contractName||e.abi.some(e=>"diamondCut"===e.name||"facets"===e.name||"facetAddress"===e.name||"facetFunctionSelectors"===e.name||"event"===e.type&&"DiamondCut"===e.name||"fallback"===e.type||"function"===e.type&&"diamondAddress"===e.name),yo=t=>{let{initialDeployments:r,onNavigateToScenarioRunner:n}=t;const[i,s]=(0,e.useState)(r||[]),[o,l]=(0,e.useState)(r||[]),[c,h]=(0,e.useState)(null),[f,p]=(0,e.useState)("overview"),[g,x]=(0,e.useState)(null),[O,v]=(0,e.useState)(()=>JSON.parse(localStorage.getItem("favorites"))||[]),[y,b]=(0,e.useState)([]),[w,k]=(0,e.useState)("localhost"),[S,N]=(0,e.useState)(""),[j,_]=(0,e.useState)(null),[A,P]=(0,e.useState)(!0),[E,Q]=(0,e.useState)("dashboard"),[C,M]=(0,e.useState)(!1),[T,R]=(0,e.useState)(null),[$,D]=(0,e.useState)(null),[L,I]=(0,e.useState)(!1),[Z,B]=(0,e.useState)(null);(0,e.useEffect)(()=>{r&&r.length>0&&(s(r),l(r))},[r]),(0,e.useEffect)(()=>{(async()=>{P(!0),_(null);try{const e=await fetch("/api/project-info"),t=await e.json();b(t.networks),x(t.hardhatVersion);const r=await fetch(`/api/deployments/${w}`),n=await r.json();s(n)}catch(e){console.error("Failed to fetch initial data:",e),_("Failed to connect to the server. Is Hardhat running?")}finally{P(!1)}})()},[w]),(0,e.useEffect)(()=>{const e=i.filter(e=>e.contractName.toLowerCase().includes(S.toLowerCase()));l(e)},[S,i]);const z=e=>{h(e),D(null),Q("contract");const t=vo(e);I(t),p(t?"diamond-overview":"overview")},q=e=>{e&&e.selectedFacet?(Q("contract"),h(e),D(e.selectedFacet),I(!0),p(`facet-${e.selectedFacet.address}`)):D(null)},U=e=>{R(e),M(!0)},X=()=>{Q("dashboard"),h(null),D(null),I(!1)},F=()=>{Q("contracts"),h(null),D(null),I(!1)},V=()=>{Q("transactions"),h(null),D(null),I(!1)},Y=()=>{Q("events"),h(null),D(null),I(!1)},W=()=>{Q("scenarios"),h(null),D(null),I(!1)},G=()=>{Q("scenario-runner"),h(null),D(null),I(!1)},H=e=>{Q("scenarios"),B(null)},K=()=>{Q("dashboard"),B(null)};return(0,a.jsxs)("div",{className:"bg-gray-900 text-gray-100 min-h-screen flex flex-col md:flex-row",children:[(0,a.jsx)(u,{deployments:o,selectedDeployment:c,onSelectDeployment:z,title:"Hardhat Explorer",version:g,favorites:O,onToggleFavorite:e=>{const t=O.includes(e)?O.filter(t=>t!==e):[...O,e];v(t),localStorage.setItem("favorites",JSON.stringify(t))},onSearch:N,onNetworkChange:k,networks:y,currentNetwork:w,onSelectFacet:q,selectedFacet:$,currentView:E,onNavigateToDashboard:X,onNavigateToNewScenario:()=>{Q("new-scenario"),h(null),D(null),I(!1),B(null)},onNavigateToEditScenario:e=>{Q("edit-scenario"),h(null),D(null),I(!1),B(e)},onNavigateToScenarioRunner:G}),(0,a.jsx)("div",{className:"flex-1 flex flex-col",children:(()=>{if(A)return(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin text-3xl text-primary mb-4"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Loading..."})]})});if(j)return(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-3xl text-red-500 mb-4"}),(0,a.jsx)("p",{className:"text-red-400",children:j})]})});switch(E){case"dashboard":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(no,{deployments:i,network:w,onNavigateToContracts:F,onNavigateToTransactions:V,onNavigateToEvents:Y,onNavigateToScenarios:W,onNavigateToScenarioRunner:G,onSelectDeployment:z})});case"contract":return c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{deployment:c}),L?(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(to,{deployment:c,selectedFacet:$,onSelectFacet:q,network:w,activeTab:f,onTabClick:p,onTransactionClick:U})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{activeTab:f,onTabClick:p,deployment:c}),(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(eo,{activeTab:f,deployment:c,onTransactionClick:U})})]})]}):(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsx)("p",{className:"text-gray-400",children:"No contract selected."})});case"contracts":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[(0,a.jsx)("i",{className:"fas fa-file-contract text-primary mr-3"}),"All Contracts"]}),(0,a.jsxs)("button",{onClick:X,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Dashboard"]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(e=>{const t=vo(e);return(0,a.jsxs)("div",{className:"artifact-card bg-gray-800 rounded-xl p-6 cursor-pointer hover:bg-gray-700 transition-colors",onClick:()=>z(e),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("h4",{className:"font-bold text-blue-300 flex items-center",children:[(0,a.jsx)("i",{className:(t?"fas fa-gem text-yellow-500":"fas fa-file-contract text-blue-400")+" mr-2"}),e.contractName,t&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-yellow-600 px-2 py-1 rounded",children:"DIAMOND"})]}),(0,a.jsx)("i",{className:"fas fa-arrow-right text-gray-500"})]}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Address:"}),(0,a.jsxs)("span",{className:"font-mono text-purple-300",children:[e.address.slice(0,10),"..."]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Functions:"}),(0,a.jsx)("span",{className:"text-green-300",children:e.abi.filter(e=>"function"===e.type).length})]})]})]},e.address)})})]})});case"transactions":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[(0,a.jsx)("i",{className:"fas fa-exchange-alt text-primary mr-3"}),"All Transactions"]}),(0,a.jsxs)("button",{onClick:X,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Dashboard"]})]}),(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-teal-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("i",{className:"fas fa-exchange-alt text-white text-2xl"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Transaction History"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg mb-4",children:"View transactions from individual contract pages"}),(0,a.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Transaction details are available when viewing specific contracts. Select a contract from the sidebar to see its transaction history."}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)("button",{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center mx-auto transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-file-contract mr-2"}),"View Contracts"]})})]})]})});case"events":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[(0,a.jsx)("i",{className:"fas fa-bell text-primary mr-3"}),"All Events"]}),(0,a.jsxs)("button",{onClick:X,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Dashboard"]})]}),(0,a.jsxs)("div",{className:"text-center py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)("i",{className:"fas fa-bell text-white text-2xl"})}),(0,a.jsx)("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Event Logs"}),(0,a.jsx)("p",{className:"text-gray-400 text-lg mb-4",children:"Monitor events from individual contracts"}),(0,a.jsx)("p",{className:"text-gray-500 max-w-md mx-auto",children:"Event monitoring and filtering are available when viewing specific contracts. Select a contract to monitor its events in real-time."}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)("button",{onClick:F,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center mx-auto transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-file-contract mr-2"}),"View Contracts"]})})]})]})});case"scenarios":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-white",children:[(0,a.jsx)("i",{className:"fas fa-play-circle text-primary mr-3"}),"Scenarios"]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("button",{onClick:G,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors mr-2",children:[(0,a.jsx)("i",{className:"fas fa-rocket mr-2"}),"Go to Scenario Runner"]}),(0,a.jsxs)("button",{onClick:X,className:"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-arrow-left mr-2"}),"Back to Dashboard"]})]})]}),(0,a.jsx)(ho,{})]})});case"new-scenario":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(po,{onSave:H,onCancel:K})});case"edit-scenario":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(go.A,{scenarioName:Z,onSave:H,onCancel:K})});case"scenario-runner":return(0,a.jsx)("div",{className:"flex-1 overflow-auto p-4",children:(0,a.jsx)(xo,{})});default:return(0,a.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,a.jsxs)("p",{className:"text-gray-400",children:["Unknown view: ",E]})})}})()}),(0,a.jsx)(Oo,{isOpen:C,onClose:()=>{M(!1),R(null)},transactionHash:T,network:w})]})};const bo=function(){const[t,r]=(0,e.useState)("loading"),[n,i]=(0,e.useState)([]);return(0,e.useEffect)(()=>{(async()=>{try{const t=["localhost","hardhat","mainnet","sepolia","goerli","polygon","arbitrum"];let n=null,s=null;for(const r of t)try{const e=await fetch(`/api/deployments/${r}`);if(e.ok){const t=await e.json();if(t&&t.length>0){n=t,s=r;break}}}catch(e){continue}if(n&&n.length>0)return console.log(`\ud83c\udfaf Found existing deployments on ${s} network, loading Admin UI directly`),i(n),void r("explorer");console.log("\ud83d\udce6 No existing deployments found on any network, showing deployment view"),r("deploying")}catch(t){console.log("\u26a0\ufe0f Could not check for existing deployments, showing deployment view"),r("deploying")}})()},[]),"loading"===t?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"glass-card p-8 text-center",children:[(0,a.jsx)("div",{className:"spinner mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Loading Hardhat Admin UI..."}),(0,a.jsx)("p",{className:"text-slate-400 mt-2",children:"Checking for existing deployments"})]})}):(0,a.jsx)(oo,{children:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:"deploying"===t?(0,a.jsx)(l,{onDeploymentComplete:e=>{i(e),r("explorer")}}):"explorer"===t?(0,a.jsx)(yo,{initialDeployments:n,onNavigateToScenarioRunner:()=>{r("scenario-runner")}}):"scenario-runner"===t?(0,a.jsx)(xo,{onNavigateBack:()=>{r("explorer")}}):null})})};t.createRoot(document.getElementById("root")).render((0,a.jsx)(e.StrictMode,{children:(0,a.jsx)(bo,{})}))})()})();